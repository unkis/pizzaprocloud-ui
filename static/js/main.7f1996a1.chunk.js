(window.webpackJsonpfrontend2=window.webpackJsonpfrontend2||[]).push([[0],{189:function(e,t,a){e.exports=a(371)},198:function(e,t,a){},326:function(e,t,a){},328:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(8),i=a.n(o),u=a(52),l=a(30),s=a(75),d=a(12),m=a(21),p=a(17),f="ADD_TO_FORM_DATA",b="UPDATE_ALL_FIELDS",O="CLEAR_ALL_FIELDS";!function(e){e[e.ADD_PRODUCT_TO_CART=0]="ADD_PRODUCT_TO_CART",e[e.ADD_ADDITION_TO_PRODUCT_IN_CART=1]="ADD_ADDITION_TO_PRODUCT_IN_CART",e[e.DELETE_PRODUCT_FROM_CART=2]="DELETE_PRODUCT_FROM_CART",e[e.DELETE_ADDITION_OF_PRODUCT_FROM_CART=3]="DELETE_ADDITION_OF_PRODUCT_FROM_CART",e[e.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART=4]="INCREMENT_QUANTITY_OF_PRODUCT_IN_CART",e[e.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART=5]="DECREMENT_QUANTITY_OF_PRODUCT_IN_CART",e[e.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT=6]="INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT",e[e.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT=7]="DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT"}(r||(r={}));var y,g=function(e,t){return{type:f,fieldName:e,fieldValue:t}},E={customerNumber:"customerNumber",phoneNumber:"phoneNumber",name:"name",street:"street",houseNumber:"houseNumber",plz:"plz",city:"city",clientComment:"clientComment",deliveryCost:"deliveryCost",article:"article",quantity:"quantity",productName:"productName",price:"price"},_=["0,00","0,50","1,00","1,50","2,00","2,50","3,00"];function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h=(y={},Object(p.a)(y,E.customerNumber,""),Object(p.a)(y,E.phoneNumber,""),Object(p.a)(y,E.customerNumber,""),Object(p.a)(y,E.phoneNumber,""),Object(p.a)(y,E.name,""),Object(p.a)(y,E.street,""),Object(p.a)(y,E.houseNumber,""),Object(p.a)(y,E.plz,""),Object(p.a)(y,E.city,""),Object(p.a)(y,E.clientComment,""),Object(p.a)(y,E.deliveryCost,_[0]),y),N=[],C=Object(s.b)({languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lang:"ru"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LANGUAGE":return{lang:t.lang};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{role:"",code:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":var a=t.role,r=t.code;return{role:a,code:r};case"LOGOUT_USER":return j({},e,{role:""});default:return e}},formDataState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return j({},e,Object(p.a)({},t.fieldName,t.fieldValue));case b:for(var a=j({},e),r=0,n=Object.entries(t.newState);r<n.length;r++){var c=n[r],o=Object(m.a)(c,2),i=o[0],u=o[1];a[i]=u}return a;case O:return j({},h);default:return e}},cartProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_PRODUCT_TO_CART:var a=t.id,n=t.article,c=t.productName,o=t.price,i=t.tax;if(e[e.length-1]&&e[e.length-1].id===a){var u=e[e.length-1].quantity;return[].concat(Object(d.a)(e.slice(0,-1)),[j({},e[e.length-1],{quantity:u+1})])}return[].concat(Object(d.a)(e),[{id:a,article:n,productName:c,price:o,tax:i,quantity:1}]);case r.ADD_ADDITION_TO_PRODUCT_IN_CART:var l=t.productIdx,s=t.additionId,m=t.additionName,p=t.additionPrice,f=t.additionTax,b=l;if(-1!==b){var O=e[b].additions;if(e[b]&&Array.isArray(O)){var y=O.findIndex(function(e){return e.id===s});if(-1!==y&&Array.isArray(e[b].additions)){var g=O[y].quantity;return[].concat(Object(d.a)(e.slice(0,b)),-1!==g?[j({},e[b],{additions:[].concat(Object(d.a)(O.slice(0,y)),[j({},O[y],{quantity:g+1})],Object(d.a)(O.slice(y+1)))})]:[j({},e[b],{additions:[].concat(Object(d.a)(O.slice(0,y)),Object(d.a)(O.slice(y+1)))})],Object(d.a)(e.slice(b+1)))}var E=e[b].additions;return[].concat(Object(d.a)(e.slice(0,b)),void 0!==E?[j({},e[b],{additions:[].concat(Object(d.a)(E),[{id:s,productName:m,price:p,tax:f,quantity:1}])})]:[j({},e[b],{additions:[{id:s,productName:m,price:p,tax:f,quantity:1}]})],Object(d.a)(e.slice(b+1)))}return[].concat(Object(d.a)(e.slice(0,b)),[j({},e[b],{additions:[{id:s,productName:m,price:p,tax:f,quantity:1}]})],Object(d.a)(e.slice(b+1)))}return e;case r.DELETE_PRODUCT_FROM_CART:var _=t.productIdx;return e.filter(function(e,t){return t!==_});case r.DELETE_ADDITION_OF_PRODUCT_FROM_CART:var v=t.productIdx,h=t.additionId,C=v;if(console.log(v),-1!==C){var T=e[C].additions;if(T)return[].concat(Object(d.a)(e.slice(0,C)),[j({},e[C],{additions:T.filter(function(e){return e.id!==h})})],Object(d.a)(e.slice(C+1)))}return e;case r.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART:var D=t.productIdx,I=D;return-1!==I?[].concat(Object(d.a)(e.slice(0,I)),[j({},e[I],{quantity:e[I].quantity+1})],Object(d.a)(e.slice(I+1))):e;case r.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART:var x=t.productIdx,A=x;if(-1!==A){var w=e[A].quantity;return w>1?[].concat(Object(d.a)(e.slice(0,A)),[j({},e[A],{quantity:w-1})],Object(d.a)(e.slice(A+1))):[].concat(Object(d.a)(e.slice(0,A)),Object(d.a)(e.slice(A+1)))}return e;case r.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT:var R=t.productIdx,k=t.additionId,S=R;if(-1!==S){var P=e[S].additions;if(P){var F=P.findIndex(function(e){return e.id===k});if(-1!==F){var U=P[F],q=U.quantity;return[].concat(Object(d.a)(e.slice(0,S)),-1!==q?[j({},e[S],{additions:[].concat(Object(d.a)(P.slice(0,F)),[j({},U,{quantity:q+1})],Object(d.a)(P.slice(F+1)))})]:[j({},e[S],{additions:[].concat(Object(d.a)(P.slice(0,F)),Object(d.a)(P.slice(F+1)))})],Object(d.a)(e.slice(S+1)))}}}return e;case r.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT:var L=t.productIdx,M=t.additionId,z=t.productName,K=t.price,Q=t.tax,Y=L;if(-1!==Y){var B=e[Y].additions;if(B){var V=B.findIndex(function(e){return e.id===M});if(-1!==V){var G=B[V];return 1!==G.quantity?[].concat(Object(d.a)(e.slice(0,Y)),[j({},e[Y],{additions:[].concat(Object(d.a)(B.slice(0,V)),[j({},G,{quantity:G.quantity-1})],Object(d.a)(B.slice(V+1)))})],Object(d.a)(e.slice(Y+1))):[].concat(Object(d.a)(e.slice(0,Y)),[j({},e[Y],{additions:[].concat(Object(d.a)(B.slice(0,V)),Object(d.a)(B.slice(V+1)))})],Object(d.a)(e.slice(Y+1)))}return[].concat(Object(d.a)(e.slice(0,Y)),[j({},e[Y],{additions:[].concat(Object(d.a)(B),[{id:M,productName:z,price:K,tax:Q,quantity:-1}])})])}}return e;default:return e}}}),T=localStorage.getItem("testIndex")&&JSON.parse(localStorage.getItem("testIndex"))?JSON.parse(localStorage.getItem("pizza-redux")):null,D=T?Object(s.c)(C,T):Object(s.c)(C);localStorage.setItem("testIndex",JSON.stringify(!0)),D.subscribe(function(){return localStorage.setItem("pizza-redux",JSON.stringify(D.getState()))});var I,x=D,A=(a(198),a(56)),w=a(372),R=a(53),k=a(376),S=a(57),P=a(373),F=a(375),U=a(378),q=a(185),L={customers:[{customerNumber:1},{customerNumber:2},{customerNumber:3},{customerNumber:33,phoneNumber:89821251216,deliveryCost:"2,50",name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",street:"\u0423\u043b\u0438\u0447\u043d\u0430\u044f",houseNumber:"16",plz:"123456",city:"\u041c\u043e\u0441\u043a\u0432\u0430"},{customerNumber:333}],products:[{id:1,article:"1",productName:"Pizza Margherita",price:10,tax:"19",type:"product"},{id:2,article:"1k",productName:"Pizza Margherita klein",price:5,tax:"19",type:"product"},{id:3,article:"105",productName:"Salat Capri",price:10,tax:"7",type:"product"},{id:4,article:"105g",productName:"Salat capri gro\xdf",price:15,tax:"7",type:"product"},{id:5,productName:"Ananas",price:1,tax:"19",type:"addition"},{id:6,productName:"Salami",price:.5,tax:"19",type:"addition"},{id:7,productName:"kl. Tomaten",price:.5,tax:"19",type:"addition"},{id:8,productName:"ohne Zwiebeln",price:0,tax:"19",type:"addition"},{id:9,productName:"extra K\xe4se",price:1,tax:"7",type:"addition"},{id:10,productName:"extra K\xe4se gross",price:1.5,tax:"7",type:"addition"}]},M=function(e){return""===e?L.products.slice(0,10):(e=e.toLowerCase(),L.products.filter(function(t){var a=t.article,r=t.productName;return a&&a.toLowerCase().includes(e.toLowerCase())||r.toLowerCase().includes(e.toLowerCase())}))},z=L,K={ru:{authTitle:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",organizationNumber:"\u041d\u043e\u043c\u0435\u0440 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",username:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",password:"\u041f\u0430\u0440\u043e\u043b\u044c",autoLogin:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f",login:"\u0412\u043e\u0439\u0442\u0438",tableOrders:"Tischbestellungen",selfPickUp:"Selbstabholer",sales:"Hausverkauf",phoneMonitor:"Telefon monitor",customerNumber:"\u041d\u043e\u043c\u0435\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",phoneNumber:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"\u0418\u043c\u044f",street:"\u0423\u043b\u0438\u0446\u0430",houseNumber:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",plz:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",city:"\u0413\u043e\u0440\u043e\u0434",clientComment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",deliveryCost:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",goToOrder:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",logout:"\u0412\u044b\u0439\u0442\u0438",callForm:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",allOrders:"\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b",cookingMonitor:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u043a\u0443\u0445\u043d\u0438",carMonitor:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",report:"\u041e\u0442\u0447\u0435\u0442",settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",help:"\u041f\u043e\u043c\u043e\u0449\u044c",quantity:"\u041a\u043e\u043b-\u0432\u043e",article:"\u0410\u0440\u0442.",productName:"\u041d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440\u0430",price:"\u0426\u0435\u043d\u0430",back:"\u041d\u0430\u0437\u0430\u0434",freeDelivery:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430",print:"\u041f\u0435\u0447\u0430\u0442\u044c",comment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430",goods:"\u0422\u043e\u0432\u0430\u0440\u044b",additions:"\u0414\u043e\u0431\u0430\u0432\u043a\u0438",discount:"\u0421\u043a\u0438\u0434\u043a\u0430",totalPrice:"\u041e\u0431\u0449\u0430\u044f \u0446\u0435\u043d\u0430",tax_7:"\u041d\u0430\u043b\u043e\u0433 7%",tax_19:"\u041d\u0430\u043b\u043e\u0433 19%",articlePrices:"\u041d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440\u0430"},de:{authTitle:"Restaurant-Login",organizationNumber:"Kundennumer",username:"Benutzername",password:"Passwort",autoLogin:"Automatisch Anmelden",login:"Login",tableOrders:"Tischbestellungen",selfPickUp:"Selbstabholer",sales:"Hausverkauf",phoneMonitor:"Telefon monitor",customerNumber:"Kundennummer",phoneNumber:"Telefonnumer",name:"Name",street:"Strasse",houseNumber:"Hausnummer",plz:"PLZ",city:"Stadt",clientComment:"Bemerkung",deliveryCost:"Anfahrtskosten",clear:"L\xf6schen",goToOrder:"Bestellung",logout:"Logout",callForm:"Lieferdienst",allOrders:"Alle Bestellungen",cookingMonitor:"Kuchen monitor",carMonitor:"Fahrer monitor",report:"Berichten",settings:"Einstellungen",help:"Hilfe",quantity:"Anzahl",article:"Karte Nr.",productName:"Name von Artiel",price:"Preise",back:"Zuruck",freeDelivery:"Anfahrtkosten Frei",print:"Drucken",comment:"Hinweis",goods:"Artikel",additions:"Zutaten",discount:"Rabatt",totalPrice:"Gesamt preis",tax_7:"MWST 7%",tax_19:"MWST 19%",articlePrices:"Artikel"}},Q="/pizzaprocloud-ui";function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}var B=w.a.Header,V=w.a.Content,G=R.a.Option,H={labelCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}},wrapperCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}}},J={ADD_TO_DATA_SOURCE:"ADD_TO_DATA_SOURCE"};function W(e,t){switch(t.type){case J.ADD_TO_DATA_SOURCE:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,Object(p.a)({},t.dataSourceName,t.dataSourceData))}}var Z=function(e,t){return{type:J.ADD_TO_DATA_SOURCE,dataSourceName:e,dataSourceData:t}},X=(I={},Object(p.a)(I,E.customerNumber,[]),Object(p.a)(I,E.phoneNumber,[]),Object(p.a)(I,E.customerNumber,[]),Object(p.a)(I,E.phoneNumber,[]),Object(p.a)(I,E.name,[]),Object(p.a)(I,E.street,[]),Object(p.a)(I,E.houseNumber,[]),Object(p.a)(I,E.plz,[]),Object(p.a)(I,E.city,[]),Object(p.a)(I,E.clientComment,[]),Object(p.a)(I,E.deliveryCost,[]),I),$=k.a.create({name:"delivery_form"})(Object(l.b)(function(e){return{formDataState:e.formDataState,lang:e.languages.lang}},function(e){return{addDataToFormData:function(t,a){e(g(t,a))},updateFieldsOfFormData:function(t){e(function(e){return{type:b,newState:e}}(t))},clearFields:function(){e({type:O})}}})(Object(A.e)(function(e){var t=e.lang,a=e.formDataState,r=e.addDataToFormData,o=e.clearFields,i=e.updateFieldsOfFormData,u=e.form,l=u.getFieldDecorator,s=u.setFieldsValue,d=u.getFieldsValue,p=e.form,f=e.history,b=Object(n.useReducer)(W,X),O=Object(m.a)(b,2),y=O[0],g=O[1],v=Object(n.useReducer)(W,X),j=Object(m.a)(v,2),N=j[0],C=j[1],T=Object(n.useState)(K[t]),D=Object(m.a)(T,2),I=D[0],x=D[1],A=Object(n.useCallback)(function(e,t){r(e,t)},[r]),L=Object(n.useCallback)(function(e,t){if(i(d()),y[t].length)C(Z(t,y[t].filter(function(t){return t&&t.startsWith(e)})));else{var a=z.customers.map(function(e){var a=e[t];return a&&a.toString()});g(Z(t,a)),C(Z(t,a.filter(function(t){return t&&t.startsWith(e)})))}},[i,d,y,g,C]),M=Object(n.useCallback)(function(){p.validateFields(function(e){e||f.push("".concat(Q,"/finish"))})},[p,f]),Y=Object(n.useCallback)(function(){s(h),o()},[s,o]),J=Object(n.useCallback)(function(e){e.preventDefault(),M()},[M]),$=Object(n.useCallback)(function(e){"Escape"===e.key?Y():"F2"===e.key&&M()},[Y,M]),ee=Object(n.useCallback)(function(e,t){var a,r,n=(a=e,r=t,z.customers.find(function(e){return e[a]&&e[a].toString()===r}));n&&(s(n),i(n))},[s,i]);return Object(n.useEffect)(function(){x(K[t])},[t]),Object(n.useEffect)(function(){return window.addEventListener("keydown",$),function(){return window.removeEventListener("keydown",$)}},[$]),Object(n.useEffect)(function(){(function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a=0,r=Object.entries(e);a<r.length;a++){var n=r[a],c=Object(m.a)(n,2),o=c[0],i=c[1];if(t[o]!==i)return!1}return!0})(d(),a)||s(a)},[a,s,d]),c.a.createElement(w.a,null,c.a.createElement(B,{style:{background:"#fff",marginTop:"24px",height:"auto",display:"flex",flexFlow:"row nowrap",justifyContent:"space-around"}},c.a.createElement(S.a,{type:"dashed",size:"large"},I.tableOrders),c.a.createElement(S.a,{type:"dashed",size:"large"},I.selfPickUp),c.a.createElement(S.a,{type:"dashed",size:"large"},I.sales),c.a.createElement(S.a,{type:"dashed",size:"large"},I.phoneMonitor)),c.a.createElement(P.a,null),c.a.createElement(V,{style:{margin:"0 16px",background:"inherit"}},c.a.createElement("div",null,c.a.createElement(k.a,Object.assign({onSubmit:J,onKeyDown:$},H),c.a.createElement(F.a,{style:{width:"60%",maxWidth:"500px"}},c.a.createElement(k.a.Item,{label:I.customerNumber},l(E.customerNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(c.a.createElement(U.a,{dataSource:N[E.customerNumber],onSearch:function(e){return L(e,E.customerNumber)},onSelect:function(e){return ee(E.customerNumber,e)}},c.a.createElement(q.a,{onKeyDown:$,maxLength:6,id:E.customerNumber})))),c.a.createElement(k.a.Item,{label:I.phoneNumber},l(E.phoneNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(c.a.createElement(U.a,{dataSource:N[E.phoneNumber],onSearch:function(e){return L(e,E.phoneNumber)},onSelect:function(e){return ee(E.phoneNumber,e)}},c.a.createElement(q.a,{onKeyDown:$,autoFocus:!0,maxLength:15,id:E.phoneNumber})))),c.a.createElement(k.a.Item,{label:I.name},l(E.name,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}]})(c.a.createElement(U.a,{dataSource:N[E.name],onSearch:function(e){return L(e,E.name)},onSelect:function(e){return ee(E.name,e)}},c.a.createElement(q.a,{onKeyDown:$,maxLength:30,id:E.name})))),c.a.createElement(k.a.Item,{label:I.city},l(E.city,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}]})(c.a.createElement(q.a,{onKeyDown:$,maxLength:25,id:E.city}))),c.a.createElement(k.a.Item,{label:I.street},l(E.street,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"}]})(c.a.createElement(q.a,{onKeyDown:$,maxLength:30,id:E.street}))),c.a.createElement(k.a.Item,{label:I.houseNumber},l(E.houseNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(c.a.createElement(q.a,{onKeyDown:$,maxLength:6,id:E.houseNumber}))),c.a.createElement(k.a.Item,{label:I.plz},l(E.plz,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(c.a.createElement(q.a,{onKeyDown:$,maxLength:6,id:E.plz}))),c.a.createElement(k.a.Item,{label:I.clientComment},l(E.clientComment)(c.a.createElement(q.a,{onKeyDown:$,maxLength:35,id:E.clientComment}))),c.a.createElement(k.a.Item,{label:I.deliveryCost},l(E.deliveryCost)(c.a.createElement(R.a,{onChange:function(e){return A(E.deliveryCost,e)},id:E.deliveryCost},_.map(function(e){return c.a.createElement(G,{key:e,value:e},e)}))))),c.a.createElement(P.a,null),c.a.createElement("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-between"}},c.a.createElement(S.a,{type:"danger",size:"large",onClick:Y},I.clear," / ESC"),c.a.createElement(k.a.Item,null,c.a.createElement(S.a,{htmlType:"submit",type:"primary",size:"large"},I.goToOrder," / F2")))))))}))),ee=a(377),te=a(10),ae=a(73),re=a(379),ne=(a(326),ee.a.Title),ce=Object(l.b)(function(e){return{lang:e.languages.lang,code:e.user.code,userRole:e.user.role}},function(e){return{addUser:function(t,a){e(function(e,t){return{type:"ADD_USER",role:e,code:t}}(t,a))}}})(k.a.create({name:"normal_login"})(Object(A.e)(function(e){var t=e.form,a=t.setFieldsValue,r=t.getFieldsValue,o=t.validateFields,i=t.getFieldDecorator,u=e.history,l=e.lang,s=e.addUser,d=e.code,p=e.userRole,f=Object(n.useState)(""),b=Object(m.a)(f,2),O=b[0],y=b[1],g=Object(n.useState)(K[l]),E=Object(m.a)(g,2),_=E[0],v=E[1];Object(n.useEffect)(function(){a({code:d})},[a,d]),Object(n.useEffect)(function(){p&&u.push("".concat(Q,"/menu"))},[u,p]),Object(n.useEffect)(function(){v(K[l])},[l]);return c.a.createElement("div",{id:"components-form-demo-normal-login"},c.a.createElement(k.a,{onSubmit:function(e){e.preventDefault(),o(function(e,t){var a,n,c=(a=t.username,n=t.password,"test"===a&&"test"===n?{role:"admin"}:null);!e&&c?(s(c.role,r().code),u.push("".concat(Q,"/menu"))):c||y("\u0412\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u043b\u0438 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")})},className:"login-form",autoComplete:"off"},c.a.createElement(ne,{level:4,style:{textAlign:"center"}},_.authTitle),c.a.createElement(k.a.Item,null,i("code",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(c.a.createElement(q.a,{autoFocus:!0,autoComplete:"off",prefix:c.a.createElement(te.a,{type:"number",style:{color:"rgba(0,0,0,.25)"}}),placeholder:_.organizationNumber}))),c.a.createElement(k.a.Item,null,i("username",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}]})(c.a.createElement(q.a,{autoComplete:"off",prefix:c.a.createElement(te.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:_.username}))),c.a.createElement(k.a.Item,null,i("password",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}]})(c.a.createElement(q.a,{autoComplete:"off",prefix:c.a.createElement(te.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:_.password}))),c.a.createElement(k.a.Item,null,i("remember",{valuePropName:"checked",initialValue:!0})(c.a.createElement(ae.a,null,_.autoLogin)),O&&c.a.createElement("div",null,c.a.createElement(re.a,{type:"error",message:O})),c.a.createElement(S.a,{type:"primary",htmlType:"submit",className:"login-form-button"},_.login))))}))),oe=a(374),ie={labelCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}},wrapperCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}}},ue=k.a.create({name:"cart"})(Object(l.b)(function(e){return{cartProducts:e.cartProducts,formDataState:e.formDataState,lang:e.languages.lang}},function(e){return{addDataToFormData:function(t,a){e(g(t,a))}}})(function(e){var t=e.lang,a=e.form,r=a.getFieldDecorator,o=a.setFieldsValue,i=e.addDataToFormData,u=e.formDataState,l=u.mwst_7,s=u.mwst_19,d=u.greichten,p=u.zutaten,f=u.deliveryCost,b=u.discount,O=u.total_price,y=Object(n.useState)(K[t]),g=Object(m.a)(y,2),E=g[0],_=g[1],v=Object(n.useCallback)(function(e){i("deliveryCost",e.target.value)},[i]),j=Object(n.useCallback)(function(e){i("discount",e.target.value)},[i]);return Object(n.useEffect)(function(){o({mwst_7:l,mwst_19:s,greichten:d,zutaten:p,deliveryCost:f,discount:b,total_price:O})},[l,s,d,p,f,b,O,o]),Object(n.useEffect)(function(){_(K[t])},[t]),c.a.createElement(k.a,Object.assign({},ie,{className:"sum-form"}),c.a.createElement("div",{className:"cart__sum"},c.a.createElement("div",{className:"sum__item sum__item_flex-start"},c.a.createElement(k.a.Item,{label:E.tax_7},r("mwst_7")(c.a.createElement(q.a,{placeholder:E.tax_7,id:"mwst_7",disabled:!0,suffix:"\u20ac"}))),c.a.createElement(k.a.Item,{label:E.tax_19},r("mwst_19")(c.a.createElement(q.a,{placeholder:E.tax_19,id:"mwst_19",disabled:!0,suffix:"\u20ac"})))),c.a.createElement("div",{className:"sum__item"},c.a.createElement(k.a.Item,{label:E.articlePrices},r("greichten")(c.a.createElement(q.a,{placeholder:E.articlePrices,id:"greichten",disabled:!0,suffix:"\u20ac"}))),c.a.createElement(k.a.Item,{label:E.additions},r("zutaten")(c.a.createElement(q.a,{placeholder:E.additions,id:"zutaten",disabled:!0,suffix:"\u20ac"}))),c.a.createElement(k.a.Item,{label:E.deliveryCost},r("deliveryCost")(c.a.createElement(q.a,{onChange:v,placeholder:E.deliveryCost,suffix:"\u20ac"}))),c.a.createElement(k.a.Item,{label:"F11 / ".concat(E.discount)},r("discount")(c.a.createElement(q.a,{onChange:j,placeholder:"F11 / ".concat(E.discount),suffix:"%"}))),c.a.createElement(k.a.Item,{label:E.totalPrice},r("total_price")(c.a.createElement(q.a,{id:"total_price",placeholder:E.totalPrice,disabled:!0,suffix:"\u20ac"}))))))}));a(328);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach(function(t){Object(p.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var de=a(329),me={y:"calc(100vh - 40px - 32px - 75px - 60px - 1px)"},pe={y:"calc(100vh - 40px - 32px - 75px - 60px - 240px - 1px - 20px)"},fe={fontSize:"16px"},be=function(e){var t=e||document.querySelector(".cart__products-table .ant-input");t.focus(),t.setRangeText(t.value,0,t.value.length,"select")},Oe=function(e){var t=e&&e.match(/^([+-]{0,1}[0-9]*)(.*)/);if(t){var a=Object(m.a)(t,3),r=a[1],n=a[2];return c.a.createElement("div",{className:"addition"},c.a.createElement("span",{className:"addition__quantity"},r),n)}return e},ye=function(){return null},ge=function(){var e=document.querySelector(".cart__products-table_selected");e&&e.scrollIntoView()},Ee=function(){var e=document.querySelector(".cart__order .ant-table-tbody tr:last-child");e&&e.scrollIntoView()};var _e=Object(l.b)(function(e){return{cartProducts:e.cartProducts,formDataState:e.formDataState,lang:e.languages.lang}},function(e){return{addProduct:function(t,a,n,c,o){e(function(e,t,a,n,c){return{type:r.ADD_PRODUCT_TO_CART,id:e,article:t,productName:a,price:n,tax:c}}(t,a,n,c,o))},addAddition:function(t,a,n,c,o){e(function(e,t,a,n,c){return{type:r.ADD_ADDITION_TO_PRODUCT_IN_CART,productIdx:e,additionId:t,additionName:a,additionPrice:n,additionTax:c}}(t,a,n,c,o))},deleteProduct:function(t){e(function(e){return{type:r.DELETE_PRODUCT_FROM_CART,productIdx:e}}(t))},deleteAddition:function(t,a){e(function(e,t){return{type:r.DELETE_ADDITION_OF_PRODUCT_FROM_CART,productIdx:e,additionId:t}}(t,a))},incrementProduct:function(t){e(function(e){return{type:r.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,productIdx:e}}(t))},decrementProduct:function(t){e(function(e){return{type:r.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,productIdx:e}}(t))},incrementAddition:function(t,a){e(function(e,t){return{type:r.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,productIdx:e,additionId:t}}(t,a))},decrementAddition:function(t,a,n,c,o){e(function(e,t,a,n,c){return{type:r.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,productIdx:e,additionId:t,productName:a,price:n,tax:c}}(t,a,n,c,o))},addDataToFormData:function(t,a){e(g(t,a))}}})(Object(A.e)(function(e){var t=e.cartProducts,a=e.addDataToFormData,r=e.formDataState.discount,o=void 0===r?0:r,i=e.formDataState,u=e.lang,l=e.addProduct,s=e.addAddition,p=e.incrementProduct,f=e.incrementAddition,b=e.deleteProduct,O=e.deleteAddition,y=e.decrementAddition,g=e.decrementProduct,E=e.history,_=Object(n.useState)(K[u]),v=Object(m.a)(_,2),j=v[0],h=v[1],N=Object(n.useState)(M("")),C=Object(m.a)(N,2),T=C[0],D=(C[1],Object(n.useState)("")),I=Object(m.a)(D,2),x=I[0],A=I[1],w=Object(n.useState)(!1),R=Object(m.a)(w,2),k=R[0],P=R[1],F=Object(n.useState)({message:"",description:""}),U=Object(m.a)(F,2),L=U[0],z=U[1],Y=Object(n.useState)(0),B=Object(m.a)(Y,2),V=B[0],G=B[1],H=Object(n.useState)(-1),J=Object(m.a)(H,2),W=J[0],Z=J[1],X=Object(n.useState)(!1),$=Object(m.a)(X,2),ee=$[0];$[1],Object(n.useEffect)(function(){!ee&&t[t.length-1]&&Z(t.length-1)},[t,ee,Z]);var ae=Object(n.useMemo)(function(){var e=T.sort(function(e,t){return e.article&&t.article?de(e,t):!e.article&&!t.article&&e.productName&&t.productName?e.productName.localeCompare(t.productName):0}),t=x.toLowerCase(),a=0,r=!0,n=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;if(u.article&&u.article.toLowerCase().includes(t)||u.productName.toLowerCase().includes(t)){a=u.id;break}}}catch(l){n=!0,c=l}finally{try{r||null==i.return||i.return()}finally{if(n)throw c}}return G(a),e},[T,x,G]),ne=Object(n.useMemo)(function(){return ae.map(function(e,t){return e.key=t.toString(),e.id===V?e.selected=!0:e.selected&&(e.selected=void 0),e})},[ae,V]),ce=Object(n.useMemo)(function(){return[{header:"\u041f\u0420\u041e\u0414\u0423\u041a\u0422\u042b",key:"\u041f\u0420\u041e\u0414\u0423\u041a\u0422\u042b"}].concat(Object(d.a)(ne.filter(function(e){return"product"===e.type})),[{header:"\u0414\u041e\u0411\u0410\u0412\u041a\u0418",key:"\u0414\u041e\u0411\u0410\u0412\u041a\u0418"}],Object(d.a)(ne.filter(function(e){return"addition"===e.type})))},[ne]),ie=Object(n.useCallback)(function(e){e.stopPropagation();var t=V,a=ae.findIndex(function(e){return e.id===V});if("ArrowUp"===e.code){if(0!==a&&1!==ae.length)t=ae[a-1].id;else if(ae[ae.length-1]){t=ae[ae.length-1].id}}else 1!==ae.length&&(t=ae[(a+1)%ae.length].id);G(t)},[ae,V,G]),le=Object(n.useCallback)(function(){var e=ae.find(function(e){return e.id===V});if(!e)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430/\u0434\u043e\u0431\u0430\u0432\u043a\u0438",description:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u043f\u0440\u043e\u0434\u0443\u043a\u0442/\u0434\u043e\u0431\u0430\u0432\u043a\u0430"}),void P(!0);var a=e.type;if("addition"===a){if(!t[W])return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043e\u0431\u0430\u0432\u043a\u0438",description:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0435\u0442 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432"}),void P(!0);var r=e.productName,n=e.price,c=e.tax;y(W,e.id,r,n,c)}else if("product"===a){var o=function(e,t){for(var a=e.length-1;a>=0;a--)if(t(e[a]))return a;return-1}(t,function(t){return t.id===e.id});-1!==o?g(o):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u0430",description:"\u0422\u043e\u0432\u0430\u0440\u0430 \u043d\u0435\u0442 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),P(!0))}},[t,V,y,g,P,z,W,ae]),_e=Object(n.useCallback)(function(){if(k)P(!1);else{var e=ae.find(function(e){return e.id===V});if(e){var a=e.id,r=e.article,n=e.productName,c=e.price,o=e.tax,i=e.type;if("addition"===i)t[W]?s(W,a,n,c,o):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043a\u0443",description:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435\u0442 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),P(!0));else"product"===i&&l(a,r,n,c,o)}be()}},[ae,k,t,V,s,l,W]),ve=Object(n.useCallback)(function(e){e.preventDefault(),e.stopPropagation();var t=e.target.value.slice(-1);"-"!==t&&"+"!==t?A(e.target.value):setTimeout(function(){return be(e.target)},0)},[A]),je=Object(n.useCallback)(function(e){return function(){G(e);var a=ae.find(function(t){return t.id===e});if(!a)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u043f\u0440\u043e\u0434\u0443\u043a\u0442/\u0434\u043e\u0431\u0430\u0432\u043a\u0430"}),void P(!0);var r=a.type,n=a.article,c=a.productName,o=a.price,i=a.tax;"addition"===r?t[W]?s(W,e,c,o,i):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043a\u0443",description:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435\u0442 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),P(!0)):"product"===r&&l(e,n,c,o,i)}},[ae,t,s,l,P,G,W]),he=Object(n.useCallback)(function(e){return function(){G(e);var a=ae.find(function(t){return t.id===e});if(!a)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430/\u0434\u043e\u0431\u0430\u0432\u043a\u0438"}),void P(!0);var r=a.type,n=t[W];if("addition"===r){var c=a.id,o=a.productName,i=a.tax,u=a.price;n?y(W,c,o,u,i):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043a\u0443",description:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),P(!0))}else"product"===r&&(n&&n.id===e?g(W):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u0430",description:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430"}),P(!0)))}},[ae,t,y,g,P,z,W]),Ne=Object(n.useCallback)(function(e,a){return function(){var r;if(void 0===a)r=t[e];else{var n=t[a].additions;if(void 0===n)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438"}),void P(!0);r=n[e]}if(!r)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438/\u0442\u043e\u0432\u0430\u0440\u0430"}),void P(!0);var c=r.id;void 0!==a?t[a]?f(a,c):(z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043a\u0443",description:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043d\u0435\u0442 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"}),P(!0)):p(e)}},[ae,t,s,l,P,G,W]),Ce=Object(n.useCallback)(function(e,a){return function(){var r;if(void 0===a)r=t[e];else{var n=t[a].additions;if(void 0===n)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438"}),void P(!0);r=n[e]}if(!r)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438/\u0442\u043e\u0432\u0430\u0440\u0430"}),void P(!0);if(void 0!==a){var c=r,o=c.id,i=c.productName,u=c.tax,l=c.price;void 0!==a&&y(a,o,i,l,u)}else g(e)}},[ae,t,y,g,P,z,W]),Te=Object(n.useCallback)(function(e,a){return function(){var r;if(void 0===a)r=t[e];else{var n=t[a].additions;if(void 0===n)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438"}),void P(!0);r=n[e]}if(!r)return z({message:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",description:"\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0434\u043e\u0431\u0430\u0432\u043a\u0438/\u0442\u043e\u0432\u0430\u0440\u0430"}),void P(!0);var c=r.id;-1!==a&&void 0!==a?O(a,c):b(e)}},[O,b,t,G]),De=Object(n.useCallback)(function(){E.push("".concat(Q,"/menu"))},[E]),Ie=Object(n.useCallback)(function(e){var t,a=0,r=-1,n=e.children.find(function(e){return e.props.record.selected}),o=e.children.find(function(e){return e.props.record.header}),i=e.children.find(function(e){return e.props.record.cart});return e.children.forEach(function(e){var n=e.props.record,c=n.id,o=n.parentId,i=n.idx,u=n.parentIdx;a=c,o,r=i,t=u}),c.a.createElement("tr",{onDoubleClick:i?Ne(r,t):je(a),className:"".concat(e.className," ").concat(o?"cart__table-header":""," ").concat(n?"cart__products-table_selected":"")},o?e.children[0].props.record.header:e.children)},[Ne,je]),xe=Object(n.useMemo)(function(){return{body:{row:Ie}}},[Ie]),Ae=Object(n.useCallback)(function(e){var t=e.parentIdx,a=e.idx;return c.a.createElement(te.a,{style:fe,type:"minus-square",onClick:Ce(a,t)})},[Ce]),we=Object(n.useCallback)(function(e){var t=e.parentIdx,a=e.idx;return c.a.createElement(te.a,{style:fe,type:"plus-square",onClick:Ne(a,t)})},[Ne]),Re=Object(n.useCallback)(function(e){var t=e.parentIdx,a=e.idx;return c.a.createElement(te.a,{style:fe,type:"close-square",onClick:Te(a,t)})},[Te]),ke=Object(n.useCallback)(function(e){var t=e.id;return c.a.createElement(te.a,{style:fe,type:"minus-square",onClick:he(t)})},[Ce]),Se=Object(n.useCallback)(function(e){var t=e.id;return c.a.createElement(te.a,{style:fe,type:"plus-square",onClick:je(t)})},[Ne]),Pe=Object(n.useCallback)(function(){return a("deliveryCost","0")},[a]),Fe=Object(n.useCallback)(function(){return P(!1)},[P]),Ue=Object(n.useCallback)(function(e){"F4"===e.code?De():"F5"===e.code?Pe():"ArrowUp"===e.code||"ArrowDown"===e.code?ie(e):"+"===e.key||"Enter"===e.code?_e():"-"===e.key&&le()},[De,Pe,ie,_e,le]);Object(n.useEffect)(function(){return window.addEventListener("keydown",Ue),function(){window.removeEventListener("keydown",Ue)}},[Ue]),Object(n.useEffect)(function(){h(K[u]);var e=document.querySelector(".cart__products-table .ant-input");e&&e.focus()},[u]);var qe=Object(n.useMemo)(function(){var e=0,a=0;return t.forEach(function(t){e+=t.price*t.quantity;var r=0;Array.isArray(t.additions)&&(t.additions.forEach(function(e){r+=e.price*e.quantity}),a+=r>=0?r:0)}),{cartProductsProductsSum:e,cartProductsAdditionsSum:a}},[t]);Object(n.useEffect)(function(){var e=qe.cartProductsProductsSum,t=qe.cartProductsAdditionsSum;a("greichten",e.toString()),a("zutaten",t.toString()),a("mwst_7",(Math.round(.07*(e+t)*100)/100).toString()),a("mwst_19",(Math.round(.19*(e+t)*100)/100).toString())},[qe,a]),Object(n.useEffect)(function(){var e=qe.cartProductsProductsSum,t=qe.cartProductsAdditionsSum,r=((0|parseFloat(i.deliveryCost))+(100-(o>100?0:o))/100*(e+t)).toString();r!==i.total_price&&a("total_price",r)},[qe,o,i,a]);var Le=Object(n.useMemo)(function(){return[{title:j.article,dataIndex:"article",key:"articleView"},{title:j.quantity,dataIndex:"quantity",key:"quantity"},{title:j.productName,dataIndex:"viewName",width:"60%",key:"productName",render:Oe},{title:j.price,dataIndex:"price",key:"price"},{key:"deleteFromCart",render:Re},{key:"decrementFromCart",render:Ae},{key:"incrementToCart",render:we}]},[j,Re,Ae,we]),Me=Object(n.useMemo)(function(){return[{title:j.article,dataIndex:"article",key:"articleView"},{title:j.productName,dataIndex:"productName",key:"productName"},{title:j.price,dataIndex:"price",key:"price"},{key:"decrementFromCart",render:ke},{key:"incrementToCart",render:Se}]},[Ae,Se,j]),ze=Object(n.useMemo)(function(){return t.map(function(e,t){var a=Array.isArray(e.additions)?e.additions.map(function(a,r){return Object.assign({},se({},a,{viewName:"".concat(a.quantity>0?"+":"").concat(a.quantity," ").concat(a.productName),key:e.id+":"+a.id+t,quantity:void 0,parentIdx:t,parentId:e.id,idx:r,cart:!0}))}):void 0;return Object.assign({},se({},e,{key:e.id&&e.id.toString()+t.toString()||"0",viewName:e.productName,children:a,idx:t,cart:!0}))})},[t]),Ke=Object(n.useMemo)(function(){return ae.map(function(e){var t=e.article;return t||"0"})},[ae]);Object(n.useEffect)(function(){var e=document.querySelector(".cart__order .ant-table-body"),t=document.querySelector(".cart__order .ant-table-tbody tr:last-child");if(e&&t){var a=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(a.bottom<=r.bottom||a.top>=r.top){var n=setTimeout(Ee,0);return function(){return clearTimeout(n)}}}}),Object(n.useEffect)(function(){var e=document.querySelector(".cart__products-table .ant-table-body"),t=document.querySelector(".cart__products-table_selected");if(e&&t){var a=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(a.bottom<=r.bottom||a.top>=r.top){var n=setTimeout(ge,0);return function(){return clearTimeout(n)}}}},[V]);var Qe=Object(n.useMemo)(function(){return ze.map(function(e){var t=e.key;return t?t.toString():"0"})},[ze]);return c.a.createElement("div",{className:"cart"},k&&c.a.createElement(re.a,{className:"warning",message:L.message,description:L.description,type:"error",closable:!0,onClose:Fe}),c.a.createElement("div",{className:"cart__tables"},c.a.createElement("div",{className:"cart__order-table"},c.a.createElement("div",{className:"cart__order"},c.a.createElement(q.a,{placeholder:j.comment}),c.a.createElement(oe.a,{components:xe,expandIcon:ye,pagination:!1,scroll:pe,bordered:!0,expandedRowKeys:Qe,defaultExpandAllRows:!0,columns:Le,dataSource:ze})),c.a.createElement(ue,null)),c.a.createElement("div",{className:"cart__products-table"},c.a.createElement(q.a,{value:x,prefix:c.a.createElement(te.a,{type:"search"}),onChange:ve,autoFocus:!0}),c.a.createElement(oe.a,{components:xe,pagination:!1,scroll:me,bordered:!0,expandIcon:ye,expandedRowKeys:Ke,defaultExpandAllRows:!0,columns:Me,dataSource:ce}))),c.a.createElement("div",{className:"cart__buttons"},c.a.createElement(S.a,{type:"danger",size:"large",onClick:De},j.back," / F4"),c.a.createElement(S.a,{type:"dashed",size:"large",onClick:Pe},j.freeDelivery," / F5"),c.a.createElement(S.a,{type:"primary",size:"large"},j.print," / F2")))})),ve=a(140),je=a(107),he=(a(370),ee.a.Text),Ne=Object(l.b)(function(e){return{lang:e.languages.lang,userRole:e.user.role}},function(e){return{logoutFromUser:function(){e({type:"LOGOUT_USER"})},changeLang:function(t){e(function(e){return{type:"CHANGE_LANGUAGE",lang:e}}(t))}}})(Object(A.e)(function(e){var t=e.lang,a=e.userRole,r=e.logoutFromUser,o=e.changeLang,i=e.history,u=e.collapsed,l=Object(n.useState)(K[t]),s=Object(m.a)(l,2),d=s[0],p=s[1];Object(n.useEffect)(function(){p(K[t])},[t,p]);var f=Object(n.useCallback)(function(e){r(),i.push("".concat(Q,"/"))},[r,i]),b=Object(n.useCallback)(function(e){var t=e.target.value;o(t)},[o]);return c.a.createElement("div",{className:"menu"},c.a.createElement(ve.a,{style:{height:"100vh"},defaultSelectedKeys:["2"],mode:"inline"},c.a.createElement(ve.a.Item,{disabled:!0},c.a.createElement(te.a,{type:"tag"}),!u&&c.a.createElement(je.a.Group,{value:t,onChange:b},c.a.createElement(je.a.Button,{value:"ru"},"ru"),c.a.createElement(je.a.Button,{value:"de"},"de"))),c.a.createElement(ve.a.Item,{key:"1",onClick:f,className:"logout-button"},c.a.createElement(te.a,{type:"logout"}),c.a.createElement("span",null,d.logout)),c.a.createElement(ve.a.Item,{key:"2"},c.a.createElement(te.a,{type:"phone"}),c.a.createElement("span",null,d.callForm)),c.a.createElement(ve.a.Item,{key:"3"},c.a.createElement(te.a,{type:"shopping-cart"}),c.a.createElement("span",null,d.allOrders)),c.a.createElement(ve.a.Item,{key:"4"},c.a.createElement(te.a,{type:"dashboard"}),c.a.createElement("span",null,d.cookingMonitor)),c.a.createElement(ve.a.Item,{key:"5"},c.a.createElement(te.a,{type:"car"}),c.a.createElement("span",null,d.carMonitor)),c.a.createElement(ve.a.Item,{key:"6"},c.a.createElement(te.a,{type:"bar-chart"}),c.a.createElement("span",null,d.report)),c.a.createElement(ve.a.Item,{key:"7"},c.a.createElement(te.a,{type:"setting"}),c.a.createElement("span",null,d.settings)),c.a.createElement(ve.a.Item,{key:"8"},c.a.createElement(te.a,{type:"question-circle"}),c.a.createElement("span",null,d.help))),c.a.createElement(he,{style:{textAlign:"center",paddingBottom:"20px",borderRight:"1px solid #e8e8e8"}},a))})),Ce=w.a.Sider,Te=Object(l.b)(function(e){return{userRole:e.user.role}})(Object(A.e)(function(e){var t=e.userRole,a=e.history,r=Object(n.useState)(!1),o=Object(m.a)(r,2),i=o[0],u=o[1];Object(n.useEffect)(function(){t||a.push("".concat(Q,"/"))},[t,a]);var l=Object(n.useCallback)(function(e){u(e)},[u]);return c.a.createElement(w.a,{style:{minHeight:"100vh","--left-menu-width":i?"80px":"200px"}},window.location.pathname!=="".concat(Q,"/")&&c.a.createElement(Ce,{collapsible:!0,onCollapse:l,theme:"light",style:{overflow:"auto",height:"100vh",left:0}},c.a.createElement(Ne,{collapsed:i})),c.a.createElement(A.a,{path:"".concat(Q,"/menu"),component:$}),c.a.createElement(A.a,{path:"".concat(Q,"/index.html"),exact:!0,component:ce}),c.a.createElement(A.a,{path:"".concat(Q,"/"),exact:!0,component:ce}),c.a.createElement(A.a,{path:"".concat(Q,"/finish"),component:_e}))}));i.a.render(c.a.createElement(u.a,null,c.a.createElement(l.a,{store:x},c.a.createElement(Te,null))),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.7f1996a1.chunk.js.map