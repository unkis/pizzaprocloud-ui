(window.webpackJsonpfrontend2=window.webpackJsonpfrontend2||[]).push([[0],{189:function(e,t,r){e.exports=r(370)},198:function(e,t,r){},199:function(e,t,r){},320:function(e,t,r){},329:function(e,t,r){},370:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(8),o=r.n(c),i=r(79),l=r(54),u=r(42),d=(r(198),r(25)),s=r(376),m=r(375),p=r(184),f=r(10),O=r(71),b=r(378),y=r(55),E=(r(199),r(14));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var h,T={customers:[{customerNumber:1},{customerNumber:2},{customerNumber:3},{customerNumber:33,phoneNumber:89821251216,deliveryCost:"2,50",name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",street:"\u0423\u043b\u0438\u0447\u043d\u0430\u044f",houseNumber:"16",plz:"123456",city:"\u041c\u043e\u0441\u043a\u0432\u0430"},{customerNumber:333}],products:[{key:1,article:1,quantity:10,productName:"Test1",price:60,children:[{key:11,parentArticle:1,article:11,productName:"Test2",price:60},{key:12,parentArticle:1,article:12,productName:"Test3",price:60},{key:13,parentArticle:1,article:13,productName:"Test4",price:60}]},{key:2,article:2,quantity:10,productName:"Test5",price:60,children:[{key:21,parentArticle:2,article:21,productName:"Test6",price:60},{key:22,parentArticle:2,article:22,productName:"Test7",price:60},{key:23,parentArticle:2,article:23,productName:"Test8",price:60}]}]},_=function(e){return""===e?T.products.slice(0,10):(e=e.toLowerCase(),T.products.map(function(t){var r=t.article,n=t.productName,a=t.children.filter(function(t){var r=t.article,n=t.productName;return r.toString().toLowerCase().includes(e.toLowerCase())||n.toString().toLowerCase().includes(e.toLowerCase())});return 0!==a.length?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){Object(E.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{children:a}):r.toString().toLowerCase().includes(e.toLowerCase())||n.toString().toLowerCase().includes(e.toLowerCase())?t:null}).filter(Boolean))},v=T,N="ADD_TO_FORM_DATA",D="UPDATE_ALL_FIELDS",A="CLEAR_ALL_FIELDS";!function(e){e[e.ADD_PRODUCT_TO_CART=0]="ADD_PRODUCT_TO_CART",e[e.ADD_ADDITION_TO_PRODUCT_IN_CART=1]="ADD_ADDITION_TO_PRODUCT_IN_CART",e[e.DELETE_PRODUCT_FROM_CART=2]="DELETE_PRODUCT_FROM_CART",e[e.DELETE_ADDITION_OF_PRODUCT_FROM_CART=3]="DELETE_ADDITION_OF_PRODUCT_FROM_CART",e[e.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART=4]="INCREMENT_QUANTITY_OF_PRODUCT_IN_CART",e[e.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART=5]="DECREMENT_QUANTITY_OF_PRODUCT_IN_CART",e[e.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT=6]="INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT",e[e.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT=7]="DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT"}(h||(h={}));var j,C={ru:{authTitle:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",organizationNumber:"\u041d\u043e\u043c\u0435\u0440 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438",username:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",password:"\u041f\u0430\u0440\u043e\u043b\u044c",autoLogin:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f",login:"\u0412\u043e\u0439\u0442\u0438",tableOrders:"Tischbestellungen",selfPickUp:"Selbstabholer",sales:"Hausverkauf",phoneMonitor:"Telefon monitor",customerNumber:"\u041d\u043e\u043c\u0435\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",phoneNumber:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"\u0418\u043c\u044f",street:"\u0423\u043b\u0438\u0446\u0430",houseNumber:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",plz:"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",city:"\u0413\u043e\u0440\u043e\u0434",clientComment:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",deliveryCost:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",goToOrder:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437",logout:"\u0412\u044b\u0439\u0442\u0438",callForm:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430",allOrders:"\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b",cookingMonitor:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u043a\u0443\u0445\u043d\u0438",carMonitor:"\u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",report:"\u041e\u0442\u0447\u0435\u0442",settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",help:"\u041f\u043e\u043c\u043e\u0449\u044c",quantity:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",article:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",productName:"\u041d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440\u0430",price:"\u0426\u0435\u043d\u0430"},de:{authTitle:"Restaurant-Login",organizationNumber:"Kundennumer",username:"Benutzername",password:"Passwort",autoLogin:"Automatisch Anmelden",login:"Login",tableOrders:"Tischbestellungen",selfPickUp:"Selbstabholer",sales:"Hausverkauf",phoneMonitor:"Telefon monitor",customerNumber:"Kundennummer",phoneNumber:"Telefonnumer",name:"Name",street:"Strasse",houseNumber:"Hausnummer",plz:"PLZ",city:"Stadt",clientComment:"Bemerkung",deliveryCost:"Anfahrtskosten",clear:"L\xf6schen",goToOrder:"Bestellung",logout:"Logout",callForm:"Lieferdienst",allOrders:"Alle Bestellungen",cookingMonitor:"Kuchen monitor",carMonitor:"Fahrer monitor",report:"Berichten",settings:"Einstellungen",help:"Hilfe",quantity:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",article:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b",productName:"\u041d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440\u0430",price:"\u0426\u0435\u043d\u0430"}},I="/pizzaprocloud-ui",w=s.a.Title,R=Object(u.b)(function(e){return{lang:e.languages.lang,code:e.user.code,userRole:e.user.role}},function(e){return{addUser:function(t,r){e(function(e,t){return{type:"ADD_USER",role:e,code:t}}(t,r))}}})(m.a.create({name:"normal_login"})(Object(l.e)(function(e){var t=e.form,r=e.history,c=e.lang,o=e.addUser,i=e.code,l=e.userRole,u=Object(n.useState)(""),s=Object(d.a)(u,2),E=s[0],g=s[1],h=Object(n.useState)(C[c]),T=Object(d.a)(h,2),_=T[0],v=T[1];Object(n.useEffect)(function(){return t.setFieldsValue({code:i})},[]),Object(n.useEffect)(function(){l&&r.push("".concat(I,"/menu"))},[l]),Object(n.useEffect)(function(){v(C[c])},[c]);var N=t.getFieldDecorator;return a.a.createElement("div",{id:"components-form-demo-normal-login"},a.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),t.validateFields(function(e,n){var a,c,i=(a=n.username,c=n.password,"test"===a&&"test"===c?{role:"admin"}:null);!e&&i?(o(i.role,t.getFieldsValue().code),r.push("".concat(I,"/menu"))):i||g("\u0412\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u043b\u0438 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")})},className:"login-form",autoComplete:"off"},a.a.createElement(w,{level:4,style:{textAlign:"center"}},_.authTitle),a.a.createElement(m.a.Item,null,N("code",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(a.a.createElement(p.a,{autoFocus:!0,autoComplete:"off",prefix:a.a.createElement(f.a,{type:"number",style:{color:"rgba(0,0,0,.25)"}}),placeholder:_.organizationNumber}))),a.a.createElement(m.a.Item,null,N("username",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}]})(a.a.createElement(p.a,{autoComplete:"off",prefix:a.a.createElement(f.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:_.username}))),a.a.createElement(m.a.Item,null,N("password",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}]})(a.a.createElement(p.a,{autoComplete:"off",prefix:a.a.createElement(f.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:_.password}))),a.a.createElement(m.a.Item,null,N("remember",{valuePropName:"checked",initialValue:!0})(a.a.createElement(O.a,null,_.autoLogin)),E&&a.a.createElement("div",null,a.a.createElement(b.a,{type:"error",message:E})),a.a.createElement(y.a,{type:"primary",htmlType:"submit",className:"login-form-button"},_.login))))}))),P=r(372),k=r(139),x=r(105),S=r(371),U=(r(320),r(52)),F=r(374),L=r(377),q={customerNumber:"customerNumber",phoneNumber:"phoneNumber",name:"name",street:"street",houseNumber:"houseNumber",plz:"plz",city:"city",clientComment:"clientComment",deliveryCost:"deliveryCost",article:"article",quantity:"quantity",productName:"productName",price:"price"},M=["0,00","0,50","1,00","1,50","2,00","2,50","3,00"],z=r(185);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Q(e){var t;if(Array.isArray(e))return Y(e);if("object"!==typeof e)return e;t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach(function(t){Object(E.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Array.isArray(t[a])?t[a]=Y(t[a]):"object"===typeof t[a]&&(t[a]=Q(t[a]))}return t}function Y(e){return e.map(function(e){return Q(e)})}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach(function(t){Object(E.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var H,V=(j={},Object(E.a)(j,q.customerNumber,""),Object(E.a)(j,q.phoneNumber,""),Object(E.a)(j,q.customerNumber,""),Object(E.a)(j,q.phoneNumber,""),Object(E.a)(j,q.name,""),Object(E.a)(j,q.street,""),Object(E.a)(j,q.houseNumber,""),Object(E.a)(j,q.plz,""),Object(E.a)(j,q.city,""),Object(E.a)(j,q.clientComment,""),Object(E.a)(j,q.deliveryCost,M[0]),j),J=[];function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var Z=U.a.Option,X={labelCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}},wrapperCol:{xs:{span:24},sm:{span:12},lg:{span:12},xl:{span:12}}},$={ADD_TO_DATA_SOURCE:"ADD_TO_DATA_SOURCE"};function ee(e,t){switch(t.type){case $.ADD_TO_DATA_SOURCE:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(r,!0).forEach(function(t){Object(E.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,Object(E.a)({},t.dataSourceName,t.dataSourceData))}}var te=function(e,t){return{type:$.ADD_TO_DATA_SOURCE,dataSourceName:e,dataSourceData:t}},re=(H={},Object(E.a)(H,q.customerNumber,[]),Object(E.a)(H,q.phoneNumber,[]),Object(E.a)(H,q.customerNumber,[]),Object(E.a)(H,q.phoneNumber,[]),Object(E.a)(H,q.name,[]),Object(E.a)(H,q.street,[]),Object(E.a)(H,q.houseNumber,[]),Object(E.a)(H,q.plz,[]),Object(E.a)(H,q.city,[]),Object(E.a)(H,q.clientComment,[]),Object(E.a)(H,q.deliveryCost,[]),H),ne=m.a.create({name:"delivery_form"})(Object(u.b)(function(e){return{formDataState:e.formDataState,lang:e.languages.lang}},function(e,t){return{addDataToFormData:function(t,r){e({type:N,fieldName:t,fieldValue:r})},updateFieldsOfFormData:function(t){e(function(e){return{type:D,newState:e}}(t))},clearFields:function(){e({type:A})}}})(Object(l.e)(function(e){var t=e.lang,r=e.formDataState,c=e.addDataToFormData,o=e.clearFields,i=e.updateFieldsOfFormData,l=e.form,u=l.getFieldDecorator,s=l.setFieldsValue,f=l.getFieldsValue,O=e.form,b=e.history,E=Object(n.useReducer)(ee,re),g=Object(d.a)(E,2),h=g[0],T=g[1],_=Object(n.useReducer)(ee,re),N=Object(d.a)(_,2),D=N[0],A=N[1],j=Object(n.useState)(C[t]),w=Object(d.a)(j,2),R=w[0],P=w[1],k=Object(n.useCallback)(function(e,t){c(e,t)},[c]),x=Object(n.useCallback)(function(e,t){if(i(f()),h[t].length)A(te(t,h[t].filter(function(t){return t&&t.startsWith(e)})));else{var r=v.customers.map(function(e){var r=e[t];return r&&r.toString()});T(te(t,r)),A(te(t,r.filter(function(t){return t&&t.startsWith(e)})))}},[i,f,h,T,A]),z=Object(n.useCallback)(function(){O.validateFields(function(e){e||b.push("".concat(I,"/finish"))})},[O,b]),K=Object(n.useCallback)(function(){s(V),o()},[s,o]),Q=Object(n.useCallback)(function(e){e.preventDefault(),z()},[z]),Y=Object(n.useCallback)(function(e){"Escape"===e.key?K():"F2"===e.key&&z()},[K,z]),B=Object(n.useCallback)(function(e,t){console.log("enter",e,t);var r,n,a=(r=e,n=t,v.customers.find(function(e){return e[r]==n}));console.log(a),a&&(s(a),i(a))},[s,i]);return Object(n.useEffect)(function(){P(C[t])},[t]),Object(n.useEffect)(function(){return window.addEventListener("keydown",Y),function(){return window.removeEventListener("keydown",Y)}},[Y]),Object(n.useEffect)(function(){(function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.entries(e);r<n.length;r++){var a=n[r],c=Object(d.a)(a,2),o=c[0],i=c[1];if(t[o]!==i)return!1}return!0})(f(),r)||s(r)},[r,s,f]),a.a.createElement("div",null,a.a.createElement(m.a,Object.assign({onSubmit:Q,onKeyDown:Y},X),a.a.createElement(F.a,{style:{width:"60%",maxWidth:"500px"}},a.a.createElement(m.a.Item,{label:R.customerNumber},u(q.customerNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(a.a.createElement(L.a,{dataSource:D[q.customerNumber],onSearch:function(e){return x(e,q.customerNumber)},onSelect:function(e){return B(q.customerNumber,e)}},a.a.createElement(p.a,{onKeyDown:Y,maxLength:6,id:q.customerNumber})))),a.a.createElement(m.a.Item,{label:R.phoneNumber},u(q.phoneNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(a.a.createElement(L.a,{dataSource:D[q.phoneNumber],onSearch:function(e){return x(e,q.phoneNumber)},onSelect:function(e){return B(q.phoneNumber,e)}},a.a.createElement(p.a,{onKeyDown:Y,autoFocus:!0,maxLength:15,id:q.phoneNumber})))),a.a.createElement(m.a.Item,{label:R.name},u(q.name,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}]})(a.a.createElement(L.a,{dataSource:D[q.name],onSearch:function(e){return x(e,q.name)},onSelect:function(e){return B(q.name,e)}},a.a.createElement(p.a,{onKeyDown:Y,maxLength:30,id:q.name})))),a.a.createElement(m.a.Item,{label:R.city},u(q.city,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"}]})(a.a.createElement(p.a,{onKeyDown:Y,maxLength:25,id:q.city}))),a.a.createElement(m.a.Item,{label:R.street},u(q.street,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u043b\u0438\u0446\u044b"}]})(a.a.createElement(p.a,{onKeyDown:Y,maxLength:30,id:q.street}))),a.a.createElement(m.a.Item,{label:R.houseNumber},u(q.houseNumber,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(a.a.createElement(p.a,{onKeyDown:Y,maxLength:6,id:q.houseNumber}))),a.a.createElement(m.a.Item,{label:R.plz},u(q.plz,{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441"},{pattern:/[0-9]+/,message:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b"}]})(a.a.createElement(p.a,{onKeyDown:Y,maxLength:6,id:q.plz}))),a.a.createElement(m.a.Item,{label:R.clientComment},u(q.clientComment)(a.a.createElement(p.a,{onKeyDown:Y,maxLength:35,id:q.clientComment}))),a.a.createElement(m.a.Item,{label:R.deliveryCost},u(q.deliveryCost)(a.a.createElement(U.a,{onChange:function(e){return k(q.deliveryCost,e)},id:q.deliveryCost},M.map(function(e){return a.a.createElement(Z,{key:e,value:e},e)}))))),a.a.createElement(S.a,null),a.a.createElement("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-between"}},a.a.createElement(y.a,{type:"danger",size:"large",onClick:K},R.clear," / ESC"),a.a.createElement(m.a.Item,null,a.a.createElement(y.a,{htmlType:"submit",type:"primary",size:"large"},R.goToOrder," / F2")))))}))),ae=P.a.Header,ce=P.a.Content,oe=P.a.Sider,ie=s.a.Text,le=Object(u.b)(function(e){return{formDataState:e.formDataState,lang:e.languages.lang,userRole:e.user.role}},function(e){return{logoutFromUser:function(){e({type:"LOGOUT_USER"})},changeLang:function(t){e(function(e){return{type:"CHANGE_LANGUAGE",lang:e}}(t))}}})(Object(l.e)(function(e){var t=e.lang,r=e.userRole,c=e.logoutFromUser,o=e.changeLang,i=e.history,l=Object(n.useState)(C[t]),u=Object(d.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(!1),O=Object(d.a)(p,2),b=O[0],E=O[1];Object(n.useEffect)(function(){m(C[t])},[t,m]),Object(n.useEffect)(function(){m(C[t])},[t]);var g=Object(n.useCallback)(function(e){c(),i.push("".concat(I,"/"))},[c,i]),h=Object(n.useCallback)(function(e){var t=e.target.value;o(t)},[o]),T=Object(n.useCallback)(function(e){E(e)},[E]);return a.a.createElement(P.a,{style:{minHeight:"100vh"}},a.a.createElement(oe,{collapsible:!0,onCollapse:T,theme:"light",style:{overflow:"auto",height:"100vh",left:0}},a.a.createElement("div",{className:"menu"},a.a.createElement(k.a,{style:{height:"100vh"},defaultSelectedKeys:["2"],mode:"inline"},a.a.createElement(k.a.Item,{disabled:!0},a.a.createElement(f.a,{type:"tag"}),!b&&a.a.createElement(x.a.Group,{value:t,onChange:h},a.a.createElement(x.a.Button,{value:"ru"},"ru"),a.a.createElement(x.a.Button,{value:"de"},"de"))),a.a.createElement(k.a.Item,{key:"1",onClick:g,className:"logout-button"},a.a.createElement(f.a,{type:"logout"}),a.a.createElement("span",null,s.logout)),a.a.createElement(k.a.Item,{key:"2"},a.a.createElement(f.a,{type:"phone"}),a.a.createElement("span",null,s.callForm)),a.a.createElement(k.a.Item,{key:"3"},a.a.createElement(f.a,{type:"shopping-cart"}),a.a.createElement("span",null,s.allOrders)),a.a.createElement(k.a.Item,{key:"4"},a.a.createElement(f.a,{type:"dashboard"}),a.a.createElement("span",null,s.cookingMonitor)),a.a.createElement(k.a.Item,{key:"5"},a.a.createElement(f.a,{type:"car"}),a.a.createElement("span",null,s.carMonitor)),a.a.createElement(k.a.Item,{key:"6"},a.a.createElement(f.a,{type:"bar-chart"}),a.a.createElement("span",null,s.report)),a.a.createElement(k.a.Item,{key:"7"},a.a.createElement(f.a,{type:"setting"}),a.a.createElement("span",null,s.settings)),a.a.createElement(k.a.Item,{key:"8"},a.a.createElement(f.a,{type:"question-circle"}),a.a.createElement("span",null,s.help))),a.a.createElement(ie,{style:{textAlign:"center",paddingBottom:"20px",borderRight:"1px solid #e8e8e8"}},r))),a.a.createElement(P.a,null,a.a.createElement(ae,{style:{background:"#fff",marginTop:"24px",height:"auto",display:"flex",flexFlow:"row nowrap",justifyContent:"space-around"}},a.a.createElement(y.a,{type:"dashed",size:"large"},s.tableOrders),a.a.createElement(y.a,{type:"dashed",size:"large"},s.selfPickUp),a.a.createElement(y.a,{type:"dashed",size:"large"},s.sales),a.a.createElement(y.a,{type:"dashed",size:"large"},s.phoneMonitor)),a.a.createElement(S.a,null),a.a.createElement(ce,{style:{margin:"0 16px",background:"inherit"}},a.a.createElement(ne,null))))})),ue=r(373);r(329);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(r,!0).forEach(function(t){Object(E.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var me={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,r){console.log("OnSelect: ",Object.entries(e),t,r)},onSelectAll:function(e,t,r){console.log("onSelectAll: ",e,t,r)}};function pe(e){var t=e.children.find(function(e){return e.props.record.selected});return a.a.createElement("tr",{className:"".concat(e.className," ").concat(t?"didolf":"")},e.children)}var fe=Object(u.b)(function(e,t){return{cartProducts:e.cartProducts,lang:e.languages.lang}},function(e,t){return{addProduct:function(t,r,n){e(function(e,t,r){return{type:h.ADD_PRODUCT_TO_CART,article:e,productName:t,price:r}}(t,r,n))},addAddition:function(t,r,n,a){e(function(e,t,r,n){return{type:h.ADD_ADDITION_TO_PRODUCT_IN_CART,productArticle:e,additionArticle:t,additionName:r,additionPrice:n}}(t,r,n,a))},deleteProduct:function(t){e(function(e){return{type:h.DELETE_PRODUCT_FROM_CART,productArticle:e}}(t))},deleteAddition:function(t,r){e(function(e,t){return{type:h.DELETE_ADDITION_OF_PRODUCT_FROM_CART,productArticle:e,additionArticle:t}}(t,r))},incrementProduct:function(t){e(function(e){return{type:h.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,productArticle:e}}(t))},decrementProduct:function(t){e(function(e){return{type:h.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,productArticle:e}}(t))},incrementAddition:function(t,r){e(function(e,t){return{type:h.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,productArticle:e,additionArticle:t}}(t,r))},decrementAddition:function(t,r){e(function(e,t){return{type:h.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,productArticle:e,additionArticle:t}}(t,r))}}})(function(e){var t=e.cartProducts,r=e.lang,c=e.addProduct,o=e.addAddition,i=e.deleteProduct,l=e.deleteAddition,u=e.incrementAddition,s=e.incrementProduct,m=e.decrementAddition,O=e.decrementProduct,b=Object(n.useState)(C[r]),y=Object(d.a)(b,2),E=y[0],g=y[1],h=Object(n.useState)(_("")),T=Object(d.a)(h,2),v=T[0],N=T[1],D=Object(n.useState)(""),A=Object(d.a)(D,2),j=A[0],I=A[1],w=Object(n.useState)({additionIndex:void 0,productIndex:1}),R=Object(d.a)(w,2),P=R[0],k=R[1],x=function(e){var t=v.map(function(e){return e.article===P.productIndex&&(void 0===P.additionIndex?e.selected=!1:e&&Array.isArray(e.children)&&(e.children=e.children.map(function(e){return e.article===P.additionIndex&&(e.selected=!1),e}))),e});N(t),k(e)};t=Object(n.useMemo)(function(){return t.map(function(e){return se({},e,{key:e.article,children:e.children?e.children.map(function(t){return se({},t,{key:e.article+":"+t.article,parentArticle:e.article})}):void 0})})},[t]);var S=Object(n.useCallback)(function(e){if("ArrowUp"===e.code||"ArrowDown"===e.code){var t={productIndex:P.productIndex};if(void 0===P.additionIndex){var r=v.findIndex(function(e){return e.article===P.productIndex}),n=v[r],a=(n.article,n.children);if("ArrowUp"===e.code){if(0!==r&&1!==v.length){var c=v[r-1],o=c.article,i=c.children;t.productIndex=o,i&&0!==i.length&&(t.additionIndex=i[i.length-1].article)}}else a&&0!==a.length?t.additionIndex=a[0].article:1!==v.length&&(t.productIndex=v[(r+1)%v.length].article)}else{var l=v.findIndex(function(e){return e.article===P.productIndex}),u=v[l],d=(u.article,u.children);d&&d.length||x(t);var s=d.findIndex(function(e){return e.article===P.additionIndex});d[s].article;"ArrowUp"===e.code?0!==s&&(t.additionIndex=d[s-1].article):s!==d.length-1?t.additionIndex=d[s+1].article:l!==v.length-1&&(t.productIndex=v[l+1].article)}x(t)}},[v,P,x]),U=Object(n.useCallback)(function(e){if("-"===e.key){var t=P.productIndex,r=P.additionIndex;void 0!==r?m(t,r):O(t)}},[P,m,O]),F=Object(n.useCallback)(function(e){if("+"===e.key||"Enter"===e.code){var t=P.productIndex,r=P.additionIndex,n=v.find(function(e){return e.article===t});if(n){var a=n.article,i=n.productName,l=n.price,u=n.children;if(void 0!==r){if(Array.isArray(u)&&void 0!==u){var d=u.find(function(e){return e.article===r});if(d){var s=d.article,m=d.productName,p=d.price;void 0!==s&&o(t,s,m,p)}}}else void 0!==a&&c(a,i,l)}}},[P,u,s]);Object(n.useEffect)(function(){return window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",S)}},[S]),Object(n.useEffect)(function(){return window.addEventListener("keydown",F),function(){window.removeEventListener("keydown",F)}},[F]),Object(n.useEffect)(function(){return window.addEventListener("keydown",U),function(){window.removeEventListener("keydown",U)}},[U]),Object(n.useEffect)(function(){g(C[r])},[r]),Object(n.useEffect)(function(){if(Array.isArray(v)){var e=v.map(function(e){if(e.article===P.productIndex){if(void 0===P.additionIndex)return se({},e,{selected:!0});if(e.children){var t=e.children.findIndex(function(e){return e.article===P.additionIndex});if(e.children[t]=se({},e.children[t],{selected:!0}),-1!==t)return e}}return e});void 0!==e&&N(e)}},[P]);var L=Object(n.useCallback)(function(){return _(j)},[j]);Object(n.useEffect)(function(){var e=L();e&&e[0]&&x({productIndex:e[0].article}),N(e)},[L,N]);var q=Object(n.useCallback)(function(e,t){return function(r){if(t){var n=v.find(function(e){return e.article===t});if(n&&n.children){var a=n.children.find(function(t){return t.article===e});if(a){var i=a.productName,l=a.price;o(t,e,i,l)}}}else{var u=v.find(function(t){return t.article===e});if(u){var d=u.productName,s=u.price;c(e,d,s)}}}},[v,o,c]),M=Object(n.useCallback)(function(e,t){return function(r){t?m(t,e):O(e)}},[v,o,c]),z=Object(n.useCallback)(function(e,t){return function(r){t?l(t,e):i(e)}},[v,o,c]),K=[{title:E.article,dataIndex:"article",key:"article"},{title:E.quantity,dataIndex:"quantity",key:"quantity",width:"12%"},{title:E.productName,dataIndex:"productName",width:"30%",key:"productName"},{title:E.price,dataIndex:"price",width:"30%",key:"price"},{key:"action",title:"Action",render:function(e){var t=e.parentArticle,r=e.article;return a.a.createElement("div",{key:t+":"+r},a.a.createElement(f.a,{type:"close-square",onClick:z(r,t)}),a.a.createElement(f.a,{type:"minus-square",onClick:M(r,t)}),a.a.createElement(f.a,{type:"plus-square",onClick:q(r,t)}))}}],Q=[{title:E.article,dataIndex:"article",key:"article"},{title:E.quantity,dataIndex:"quantity",key:"quantity",width:"12%"},{title:E.productName,dataIndex:"productName",width:"30%",key:"productName"},{title:E.price,dataIndex:"price",width:"30%",key:"price"},{key:"action",title:"Action",render:function(e){var t=e.parentArticle,r=e.article;return a.a.createElement("div",{key:r+":"+t},a.a.createElement(f.a,{type:"minus-square",onClick:M(r,t)}),a.a.createElement(f.a,{type:"plus-square",onClick:q(r,t)}))}}];return a.a.createElement("div",{className:"cart"},a.a.createElement("div",{className:"cart__order-table"},a.a.createElement(p.a,null),a.a.createElement(ue.a,{pagination:!1,expandedRowKeys:t.map(function(e){return e.article}),defaultExpandAllRows:!0,columns:K,rowSelection:me,dataSource:t})),a.a.createElement("div",{className:"cart__products-table"},a.a.createElement(p.a,{value:j,onChange:function(e){return I(e.target.value)},autoFocus:!0}),a.a.createElement(ue.a,{components:{body:{row:pe}},pagination:!1,expandedRowKeys:v.map(function(e){return e.article}),defaultExpandAllRows:!0,columns:Q,rowSelection:me,dataSource:v})))}),Oe=r(73),be=Object(Oe.b)({languages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lang:"ru"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LANGUAGE":return{lang:t.lang};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{role:"",code:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":var r=t.role,n=t.code;return{role:r,code:n};case"LOGOUT_USER":return G({},e,{role:""});default:return e}},formDataState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return G({},e,Object(E.a)({},t.fieldName,t.fieldValue));case D:for(var r=G({},e),n=0,a=Object.entries(t.newState);n<a.length;n++){var c=a[n],o=Object(d.a)(c,2),i=o[0],l=o[1];r[i]=l}return r;case A:return G({},V);default:return e}},cartProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.ADD_PRODUCT_TO_CART:var r=t.article,n=t.productName,a=t.price,c=Q(e),o=c.findIndex(function(e){return e.article===r});if(-1!==o){var i=c[o].quantity;c[o]=G({},c[o],{quantity:i+1})}else c.push({article:r,productName:n,price:a,quantity:1});return c;case h.ADD_ADDITION_TO_PRODUCT_IN_CART:var l=t.productArticle,u=t.additionArticle,d=t.additionName,s=t.additionPrice,m=Q(e),p=m.findIndex(function(e){return e.article===l});if(-1!==p){var f=m[p].children;if(f){var O=f.findIndex(function(e){return e.article===u});if(-1!==O)f[O].quantity=f[O].quantity+1;else{var b=m[p].children;m[p].children=void 0!==b?[].concat(Object(z.a)(b),[{article:u,productName:d,price:s,quantity:1}]):[{article:u,productName:d,price:s,quantity:1}]}}else m[p].children=[{article:u,productName:d,price:s,quantity:1}]}return m;case h.DELETE_PRODUCT_FROM_CART:var y=t.productArticle,E=Q(e);return E.filter(function(e){return e.article!==y});case h.DELETE_ADDITION_OF_PRODUCT_FROM_CART:var g=t.productArticle,T=t.additionArticle,_=Q(e),v=_.findIndex(function(e){return e.article===g});if(-1!==v){var N=_[v].children;N&&(_[v].children=N.filter(function(e){return e.article!==T}))}return _;case h.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART:var D=t.productArticle,A=Q(e),j=A.findIndex(function(e){return e.article===D});return-1!==j&&(A[j]=G({},A[j],{quantity:A[j].quantity+1})),A;case h.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART:var C=t.productArticle,I=Q(e),w=I.findIndex(function(e){return e.article===C});if(-1!==w){var R=I[w].quantity;R>1?I[w]=G({},I[w],{quantity:R-1}):I.splice(w,1)}return I;case h.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT:var P=t.productArticle,k=t.additionArticle,x=Q(e),S=x.findIndex(function(e){var t=e.article;return P===t});if(-1!==S){var U=x[S].children;if(U){var F=U.findIndex(function(e){return e.article===k});if(-1!==F){var L=U[F];U[F]=G({},L,{quantity:L.quantity+1})}}}return x;case h.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT:var q=t.productArticle,M=t.additionArticle,K=Q(e),Y=K.findIndex(function(e){var t=e.article;return q===t});if(-1!==Y){var B=K[Y].children;if(B){var H=B.findIndex(function(e){return e.article===M});if(-1!==H){var V=B[H];V.quantity>1?B[H]=G({},V,{quantity:V.quantity-1}):B.splice(H,1)}}}return K;default:return e}}}),ye=JSON.parse(localStorage.getItem("pizza-redux")),Ee=ye?Object(Oe.c)(be,ye):Object(Oe.c)(be);Ee.subscribe(function(){return localStorage.setItem("pizza-redux",JSON.stringify(Ee.getState()))});var ge=Ee;o.a.render(a.a.createElement(i.a,null,a.a.createElement(u.a,{store:ge},a.a.createElement(l.a,{path:"".concat(I,"/menu"),component:le}),a.a.createElement(l.a,{path:"".concat(I,"/index.html"),exact:!0,component:R}),a.a.createElement(l.a,{path:"".concat(I,"/"),exact:!0,component:R}),a.a.createElement(l.a,{path:"".concat(I,"/finish"),component:fe}))),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.7761468f.chunk.js.map