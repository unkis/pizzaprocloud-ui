{"version":3,"sources":["fakeBD.ts","redux/actions.ts","lang/index.ts","lang/ru.ts","lang/de.ts","constants/rootUrl.ts","components/Auth/index.tsx","constants/fieldNames.ts","constants/selectValues.ts","helpers/deepCopy.ts","redux/reducers.ts","components/DeliveryForm/index.tsx","components/LeftMenu/index.tsx","components/Cart/index.tsx","redux/index.ts","index.tsx"],"names":["cartProductsActions","fakeBD","customers","customerNumber","phoneNumber","deliveryCost","name","street","houseNumber","plz","city","products","key","article","quantity","productName","price","children","parentArticle","searchProducts","searchString","slice","toLowerCase","map","product","productChildren","filter","toString","includes","length","Boolean","formDataActions","langMap","authTitle","organizationNumber","username","password","autoLogin","login","tableOrders","selfPickUp","sales","phoneMonitor","clientComment","clear","goToOrder","logout","callForm","allOrders","cookingMonitor","carMonitor","report","settings","help","ROOT_URL","Title","Typography","Auth","connect","state","lang","languages","code","user","userRole","role","dispatch","addUser","type","Form","create","withRouter","form","history","useState","errMsg","setErrMsg","language","setLanguage","useEffect","setFieldsValue","push","getFieldDecorator","id","onSubmit","e","preventDefault","validateFields","err","values","getFieldsValue","className","autoComplete","level","style","textAlign","Item","rules","required","message","pattern","autoFocus","prefix","color","placeholder","valuePropName","initialValue","htmlType","fieldNames","selectValues","deepCopy","object","newObject","Array","isArray","deepArrayCopy","Object","keys","arr","item","initialFormDataState","initialCartProductsState","Option","Select","formItemLayout","labelCol","xs","span","sm","lg","xl","wrapperCol","dataSourceActions","ADD_TO_DATA_SOURCE","dataSourceReducer","action","dataSourceName","dataSourceData","addToDataSource","initialDataSourceState","DeliveryForm","formDataState","ownProps","addDataToFormData","value","fieldName","fieldValue","updateFieldsOfFormData","newState","updateAllFieldsOfFormData","clearFields","useReducer","dataSourceState","dispatchToDataSource","dataSourceLiveState","dispatchToDataSourceLive","onFieldChange","useCallback","handleSearch","arg","startsWith","fetched","nextPage","handleClearClick","handleSubmit","handleEscDown","handleEnterDown","console","log","fieldId","customer","find","window","addEventListener","removeEventListener","object1","object2","entries","compareTwoObjects","onKeyDown","width","maxWidth","label","dataSource","onSearch","onSelect","maxLength","onChange","display","flexFlow","justifyContent","size","onClick","Header","Layout","Content","Sider","Text","LeftMenu","logoutFromUser","changeLang","changeLanguage","collapsed","setCollapsed","handleLangChange","target","handleCollapse","minHeight","collapsible","onCollapse","theme","overflow","height","left","defaultSelectedKeys","mode","disabled","Group","Button","paddingBottom","borderRight","background","marginTop","margin","rowSelection","selectedRowKeys","selectedRows","record","selected","onSelectAll","changeRows","TableRow","props","isSelected","cartProducts","addProduct","ADD_PRODUCT_TO_CART","addProductToCart","addAddition","productArticle","additionArticle","additionName","additionPrice","ADD_ADDITION_TO_PRODUCT_IN_CART","addAdditionToProductInCart","deleteProduct","DELETE_PRODUCT_FROM_CART","deleteProductFromCart","deleteAddition","DELETE_ADDITION_OF_PRODUCT_FROM_CART","deleteAdditionOfProductFromCart","incrementProduct","INCREMENT_QUANTITY_OF_PRODUCT_IN_CART","incrementQuantityOfProductInCart","decrementProduct","DECREMENT_QUANTITY_OF_PRODUCT_IN_CART","decrementQuantityOfProductInCart","incrementAddition","INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","incrementQuantityOfAdditionOfProduct","decrementAddition","DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","decrementQuantityOfAdditionOfProduct","setProducts","search","setSearch","additionIndex","undefined","productIndex","currentSelection","setCurrentSelectionSt","setCurrentSelection","newSelection","newProducts","child","useMemo","keyDownListener","event","newSelectionArticle","findIndex","onMinusKeyDown","onPlusOrEnterKeyDown","childIndex","fetchProds","prods","addToCart","addition","decrementFromCart","deleteFromCart","columns1","title","dataIndex","render","columns2","pagination","expandedRowKeys","defaultExpandAllRows","columns","components","body","row","appState","combineReducers","articleIndex","prevQuantity","productArticleIndex","oldAdditions","additionArticleIndex","productAdditions","additions","currentQuantity","splice","initialState","JSON","parse","localStorage","getItem","store","createStore","subscribe","setItem","stringify","getState","ReactDOM","path","component","exact","Cart","document","getElementById"],"mappings":"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","file":"static/js/main.7761468f.chunk.js","sourcesContent":["const fakeBD = {\n    customers: [\n        {\n            customerNumber: 1\n        },\n        {\n            customerNumber: 2\n        },\n        {\n            customerNumber: 3\n        },\n        {\n            customerNumber: 33,\n            phoneNumber: 89821251216,\n            deliveryCost: '2,50',\n            name: 'Дмитрий',\n            street: 'Уличная',\n            houseNumber: '16',\n            plz: '123456',\n            city: 'Москва',\n        },\n        {\n            customerNumber: 333\n        }\n    ],\n    products: [\n        {\n            key: 1,\n            article: 1,\n            quantity: 10,\n            productName: 'Test1',\n            price: 60,\n            children: [\n                {\n                    key: 11,\n                    parentArticle: 1,\n                    article: 11,\n                    productName: 'Test2',\n                    price: 60,\n                },\n                {\n                    key: 12,\n\n                    parentArticle: 1,\n                    article: 12,\n                    productName: 'Test3',\n                    price: 60,\n                },\n                {\n                    key: 13,\n\n                    parentArticle: 1,\n                    article: 13,\n                    productName: 'Test4',\n                    price: 60,\n                },\n            ],\n        },\n        {\n            key: 2,\n            article: 2,\n            quantity: 10,\n            productName: 'Test5',\n            price: 60,\n            children: [\n                {\n                    key: 21,\n\n                    parentArticle: 2,\n                    article: 21,\n                    productName: 'Test6',\n                    price: 60,\n                },\n                {\n                    key: 22,\n\n                    parentArticle: 2,\n                    article: 22,\n                    productName: 'Test7',\n                    price: 60,\n                },\n                {\n                    key: 23,\n                    parentArticle: 2,\n                    article: 23,\n                    productName: 'Test8',\n                    price: 60,\n                },\n            ],\n        },\n    ]\n\n};\nexport const auth = (login: string, password: string) => {\n    if (login === 'test' && password === 'test') {\n        return { role: 'admin' };\n    }\n    return null;\n}\n\nexport const searchProducts: any = (searchString: string) => {\n    if (searchString === '') {\n        return fakeBD.products.slice(0, 10);\n    }\n    searchString = searchString.toLowerCase();\n    const res = fakeBD.products.map((product) => {\n        const { article, productName, children } = product;\n        const productChildren = children.filter(({ article, productName }) => article.toString().toLowerCase().includes(searchString.toLowerCase()) || productName.toString().toLowerCase().includes(searchString.toLowerCase()));\n        if (productChildren.length !== 0) {\n            return { ...product, children: productChildren };\n        }\n        const isProduct = article.toString().toLowerCase().includes(searchString.toLowerCase()) || productName.toString().toLowerCase().includes(searchString.toLowerCase());\n        if (isProduct) {\n            return product;\n        } else {\n            return null;\n        }\n    }).filter(Boolean);\n    return res;\n}\nexport default fakeBD;\n","import { changeLanguageType, addUserType, logoutUserType } from './actionsTypes';\nimport { number } from 'prop-types';\n\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE';\nexport const ADD_USER = 'ADD_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\nexport const formDataActions = {\n  ADD_TO_FORM_DATA: 'ADD_TO_FORM_DATA',\n  UPDATE_ALL_FIELDS: 'UPDATE_ALL_FIELDS',\n  CLEAR_ALL_FIELDS: 'CLEAR_ALL_FIELDS'\n};\n\nexport enum cartProductsActions {\n  ADD_PRODUCT_TO_CART,\n  ADD_ADDITION_TO_PRODUCT_IN_CART,\n  DELETE_PRODUCT_FROM_CART,\n  DELETE_ADDITION_OF_PRODUCT_FROM_CART,\n  INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n  DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n};\n\n\nexport const changeLanguage: changeLanguageType = (lang) => ({ type: CHANGE_LANGUAGE, lang });\n\nexport const addUser: addUserType = (role, code) => ({ type: ADD_USER, role, code });\n\nexport const logoutUser: logoutUserType = () => ({ type: LOGOUT_USER });\n\nexport const addToFormData = (fieldName: string, fieldValue: string) => ({ type: formDataActions.ADD_TO_FORM_DATA, fieldName, fieldValue });\n\nexport const updateAllFieldsOfFormData = (newState: any) => ({ type: formDataActions.UPDATE_ALL_FIELDS, newState });\n\nexport const clearAllFields = () => ({ type: formDataActions.CLEAR_ALL_FIELDS });\n\nexport const addProductToCart= (article: number, productName: string, price: number) => \n  ({ type: cartProductsActions.ADD_PRODUCT_TO_CART, article, productName, price });\n\nexport const addAdditionToProductInCart = (productArticle: number, additionArticle: number, additionName: string, additionPrice: number) => \n  ({ type: cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART, productArticle, additionArticle, additionName, additionPrice });\n\nexport const deleteProductFromCart = (productArticle: number) => \n  ({ type: cartProductsActions.DELETE_PRODUCT_FROM_CART, productArticle });\n\nexport const deleteAdditionOfProductFromCart = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART, productArticle, additionArticle });\n\nexport const incrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const decrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const incrementQuantityOfAdditionOfProduct = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n\nexport const decrementQuantityOfAdditionOfProduct =  (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n","import ru from './ru';\nimport de from './de';\n\nexport type langType = 'ru' | 'de';\n\nexport type langMapType = {\n  'ru': typeof ru,\n  'de': typeof de\n};\n\nexport const langMap: langMapType = {\n  'ru': ru,\n  'de': de\n};\n","const ru = {\n    authTitle: 'Авторизация',\n    organizationNumber: 'Номер организации',\n    username: 'Имя пользователя',\n    password: 'Пароль',\n    autoLogin: 'Запомнить меня',\n    login: 'Войти',\n    tableOrders: 'Tischbestellungen', //TODO: Перевод\n    selfPickUp: 'Selbstabholer', //TODO: Перевод\n    sales: 'Hausverkauf', //TODO: Перевод\n    phoneMonitor: 'Telefon monitor', //TODO: Перевод\n    customerNumber: 'Номер клиента',\n    phoneNumber: 'Номер телефона',\n    name: 'Имя',\n    street: 'Улица',\n    houseNumber: 'Номер дома',\n    plz: 'Почтовый индекс',\n    city: 'Город',\n    clientComment: 'Комментарий клиента',\n    deliveryCost: 'Стоимость доставки',\n    clear: 'Очистить',\n    goToOrder: 'Продолжить заказ',\n    logout: 'Выйти',\n    callForm: 'Доставка',\n    allOrders: 'Все заказы',\n    cookingMonitor: 'Монитор кухни',\n    carMonitor: 'Монитор доставки',\n    report: 'Отчет',\n    settings: 'Настройки',\n    help: 'Помощь',\n    quantity: 'Количество',\n    article: 'Артикул',\n    productName: 'Номенклатура',\n    price: 'Цена'\n};\n\nexport default ru;\n","const de = {\n    authTitle: 'Restaurant-Login',\n    organizationNumber: 'Kundennumer',\n    username: 'Benutzername',\n    password: 'Passwort',\n    autoLogin: 'Automatisch Anmelden',\n    login: 'Login',\n    tableOrders: 'Tischbestellungen',\n    selfPickUp: 'Selbstabholer',\n    sales: 'Hausverkauf',\n    phoneMonitor: 'Telefon monitor',\n    customerNumber: 'Kundennummer',\n    phoneNumber: 'Telefonnumer',\n    name: 'Name',\n    street: 'Strasse',\n    houseNumber: 'Hausnummer',\n    plz: 'PLZ',\n    city: 'Stadt',\n    clientComment: 'Bemerkung',\n    deliveryCost: 'Anfahrtskosten',\n    clear: 'Löschen',\n    goToOrder: 'Bestellung',\n    logout: 'Logout',\n    callForm: 'Lieferdienst',\n    allOrders: 'Alle Bestellungen',\n    cookingMonitor: 'Kuchen monitor',\n    carMonitor: 'Fahrer monitor',\n    report: 'Berichten',\n    settings: 'Einstellungen',\n    help: 'Hilfe',\n    quantity: 'Количество',\n    article: 'Артикул',\n    productName: 'Номенклатура',\n    price: 'Цена'\n};\n\nexport default de;\n","export const ROOT_URL = '/pizzaprocloud-ui';\n","import React, { useState, useEffect } from 'react';\nimport { Form, Icon, Input, Button, Checkbox, Typography, Alert } from 'antd';\nimport { connect, MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\n\nimport './Auth.css';\n\nimport { auth } from '../../fakeBD';\n\nimport { addUser } from '../../redux/actions';\n\nimport { LoginFormProps, LoginFormOwnProps, LoginFormDispatchProps, LoginFormStateProps, LoginFormValues } from './types';\nimport { State } from '../../redux/types';\n\nimport { langMap } from '../../lang';\nimport { FormComponentProps } from 'antd/es/form';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Title } = Typography;\n\nexport const LoginForm = ({ form, history, lang, addUser, code, userRole }: LoginFormProps) => {\n  const [errMsg, setErrMsg] = useState('');\n  const [language, setLanguage] = useState(langMap[lang]);\n\n  useEffect(() => form.setFieldsValue({ code }), []);\n\n  useEffect(() => {\n    if (userRole) {\n      history.push(`${ROOT_URL}/menu`);\n    }\n  }, [userRole]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    form.validateFields((err: any, values: LoginFormValues) => {\n      const user = auth(values.username, values.password);\n      if (!err && user) {\n        addUser(user.role, form.getFieldsValue().code);\n        history.push(`${ROOT_URL}/menu`);\n      } else if (!user) {\n        setErrMsg('Вы неверно ввели логин или пароль');\n      }\n    });\n  };\n\n    const { getFieldDecorator } = form;\n    return (\n        <div id=\"components-form-demo-normal-login\">\n        <Form onSubmit={handleSubmit} className=\"login-form\" autoComplete=\"off\">\n            <Title level={4} style={{textAlign: 'center'}}>{language.authTitle}</Title>\n            <Form.Item>\n            {getFieldDecorator('code', {\n                rules: [\n                  { required: true, message: 'Введите код' },\n                { pattern: /[0-9]+/, message: 'Разрешены только цифры'}\n              ],\n            })(\n                <Input\n                \n                autoFocus\n                autoComplete=\"off\"\n                prefix={<Icon type=\"number\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.organizationNumber}\n                />\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('username', {\n                rules: [{ required: true, message: 'Введите имя пользователя' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.username}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('password', {\n                rules: [{ required: true, message: 'Введите пароль' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                type=\"password\"\n                placeholder={language.password}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('remember', {\n                valuePropName: 'checked',\n                initialValue: true,\n            })(<Checkbox>{language.autoLogin}</Checkbox>)}\n            {errMsg && <div>\n                <Alert type=\"error\" message={errMsg}/>\n            </div>}\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                {language.login}\n            </Button>\n            </Form.Item>\n        </Form>\n      </div>\n    );\n}\n\nconst mapStatetoProps: MapStateToProps<LoginFormStateProps, LoginFormOwnProps, State> = (state) => {\n  return {\n    lang: state.languages.lang,\n    code: state.user.code,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<LoginFormDispatchProps, LoginFormOwnProps> = (dispatch) => {\n  return {\n    addUser(role: string, code: string) {\n      dispatch(addUser(role, code));\n    }\n  }\n};\n\nexport const Auth = connect(mapStatetoProps, mapDispatchToProps)(Form.create<FormComponentProps<LoginFormOwnProps>>({ name: 'normal_login' })(withRouter<RouteComponentProps<LoginFormOwnProps & LoginFormDispatchProps & LoginFormStateProps, any, any>, any>(LoginForm)));\n","const fieldNames: fieldNamesInterface = {\n  customerNumber: 'customerNumber',\n  phoneNumber: 'phoneNumber',\n  name: 'name',\n  street: 'street',\n  houseNumber: 'houseNumber',\n  plz: 'plz',\n  city: 'city',\n  clientComment: 'clientComment',\n  deliveryCost: 'deliveryCost',\n  article: 'article',\n  quantity: 'quantity',\n  productName: 'productName',\n  price: 'price'\n};\n\nexport interface fieldNamesInterface {\n  customerNumber: string,\n  phoneNumber: string,\n  name: string,\n  street: string,\n  houseNumber: string,\n  plz: string,\n  city: string,\n  clientComment: string,\n  deliveryCost: string,\n  article: string;\n  quantity: string;\n  productName: string;\n  price: string;\n};\n\nexport default fieldNames;\n","export const selectValues = ['0,00', '0,50', '1,00', '1,50', '2,00', '2,50', '3,00'];\n","export function deepCopy<T extends Object>(object: T) : T {\n  let newObject: typeof object;\n  if (Array.isArray(object)) {\n    return deepArrayCopy(object);\n  } else if (typeof object === 'object') {\n    newObject = { ...object };\n  } else {\n    return object;\n  }\n  for (let key2 of Object.keys(newObject)) {\n    let key = key2 as keyof typeof newObject;\n    if (Array.isArray(newObject[key])) {\n\n      newObject[key] = deepArrayCopy(newObject[key] as any);\n    } else if (typeof newObject[key] === 'object') {\n      newObject[key] = deepCopy(newObject[key]);\n    }\n  }\n  return newObject;\n};\n\nfunction deepArrayCopy<T extends Array<any>>(arr: T):any {//FIXME\n  return arr.map((item: any) => deepCopy(item));\n};\n","import { CHANGE_LANGUAGE, ADD_USER, LOGOUT_USER, formDataActions, cartProductsActions } from './actions';\n\nimport fieldNames from '../constants/fieldNames';\nimport { selectValues } from '../constants/selectValues';\n\nimport { deepCopy } from '../helpers/deepCopy';\n\nimport {\n  LanguagesState,\n  LanguageAction,\n  UserState,\n  UserAction,\n  FormDataStateType,\n  FormDataStateAction,\n  CartProductsState,\n  CartProductsAction\n} from './reducersTypes';\n\nexport const languages = (state: LanguagesState = { lang: 'ru' }, action: LanguageAction) => {\n  switch (action.type) {\n    case CHANGE_LANGUAGE: {\n      return { lang: action.lang };\n    };\n    default: return state;\n  }\n};\n\nexport const user = (state: UserState = { role: '', code: '' }, action: UserAction) => {\n  switch (action.type) {\n    case ADD_USER: {\n      const { role, code } = action;\n      return { role, code };\n    };\n    case LOGOUT_USER: {\n      return {\n        ...state,\n        role: ''\n      };\n    }\n    default: return state;\n  }\n};\n\nexport const initialFormDataState: any = {//TODO: add types\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.name]: '',\n  [fieldNames.street]: '',\n  [fieldNames.houseNumber]: '',\n  [fieldNames.plz]: '',\n  [fieldNames.city]: '',\n  [fieldNames.clientComment]: '',\n  [fieldNames.deliveryCost]: selectValues[0]\n};\n\nexport const formDataState = (state: FormDataStateType = initialFormDataState, action: FormDataStateAction) => {\n  switch (action.type) {\n    case formDataActions.ADD_TO_FORM_DATA: {\n      return {\n        ...state,\n        [action.fieldName]: action.fieldValue\n      };\n    };\n    case formDataActions.UPDATE_ALL_FIELDS: {\n      const newState = { ...state };\n      for (let [key, value] of Object.entries(action.newState)) {\n        newState[key] = value;\n      };\n      return newState;\n    };\n    case formDataActions.CLEAR_ALL_FIELDS: {\n      return { ...initialFormDataState };\n    };\n    default:\n      return state;\n  };\n};\n\nexport const initialCartProductsState = [];\n\nexport const cartProducts = (state: CartProductsState = initialCartProductsState, action: CartProductsAction) => {\n  switch (action.type) {\n\n    case cartProductsActions.ADD_PRODUCT_TO_CART: {\n      const { article, productName, price } = action;\n      const newState = deepCopy(state);\n\n      const articleIndex = newState.findIndex(({ article: newStateArticle }) => newStateArticle === article);\n      if (articleIndex !== -1) {\n        const prevQuantity = newState[articleIndex].quantity;\n        newState[articleIndex] = { ...newState[articleIndex], quantity: prevQuantity + 1 };\n      } else {\n        newState.push({ article, productName, price, quantity: 1 })\n      }\n      return newState;\n    }\n\n    case cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART: {\n      const { productArticle, additionArticle, additionName, additionPrice } = action;\n      const newState = deepCopy(state);\n      const productArticleIndex = newState.findIndex(({ article }) => article === productArticle);\n      if (productArticleIndex !== -1) {\n        const oldAdditions = newState[productArticleIndex].children;\n        if (oldAdditions) {\n          const additionArticleIndex = oldAdditions.findIndex(({ article }) => article === additionArticle);\n          if (additionArticleIndex !== -1) {\n            oldAdditions[additionArticleIndex].quantity = oldAdditions[additionArticleIndex].quantity + 1;\n          } else {\n            const productAdditions = newState[productArticleIndex].children;\n            if (productAdditions !== undefined) {\n              newState[productArticleIndex].children = [...(productAdditions), { article: additionArticle, productName: additionName, price: additionPrice, quantity: 1 }];\n            } else {\n              newState[productArticleIndex].children = [{ article: additionArticle, productName: additionName, price: additionPrice, quantity: 1 }];\n            }\n          }\n        } else {\n          newState[productArticleIndex].children = [{ article: additionArticle, productName: additionName, price: additionPrice, quantity: 1 }];\n        }\n      }\n      return newState;\n    }\n/* FIXME TESTS */\n    case cartProductsActions.DELETE_PRODUCT_FROM_CART: {\n        const { productArticle } = action;\n        const newState = deepCopy(state);\n        return newState.filter(({ article }) => article !== productArticle);\n    }\n\n    case cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART: {\n      const { productArticle, additionArticle } = action;\n      const newState = deepCopy(state);\n      const productIndex = newState.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const additions = newState[productIndex].children;\n        if (additions){\n          newState[productIndex].children = additions.filter(({ article }) => article !== additionArticle);\n        }\n      }\n      return newState;\n    }\n/* END FIXME */\n    case cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const newState = deepCopy(state);\n      const productIndex = newState.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        newState[productIndex] = { ...newState[productIndex], quantity: newState[productIndex].quantity + 1 };\n      }\n      return newState;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const newState = deepCopy(state);\n      const productIndex = newState.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const currentQuantity = newState[productIndex].quantity;\n        if (currentQuantity > 1) {\n          newState[productIndex] = { ...newState[productIndex], quantity: currentQuantity - 1 };\n        } else {\n          newState.splice(productIndex, 1);\n        }\n      }\n      return newState;\n    }\n\n    case cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const newState = deepCopy(state);\n      const productIndex = newState.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = newState[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            additions[additionIndex] = { ...addition, quantity: addition.quantity + 1 };\n          }\n        }\n      }\n      return newState;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const newState = deepCopy(state);\n      const productIndex = newState.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = newState[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            if (addition.quantity > 1) {\n              additions[additionIndex] = { ...addition, quantity: addition.quantity - 1 };\n            } else {\n              additions.splice(additionIndex, 1);\n            }\n          }\n        }\n      }\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\n","import React, { useReducer, useEffect, useCallback, useState } from 'react';\nimport { Button, Form, Input, AutoComplete, Select, Divider, Card } from 'antd';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect, MapDispatchToPropsNonObject, MapStateToPropsParam } from 'react-redux';\n\n//types\nimport { DeliveryFormProps } from './DeliveryFormTypes';\nimport { langType } from '../../lang';\n\nimport fakeBD from '../../fakeBD';\nimport { langMap } from '../../lang';\n\nimport fieldNames from '../../constants/fieldNames';\nimport { selectValues } from '../../constants/selectValues';\n\nimport { initialFormDataState } from '../../redux/reducers';\nimport { addToFormData, updateAllFieldsOfFormData, clearAllFields } from '../../redux/actions';\nimport { Action } from 'redux';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst dataSourceActions = {\n  ADD_TO_DATA_SOURCE: 'ADD_TO_DATA_SOURCE'\n};\n\ntype dataSourceReducerTypes = typeof dataSourceActions.ADD_TO_DATA_SOURCE;\ninterface dataSourceReducerAction extends Action<dataSourceReducerTypes> {\n  dataSourceName: string;\n  dataSourceData: string[];\n};\n\nfunction dataSourceReducer(state: any, action: dataSourceReducerAction) {//FIXME\n  switch (action.type) {\n    case dataSourceActions.ADD_TO_DATA_SOURCE: {\n      return {\n        ...state,\n        [action.dataSourceName]: action.dataSourceData\n      }\n    }\n  }\n};\n\n\nconst addToDataSource = (dataSourceName: string, dataSourceData: string[]) => ({ type: dataSourceActions.ADD_TO_DATA_SOURCE, dataSourceName, dataSourceData });\n\n\n\nconst initialDataSourceState: any = {//TODO: add types\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.name]: [],\n  [fieldNames.street]: [],\n  [fieldNames.houseNumber]: [],\n  [fieldNames.plz]: [],\n  [fieldNames.city]: [],\n  [fieldNames.clientComment]: [],\n  [fieldNames.deliveryCost]: []\n};\n\nconst tryToFetchUser = (fieldId: string, fieldValue: string) => fakeBD.customers.find((customer: any) => customer[fieldId] == fieldValue);\n\nconst compareTwoObjects = (object1: any, object2: any) => {\n  if (Object.keys(object1).length !== Object.keys(object2).length)\n    return false;\n  for (let [key, value] of Object.entries(object1)) {\n    if (object2[key] !== value)\n      return false;\n  };\n  return true;\n}\n\n\nconst mapDispatchToProps: MapDispatchToPropsNonObject<any, any> = (dispatch, ownProps) => ({\n  addDataToFormData(id: string, value: string) {\n    dispatch(addToFormData(id, value))\n  },\n  updateFieldsOfFormData(newState: any) {\n    dispatch(updateAllFieldsOfFormData(newState));\n  },\n  clearFields() {\n    dispatch(clearAllFields());\n  }\n});\n\nconst mapStateToProps: MapStateToPropsParam<any, any, any> = (state) => ({ formDataState: state.formDataState, lang: state.languages.lang });\n\nconst DeliveryForm = Form.create<DeliveryFormProps>(\n  { name: 'delivery_form' }\n  )(connect(mapStateToProps, mapDispatchToProps)(withRouter((\n    { lang, formDataState, addDataToFormData, clearFields, updateFieldsOfFormData, form: { getFieldDecorator, setFieldsValue, getFieldsValue }, form, history }: any) => {\n\n  const [dataSourceState, dispatchToDataSource] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [dataSourceLiveState, dispatchToDataSourceLive] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [language, setLanguage] = useState(langMap[lang as langType]);\n\n  const onFieldChange = useCallback((id: string, value: string) => {\n    addDataToFormData(id, value);\n  }, [addDataToFormData]);\n\n  const handleSearch = useCallback((arg: string, id: string) => {\n    updateFieldsOfFormData(getFieldsValue());\n    if (!dataSourceState[id].length) {\n      const fetched = fakeBD.customers.map(({ [id]: value } : any) => value && value.toString());\n      dispatchToDataSource(addToDataSource(id, fetched));//TODO: add types\n      dispatchToDataSourceLive(addToDataSource(id, fetched.filter((item: string) => item && item.startsWith(arg))));\n    } else {\n      dispatchToDataSourceLive(addToDataSource(id, dataSourceState[id].filter((item: string) => item && item.startsWith(arg))));\n    }\n  }, [updateFieldsOfFormData, getFieldsValue, dataSourceState, dispatchToDataSource, dispatchToDataSourceLive]);\n\n  const nextPage = useCallback(() => {\n    form.validateFields((err: any) => {\n      if (!err) {\n        history.push(`${ROOT_URL}/finish`);\n      }\n    });\n  }, [form, history]);\n\n  const handleClearClick = useCallback(() => {\n    setFieldsValue(initialFormDataState);\n    clearFields();\n  }, [setFieldsValue, clearFields]);\n\n  const handleSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    nextPage();\n  }, [nextPage]);\n\n  const handleEscDown = useCallback((e: any) => {\n    if (e.key === 'Escape') {\n      handleClearClick();\n    } else if (e.key === 'F2') {\n      nextPage();\n    }\n  }, [handleClearClick, nextPage]);\n\n  const handleEnterDown = useCallback((id: string, value: string) => {\n    console.log(\"enter\", id, value);\n    const customer = tryToFetchUser(id, value);\n    console.log(customer);\n    if (customer) {\n      setFieldsValue(customer);\n      updateFieldsOfFormData(customer);\n    }\n  }, [setFieldsValue, updateFieldsOfFormData]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang as langType]);\n  }, [lang]);\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscDown);\n    return () => window.removeEventListener('keydown', handleEscDown);\n  }, [handleEscDown]);\n\n  useEffect(() => {\n    if (compareTwoObjects(getFieldsValue(), formDataState))\n      return;\n    setFieldsValue(formDataState);\n  }, [formDataState, setFieldsValue, getFieldsValue]);\n\n  return (\n    <div>\n      <Form onSubmit={handleSubmit} onKeyDown={handleEscDown}  {...formItemLayout}>\n        <Card style={{ width: '60%', maxWidth: '500px'}}>\n        <Form.Item label={language.customerNumber}>\n          {getFieldDecorator(fieldNames.customerNumber, {\n            rules: [\n              { required: true, message: 'Введите номер клиента' },\n              { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n            ]\n          })(\n            <AutoComplete\n              dataSource={dataSourceLiveState[fieldNames.customerNumber]}\n              onSearch={(arg) => handleSearch(arg, fieldNames.customerNumber)}\n              onSelect={(value) => handleEnterDown(fieldNames.customerNumber, value as string)}\n            >\n              <Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.customerNumber} />\n            </AutoComplete>)}\n        </Form.Item>\n        <Form.Item label={language.phoneNumber}>\n          {getFieldDecorator(fieldNames.phoneNumber, {\n            rules: [\n              { required: true, message: 'Введите номер телефона клиента' },\n              { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n            ]\n          })(\n            <AutoComplete\n              dataSource={dataSourceLiveState[fieldNames.phoneNumber]}\n              onSearch={(arg) => handleSearch(arg, fieldNames.phoneNumber)}\n              onSelect={(value) => handleEnterDown(fieldNames.phoneNumber, value as string)}\n            >\n              <Input onKeyDown={handleEscDown} autoFocus={true} maxLength={15} id={fieldNames.phoneNumber} />\n            </AutoComplete>)}\n        </Form.Item>\n        <Form.Item label={language.name}>\n          {getFieldDecorator(fieldNames.name, {\n            rules: [\n              { required: true, message: 'Введите имя клиента' }\n            ]\n          })(\n            <AutoComplete\n              dataSource={dataSourceLiveState[fieldNames.name]}\n              onSearch={(arg) => handleSearch(arg, fieldNames.name)}\n              onSelect={(value) => handleEnterDown(fieldNames.name, value as string)}\n            >\n              <Input onKeyDown={handleEscDown}  maxLength={30} id={fieldNames.name} />\n            </AutoComplete>)}\n        </Form.Item>\n        <Form.Item label={language.city}>\n          {getFieldDecorator(fieldNames.city, {\n            rules: [\n              { required: true, message: 'Введите название города' }\n            ]\n          })(<Input onKeyDown={handleEscDown}  maxLength={25} id={fieldNames.city} />)}\n        </Form.Item>\n        <Form.Item label={language.street}>\n          {getFieldDecorator(fieldNames.street, {\n            rules: [\n              { required: true, message: 'Введите название улицы' }\n            ]\n          })(<Input onKeyDown={handleEscDown}  maxLength={30} id={fieldNames.street} />)}\n        </Form.Item>\n        <Form.Item label={language.houseNumber}>\n          {getFieldDecorator(fieldNames.houseNumber, {\n            rules: [\n              { required: true, message: 'Введите номер дома' },\n              { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n            ]\n          })(<Input onKeyDown={handleEscDown}  maxLength={6} id={fieldNames.houseNumber} />)}\n        </Form.Item>\n        <Form.Item label={language.plz}>\n          {getFieldDecorator(fieldNames.plz, {\n            rules: [\n              { required: true, message: 'Введите почтовый индекс' },\n              { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n            ]\n          })(<Input onKeyDown={handleEscDown}  maxLength={6} id={fieldNames.plz} />)}\n        </Form.Item>\n        <Form.Item label={language.clientComment}>\n        {getFieldDecorator(fieldNames.clientComment)(\n          <Input onKeyDown={handleEscDown}  maxLength={35} id={fieldNames.clientComment} />)}\n        </Form.Item>\n        <Form.Item label={language.deliveryCost}>\n        {getFieldDecorator(fieldNames.deliveryCost)(\n          <Select onChange={(value: string) => onFieldChange(fieldNames.deliveryCost, value)} id={fieldNames.deliveryCost}>\n            {selectValues.map(value => <Option key={value} value={value}>{value}</Option>)}\n          </Select>)}\n        </Form.Item>\n      </Card>\n      <Divider/>\n      <div style={{ display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-between' }}>\n        <Button type=\"danger\" size=\"large\" onClick={handleClearClick}>{language.clear} / ESC</Button>\n        <Form.Item>\n          <Button htmlType=\"submit\" type=\"primary\" size=\"large\">{language.goToOrder} / F2</Button>\n        </Form.Item>\n      </div>\n      </Form>\n    </div>\n  )\n})));\n\nexport default DeliveryForm;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Menu, Icon, Layout, Typography, Button, Divider, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\nimport { connect, MapStateToProps, MapDispatchToPropsFunction } from 'react-redux';\n\nimport './Menu.css';\n\nimport { langMap } from '../../lang';\nimport { logoutUser, changeLanguage } from '../../redux/actions';\n\n\nimport DeliveryForm from '../DeliveryForm';\n\nimport { State } from '../../redux/types';\nimport { MenuPageProps, MenuPageStateProps, MenuPageDispatchProps, MenuPageOwnProps } from './types';\nimport { ClickParam } from 'antd/lib/menu';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Header, Content, Sider } = Layout;\nconst { Text } = Typography;\n\n\n\nconst MenuPage = ({ lang, userRole, logoutFromUser, changeLang, history }: MenuPageProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [collapsed, setCollapsed] = useState(false);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang, setLanguage]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  const logout = useCallback((e: ClickParam) => {\n    logoutFromUser();\n    history.push(`${ROOT_URL}/`);\n  }, [logoutFromUser, history]);\n\n  const handleLangChange = useCallback((e: RadioChangeEvent) => {\n    const { target: { value } } = e;\n    changeLang(value);\n  }, [changeLang]);\n\n  const handleCollapse = useCallback((collapsed: boolean) => {\n    setCollapsed(collapsed);\n  }, [setCollapsed]);\n\n  return (\n    <Layout style={{ minHeight: '100vh'}}>\n      <Sider collapsible onCollapse={handleCollapse} theme=\"light\" style={{\n      overflow: 'auto',\n      height: '100vh',\n      left: 0,\n    }}>\n        <div className=\"menu\">\n          <Menu style={{height: '100vh'}} defaultSelectedKeys={['2']} mode=\"inline\">\n            <Menu.Item disabled>\n              <Icon type=\"tag\" />\n              {!collapsed && <Radio.Group value={lang} onChange={handleLangChange}>\n                <Radio.Button value=\"ru\">ru</Radio.Button>\n                <Radio.Button value=\"de\">de</Radio.Button>\n              </Radio.Group>}\n            </Menu.Item>\n            <Menu.Item key=\"1\" onClick={logout} className=\"logout-button\">\n              <Icon type=\"logout\" />\n              <span>{language.logout}</span>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Icon type=\"phone\" />\n              <span>{language.callForm}</span>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Icon type=\"shopping-cart\" />\n              <span>{language.allOrders}</span>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Icon type=\"dashboard\" />\n              <span>{language.cookingMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"5\">\n              <Icon type=\"car\" />\n              <span>{language.carMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"6\">\n              <Icon type=\"bar-chart\" />\n              <span>{language.report}</span>\n            </Menu.Item>\n            <Menu.Item key=\"7\">\n              <Icon type=\"setting\" />\n              <span>{language.settings}</span>\n            </Menu.Item>\n            <Menu.Item key=\"8\">\n              <Icon type=\"question-circle\" />\n              <span>{language.help}</span>\n            </Menu.Item>\n          </Menu>\n          <Text style={{ textAlign: 'center', paddingBottom: '20px', borderRight: '1px solid #e8e8e8' }}>{userRole}</Text>\n        </div>\n      </Sider>\n      <Layout>\n        <Header style={{ background: '#fff', marginTop: '24px', height: 'auto', display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-around' }}>\n          <Button type=\"dashed\" size=\"large\">{language.tableOrders}</Button>\n          <Button type=\"dashed\" size=\"large\">{language.selfPickUp}</Button>\n          <Button type=\"dashed\" size=\"large\">{language.sales}</Button>\n          <Button type=\"dashed\" size=\"large\">{language.phoneMonitor}</Button>\n        </Header>\n        <Divider/>\n        <Content style={{ margin: '0 16px', background: 'inherit'  }}>\n          <DeliveryForm />\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nconst mapStatetoProps: MapStateToProps<MenuPageStateProps, MenuPageOwnProps, State> = (state) => {\n  return {\n    formDataState: state.formDataState,\n    lang: state.languages.lang,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<MenuPageDispatchProps, MenuPageOwnProps> = (dispatch) => ({ \n  logoutFromUser() {\n    dispatch(logoutUser());\n  },\n  changeLang(lang: 'ru' | 'de') {\n    dispatch(changeLanguage(lang));\n  }\n});\n\nexport const LeftMenu = connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(withRouter<RouteComponentProps<MenuPageDispatchProps & MenuPageOwnProps & MenuPageStateProps>, any>(MenuPage));//FIXME\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { connect, MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\n\nimport { Table, Icon, Input } from 'antd';\nimport Column from 'antd/lib/table/Column';\nimport { langMap, langType } from '../../lang';\n\nimport { searchProducts } from '../../fakeBD';\n\nimport {\n  addProductToCart,\n  addAdditionToProductInCart,\n  incrementQuantityOfProductInCart,\n  decrementQuantityOfProductInCart,\n  incrementQuantityOfAdditionOfProduct,\n  decrementQuantityOfAdditionOfProduct,\n  deleteProductFromCart,\n  deleteAdditionOfProductFromCart\n} from '../../redux/actions';\n//types\nimport { TableRowSelection } from 'antd/lib/table';\nimport { CartProductsState, CartProductItem } from '../../redux/reducersTypes';\nimport { State } from '../../redux/types';\n\nimport './Cart.css';\n\ntype record = {\n  article?: number,\n  quantity?: number,\n  productName: string,\n  price: number,\n}\n// rowSelection objects indicates the need for row selection\nconst rowSelection: TableRowSelection<record> = {\n  onChange: (selectedRowKeys, selectedRows) => {\n    console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n  },\n  onSelect: (record, selected, selectedRows) => {\n    console.log(\"OnSelect: \", Object.entries(record), selected, selectedRows);\n  },\n  onSelectAll: (selected, selectedRows, changeRows) => {\n    console.log(\"onSelectAll: \", selected, selectedRows, changeRows);\n  },\n};\n\ninterface CartOwnProps { };\n\ninterface CartProps extends CartOwnProps, CartStateProps, CartDispatchProps {\n}\n\nfunction TableRow(props: any) {\n  const isSelected = props.children.find(({ props: { record: { selected } } }: any) => selected);\n  return (\n    <tr className={`${props.className} ${isSelected ? \"didolf\" : \"\"}`}>\n      {props.children}\n    </tr>\n  )\n}\n\nfunction Cart({ cartProducts, lang, addProduct, addAddition, deleteProduct, deleteAddition, incrementAddition, incrementProduct, decrementAddition, decrementProduct }: CartProps) {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [products, setProducts] = useState(searchProducts('') as typeof cartProducts);\n  const [search, setSearch] = useState('');\n  const [currentSelection, setCurrentSelectionSt] = useState({ additionIndex: undefined, productIndex: 1 } as { additionIndex?: number, productIndex: number });\n\n  const setCurrentSelection = (newSelection: { additionIndex?: number, productIndex: number }) => {\n    const newProducts = products.map((product) => {\n      if (product.article === currentSelection.productIndex) {\n        if (currentSelection.additionIndex === undefined) {\n          product.selected = false;\n        } else {\n          if (product) {\n            if (Array.isArray(product.children)) {\n              product.children = product.children.map((child) => {\n                if (child.article === currentSelection.additionIndex) {\n                  child.selected = false;\n                }\n                return child;\n              })\n            }\n          }\n        }\n      }\n      return product;\n    });\n    setProducts(newProducts);\n    setCurrentSelectionSt(newSelection)\n  }\n  cartProducts = useMemo(() => cartProducts.map((item) => {\n    return { ...item, key: item.article, children: item.children ? item.children.map((child) => ({ ...child, key: item.article + \":\" + child.article, parentArticle: item.article })) : undefined };\n  }), [cartProducts]);\n\n  const keyDownListener = useCallback((event) => {\n    if (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\n      const newSelectionArticle: typeof currentSelection = { productIndex: currentSelection.productIndex };\n      if (currentSelection.additionIndex === undefined) {//если мы сейчас на продукте\n        const productIndex = products.findIndex(({ article }) => article === currentSelection.productIndex);//находим его индекс в правой таблице\n        const { article, children } = products[productIndex];\n        if (event.code === 'ArrowUp') {\n          // FIXME: Добавить возможность переходить с первого на последний продукт\n          if (productIndex !== 0 && products.length !== 1) {//если кроме текущего продукта есть еще другие и текущий продукт не первый\n            const { article, children } = products[productIndex - 1];//выбираем предыдущий продукт\n            newSelectionArticle.productIndex = article as number;//устанавливаем предыдущий продукт текущим\n            if (children && children.length !== 0) {//если есть добавки\n              newSelectionArticle.additionIndex = children[children.length - 1].article;//берем последнюю добавку\n            }\n          }\n        } else {//ArrowDown\n          if (children && children.length !== 0) {//если есть добавки у текущего продукта\n            newSelectionArticle.additionIndex = children[0].article;//выбираем первую добавку\n          } else if (products.length !== 1) {//если кроме текущего продукта есть еще другие и он не последний\n            newSelectionArticle.productIndex = products[(productIndex + 1) % products.length].article as number;//устанавливаем следующий продукт текущим\n          }\n        }\n      } else {//если мы сейчас на добавке\n        const productIndex = products.findIndex(({ article }) => article === currentSelection.productIndex);//находим индекс продукта в правой таблице\n        const { article, children } = products[productIndex];\n        if (!children || !children.length) {//если данные неактуальны и такой добавки нет - выходим\n          setCurrentSelection(newSelectionArticle);\n        }\n        const additionIndex = (children as CartProductItem[]).findIndex(({ article }) => article === currentSelection.additionIndex);//находим индекс добавки\n        const { article: additionArticle } = (children as CartProductItem[])[additionIndex];\n        if (event.code === 'ArrowUp') {\n          if (additionIndex !== 0) {//если это не первая добавка в списке\n            newSelectionArticle.additionIndex = (children as CartProductItem[])[additionIndex - 1].article;//делаем текущей предыдущую добавку\n          }\n        } else {//ArrowDown\n          if (additionIndex !== (children as CartProductItem[]).length - 1) {// если это не последняя добавка в списке\n            newSelectionArticle.additionIndex = (children as CartProductItem[])[additionIndex + 1].article;\n          } else {// последняя добавка в списке\n            if (productIndex !== products.length - 1) {//если не последний продукт\n              newSelectionArticle.productIndex = products[productIndex + 1].article as number;//сделать следующую добавку текущей\n            }\n          }\n        }\n      }\n      setCurrentSelection(newSelectionArticle);\n    }\n  }, [products, currentSelection, setCurrentSelection]);\n\n  const onMinusKeyDown = useCallback((event) => {\n    if (event.key === '-') {\n      const { productIndex, additionIndex } = currentSelection;\n      if (additionIndex !== undefined) {\n        decrementAddition(productIndex, additionIndex);// FIXME: Проверка на то, есть ли товар в корзине\n      } else {\n        decrementProduct(productIndex);// FIXME: Проверка на то, есть ли товар в корзине\n      }\n    }\n  }, [currentSelection, decrementAddition, decrementProduct]);\n\n  const onPlusOrEnterKeyDown = useCallback((event) => {\n    if (event.key === '+' || event.code === 'Enter') {\n      const { productIndex, additionIndex } = currentSelection;\n      const product = products.find(({ article }) => article === productIndex)\n      if (product) {\n        const { article, productName, price, children } = product;\n        if (additionIndex !== undefined) {\n          if (Array.isArray(children)) {\n            if (children !== undefined) {\n              const child = children.find(({ article }) => article === additionIndex);\n              if (child) {\n                const { article, productName, price } = child;\n                if (article !== undefined) {\n                  addAddition(productIndex, article, productName, price);// FIXME: Проверка на то, есть ли товар в корзине\n                }\n              }\n            }\n          }\n        } else {\n          if (article !== undefined)\n            addProduct(article, productName, price);// FIXME: Проверка на то, есть ли товар в корзине\n        }\n      }\n    }\n  }, [currentSelection, incrementAddition, incrementProduct]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', keyDownListener);\n    return () => {\n      window.removeEventListener('keydown', keyDownListener);\n    }\n  }, [keyDownListener]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', onPlusOrEnterKeyDown);\n    return () => {\n      window.removeEventListener('keydown', onPlusOrEnterKeyDown);\n    }\n  }, [onPlusOrEnterKeyDown]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', onMinusKeyDown);\n    return () => {\n      window.removeEventListener('keydown', onMinusKeyDown);\n    }\n  }, [onMinusKeyDown]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  useEffect(() => {\n    if (Array.isArray(products)) {\n      const newProducts = products.map((item) => {\n        if (item.article === currentSelection.productIndex) {\n          if (currentSelection.additionIndex === undefined) {\n            return { ...item, selected: true };\n          } else {\n            if (item.children) {\n              const childIndex = item.children.findIndex(({ article }) => article === currentSelection.additionIndex);\n              item.children[childIndex] = { ...item.children[childIndex], selected: true };\n              if (childIndex !== -1) {\n                return item;\n              }\n            }\n          }\n        }\n        return item;\n      });\n      if (newProducts !== undefined) {\n        setProducts(newProducts as CartProductItem[]);\n      }\n    }\n  }, [currentSelection]);\n\n  const fetchProds = useCallback(() => searchProducts(search), [search]);\n\n  useEffect(() => {\n    let prods = fetchProds();\n    if (prods && prods[0]) {\n      setCurrentSelection({ productIndex: prods[0].article });\n    }\n    setProducts(prods);\n  }, [fetchProds, setProducts]);\n\n  const addToCart = useCallback((article: number, parentArticle?: number) => {\n    return (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (parentArticle) {\n        const product = products.find(({ article: productArticle }) => productArticle === parentArticle);\n        if (product && product.children) {\n          const addition = product.children.find(({ article: productArticle }) => productArticle === article);\n          if (addition) {\n            const { productName, price } = addition;\n            addAddition(parentArticle, article, productName, price);\n          }\n        }\n      } else {\n        const addition = products.find(({ article: productArticle }) => productArticle === article);\n        if (addition) {\n          const { productName, price } = addition;\n          addProduct(article, productName, price);\n        }\n      }\n    }\n  }, [products, addAddition, addProduct]);\n\n  const decrementFromCart = useCallback((article: number, parentArticle?: number) => {\n    return (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (parentArticle) {\n        decrementAddition(parentArticle, article)\n      } else {\n        decrementProduct(article);\n      }\n    }\n  }, [products, addAddition, addProduct]);\n\n  const deleteFromCart = useCallback((article: number, parentArticle?: number) => {\n    return (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\n      if (parentArticle) {\n        deleteAddition(parentArticle, article);\n      } else {\n        deleteProduct(article);\n      }\n    }\n  }, [products, addAddition, addProduct]);\n  const columns1 = [\n    {\n      title: language.article,\n      dataIndex: 'article',\n      key: 'article',\n    },\n    {\n      title: language.quantity,\n      dataIndex: 'quantity',\n      key: 'quantity',\n      width: '12%',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      width: '30%',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      width: '30%',\n      key: 'price',\n    },\n    {\n      key: 'action',\n      title: 'Action',\n      render: ({ parentArticle, article }: { parentArticle: number, article: number }) => {\n        return (\n          <div key={parentArticle + \":\" + article}>\n            <Icon type=\"close-square\" onClick={deleteFromCart(article, parentArticle)} />\n            <Icon type=\"minus-square\" onClick={decrementFromCart(article, parentArticle)} />\n            <Icon type=\"plus-square\" onClick={addToCart(article, parentArticle)} />\n          </div>)\n      }\n    }\n  ];\n\n  const columns2 = [\n    {\n      title: language.article,\n      dataIndex: 'article',\n      key: 'article',\n    },\n    {\n      title: language.quantity,\n      dataIndex: 'quantity',\n      key: 'quantity',\n      width: '12%',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      width: '30%',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      width: '30%',\n      key: 'price',\n    },\n    {\n      key: 'action',\n      title: 'Action',\n      render: ({ parentArticle, article }: { parentArticle: number, article: number }) => {\n        return (\n          <div key={article + \":\" + parentArticle}>\n            <Icon type=\"minus-square\" onClick={decrementFromCart(article, parentArticle)} />\n            <Icon type=\"plus-square\" onClick={addToCart(article, parentArticle)} />\n          </div>)\n      }\n    }\n  ];\n  return (\n    <div className=\"cart\">\n      <div className=\"cart__order-table\">\n        <Input />\n        <Table pagination={false} expandedRowKeys={cartProducts.map(({ article }) => article) as number[]} defaultExpandAllRows columns={columns1} rowSelection={rowSelection} dataSource={cartProducts} />\n      </div>\n      <div className=\"cart__products-table\">\n        <Input value={search} onChange={(e) => setSearch(e.target.value)} autoFocus />\n        <Table components={{ body: { row: TableRow } }} pagination={false} expandedRowKeys={products.map(({ article }) => article) as number[]} defaultExpandAllRows columns={columns2} rowSelection={rowSelection} dataSource={products} />\n      </div>\n    </div>\n  )\n};\n\ninterface CartStateProps {\n  cartProducts: CartProductsState;\n  lang: langType;\n}\n\nconst mapStateToProps: MapStateToProps<CartStateProps, CartOwnProps, State> = (state, props) => {\n  return {\n    cartProducts: state.cartProducts,\n    lang: state.languages.lang\n  }\n};\n\ninterface CartDispatchProps {\n  addProduct: (article: number, productName: string, price: number) => void;\n  addAddition: (productArticle: number, additionArticle: number, additionName: string, additionPrice: number) => void;\n  deleteProduct: (productArticle: number) => void;\n  deleteAddition: (productArticle: number, additionArticle: number) => void;\n  incrementProduct: (productArticle: number) => void;\n  decrementProduct: (productArticle: number) => void;\n  incrementAddition: (productArticle: number, additionArticle: number) => void;\n  decrementAddition: (productArticle: number, additionArticle: number) => void;\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<CartDispatchProps, CartOwnProps> = (dispatch, props) => {\n  return {\n    addProduct(article: number, productName: string, price: number) {\n      dispatch(addProductToCart(article, productName, price));\n    },\n    addAddition(productArticle: number, additionArticle: number, additionName: string, additionPrice: number) {\n      dispatch(addAdditionToProductInCart(productArticle, additionArticle, additionName, additionPrice));\n    },\n    deleteProduct(productArticle: number) {\n      dispatch(deleteProductFromCart(productArticle));\n    },\n    deleteAddition(productArticle: number, additionArticle: number) {\n      dispatch(deleteAdditionOfProductFromCart(productArticle, additionArticle));\n    },\n    incrementProduct(productArticle: number) {\n      dispatch(incrementQuantityOfProductInCart(productArticle));\n    },\n    decrementProduct(productArticle: number) {\n      dispatch(decrementQuantityOfProductInCart(productArticle));\n    },\n    incrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(incrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    },\n    decrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(decrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    }\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import { combineReducers, createStore } from 'redux';\nimport { languages, user, formDataState, cartProducts } from './reducers';\n\nexport const appState = combineReducers({ languages, user, formDataState, cartProducts });\nconst initialState = JSON.parse(localStorage.getItem('pizza-redux') as string);\nlet store = initialState ? createStore(appState, initialState) : createStore(appState);\n\nstore.subscribe(() => localStorage.setItem('pizza-redux', JSON.stringify(store.getState())));\n\nexport default store;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\n\nimport './index.css';\n\nimport { Auth } from './components/Auth';\nimport { LeftMenu } from './components/LeftMenu';\nimport Cart from './components/Cart';\n\nimport store from './redux';\n\nimport { ROOT_URL } from './constants/rootUrl';\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <Route path={`${ROOT_URL}/menu`} component={LeftMenu}/>\n      <Route path={`${ROOT_URL}/index.html`} exact component={Auth}/>\n      <Route path={`${ROOT_URL}/`} exact component={Auth}/>\n      <Route path={`${ROOT_URL}/finish`} component={Cart}/>\n    </Provider>\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}