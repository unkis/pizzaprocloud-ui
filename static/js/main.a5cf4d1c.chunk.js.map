{"version":3,"sources":["fakeBD.ts","redux/actions.ts","lang/index.ts","lang/ru.ts","lang/de.ts","constants/fieldNames.ts","constants/selectValues.ts","redux/reducers.ts","constants/rootUrl.ts","components/DeliveryForm/index.tsx","components/Auth/index.tsx","components/Cart/subcomponents/SumForm.tsx","components/Cart/subcomponents/reduxProvider.ts","components/Cart/index.tsx","components/Cart/reduxProvider.ts","redux/index.ts","index.tsx"],"names":["cartProductsActions","fakeBD","customers","customerNumber","phoneNumber","deliveryCost","name","street","houseNumber","plz","city","products","key","article","quantity","productName","price","mwst","children","parentArticle","searchProducts","searchString","slice","toLowerCase","map","product","productChildren","filter","toString","includes","length","Boolean","langMap","authTitle","organizationNumber","username","password","autoLogin","login","tableOrders","selfPickUp","sales","phoneMonitor","clientComment","clear","goToOrder","logout","callForm","allOrders","cookingMonitor","carMonitor","report","settings","help","back","freeDelivery","print","fieldNames","selectValues","formDataActions","addToFormData","fieldName","fieldValue","type","initialFormDataState","initialCartProductsState","ROOT_URL","Header","Layout","Content","Option","Select","formItemLayout","labelCol","xs","span","sm","lg","xl","wrapperCol","dataSourceActions","ADD_TO_DATA_SOURCE","dataSourceReducer","state","action","dataSourceName","dataSourceData","addToDataSource","initialDataSourceState","DeliveryForm","Form","create","connect","formDataState","lang","languages","dispatch","ownProps","addDataToFormData","id","value","updateFieldsOfFormData","newState","updateAllFieldsOfFormData","clearFields","withRouter","form","getFieldDecorator","setFieldsValue","getFieldsValue","history","useReducer","dataSourceState","dispatchToDataSource","dataSourceLiveState","dispatchToDataSourceLive","useState","language","setLanguage","onFieldChange","useCallback","handleSearch","arg","item","startsWith","fetched","nextPage","validateFields","err","push","handleClearClick","handleSubmit","e","preventDefault","handleEscDown","handleEnterDown","fieldId","customer","find","useEffect","window","addEventListener","removeEventListener","object1","object2","Object","keys","entries","compareTwoObjects","console","log","style","background","marginTop","height","display","flexFlow","justifyContent","size","margin","onSubmit","onKeyDown","width","maxWidth","Item","label","rules","required","message","pattern","dataSource","onSearch","onSelect","maxLength","autoFocus","onChange","onClick","htmlType","Title","Typography","Auth","code","user","userRole","role","addUser","errMsg","setErrMsg","values","className","autoComplete","level","textAlign","prefix","color","placeholder","valuePropName","initialValue","SumForm","cartProducts","mwst_7","mwst_19","greichten","zutaten","discount","total_price","onDeliveryCostChange","event","target","onDiscountChange","disabled","suffix","onRenderFn","phase","actualDuration","baseDuration","customTableComponents","body","row","props","isSelected","record","selected","proudctsTableScrollParams","y","cartTableScrollParams","NullComponent","IconStyle","fontSize","Tmp","addProduct","ADD_PRODUCT_TO_CART","addProductToCart","addAddition","productArticle","additionArticle","additionName","additionPrice","additionMwst","ADD_ADDITION_TO_PRODUCT_IN_CART","addAdditionToProductInCart","deleteProduct","DELETE_PRODUCT_FROM_CART","deleteProductFromCart","deleteAddition","DELETE_ADDITION_OF_PRODUCT_FROM_CART","deleteAdditionOfProductFromCart","incrementProduct","INCREMENT_QUANTITY_OF_PRODUCT_IN_CART","incrementQuantityOfProductInCart","decrementProduct","DECREMENT_QUANTITY_OF_PRODUCT_IN_CART","decrementQuantityOfProductInCart","incrementAddition","INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","incrementQuantityOfAdditionOfProduct","decrementAddition","DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","decrementQuantityOfAdditionOfProduct","setProducts","search","setSearch","additionIndex","undefined","productIndex","currentSelection","setCurrentSelection","keyDownListener","newSelectionArticle","findIndex","Array","isArray","onMinusKeyDown","onPlusOrEnterKeyDown","child","onSearchChange","addToCart","addition","decrementFromCart","deleteFromCart","onBackButtonClick","onFreeDeliveryClick","DecrementFromCartIcon","IncrementToCartIcon","DeleteFromCartIcon","sortedProducts","useMemo","unsortedProducts","sort","a","b","forEach","articleView","localeCompare","productsWithSelected","allKeyDown","cartProductsSum","cartProductsProductsSum","cartProductsAdditionsSum","Math","round","newTotalPrice","parseFloat","columns1","title","dataIndex","render","columns2","cartProductsWithKeys","cartProductsExpandedRowKeys","productsExpandedRowKeys","expandIcon","pagination","scroll","bordered","expandedRowKeys","defaultExpandAllRows","columns","components","onRender","appState","combineReducers","articleIndex","prevQuantity","productArticleIndex","oldAdditions","additionArticleIndex","prevQiantity","productAdditions","additions","currentQuantity","initialState","JSON","parse","localStorage","getItem","store","createStore","subscribe","setItem","stringify","getState","Sider","Text","AppWithConnect","logoutFromUser","changeLang","changeLanguage","collapsed","setCollapsed","handleLangChange","handleCollapse","minHeight","location","pathname","collapsible","onCollapse","theme","overflow","left","defaultSelectedKeys","mode","Group","Button","paddingBottom","borderRight","path","component","exact","Cart","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a5cf4d1c.chunk.js","sourcesContent":["const fakeBD = {\n    customers: [\n        {\n            customerNumber: 1\n        },\n        {\n            customerNumber: 2\n        },\n        {\n            customerNumber: 3\n        },\n        {\n            customerNumber: 33,\n            phoneNumber: 89821251216,\n            deliveryCost: '2,50',\n            name: 'Дмитрий',\n            street: 'Уличная',\n            houseNumber: '16',\n            plz: '123456',\n            city: 'Москва',\n        },\n        {\n            customerNumber: 333\n        }\n    ],\n    products: [\n        {\n            key: 2,\n            article: 2,\n            quantity: 10,\n            productName: 'Test5',\n            price: 60,\n            mwst: '19',\n            children: [\n                {\n                    key: 21,\n                    parentArticle: 2,\n                    article: 21,\n                    productName: 'Test6',\n                    price: 60,\n                    mwst: '19',\n                },\n                {\n                    key: 22,\n                    mwst: '19',\n                    parentArticle: 2,\n                    article: 22,\n                    productName: 'Test7',\n                    price: 60,\n                },\n                {\n                    key: 23,\n                    parentArticle: 2,\n                    article: 23,\n                    mwst: '19',\n                    productName: 'Test8',\n                    price: 60,\n                },\n            ],\n        },\n        {\n            key: 3,\n            article: 3,\n            quantity: 10,\n            productName: 'Test9',\n            price: 60,\n            mwst: '19',\n            children: [\n                {\n                    key: 31,\n                    parentArticle: 3,\n                    article: 31,\n                    productName: 'Test10',\n                    price: 60,\n                    mwst: '19',\n                },\n                {\n                    key: 32,\n                    mwst: '19',\n                    parentArticle: 3,\n                    article: 32,\n                    productName: 'Test11',\n                    price: 60,\n                },\n                {\n                    key: 33,\n                    parentArticle: 3,\n                    article: 33,\n                    mwst: '19',\n                    productName: 'Test12',\n                    price: 60,\n                },\n            ],\n        },\n        {\n            key: 1,\n            article: 1,\n            quantity: 10,\n            productName: 'Test1 ghjkhbjnkvbnkm vhjk vbjnkmlgvbhjnkml yvgbhjnkm vytbnjk vbhnjkmltybuniml vbynu vytbunio',\n            price: 60,\n            mwst: '7',\n            children: [\n                {\n                    key: 12,\n\n                    parentArticle: 1,\n                    article: 12,\n                    productName: 'Test3',\n                    price: 60,\n                    mwst: '7'\n                },\n                {\n                    key: 13,\n\n                    parentArticle: 1,\n                    article: 13,\n                    productName: 'Test4',\n                    price: 60,\n                    mwst: '7'\n                },\n                {\n                    key: 11,\n                    parentArticle: 1,\n                    article: 11,\n                    productName: 'Test2',\n                    price: 60,\n                    mwst: '7'\n                },\n            ],\n        },\n    ]\n\n};\nexport const auth = (login: string, password: string) => {\n    if (login === 'test' && password === 'test') {\n        return { role: 'admin' };\n    }\n    return null;\n}\n\nexport const searchProducts: any = (searchString: string) => {\n    if (searchString === '') {\n        return fakeBD.products.slice(0, 10);\n    }\n    searchString = searchString.toLowerCase();\n    const res = fakeBD.products.map((product) => {\n        const { article, productName, children } = product;\n        const productChildren = children.filter(({ article, productName }) => article.toString().toLowerCase().includes(searchString.toLowerCase()) || productName.toString().toLowerCase().includes(searchString.toLowerCase()));\n        if (productChildren.length !== 0) {\n            return { ...product, children: productChildren };\n        }\n        const isProduct = article.toString().toLowerCase().includes(searchString.toLowerCase()) || productName.toString().toLowerCase().includes(searchString.toLowerCase());\n        if (isProduct) {\n            return product;\n        } else {\n            return null;\n        }\n    }).filter(Boolean);\n    return res;\n}\nexport default fakeBD;\n","import { changeLanguageType, addUserType, logoutUserType } from './actionsTypes';\n\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE';\nexport const ADD_USER = 'ADD_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\nexport const formDataActions = {\n  ADD_TO_FORM_DATA: 'ADD_TO_FORM_DATA',\n  UPDATE_ALL_FIELDS: 'UPDATE_ALL_FIELDS',\n  CLEAR_ALL_FIELDS: 'CLEAR_ALL_FIELDS'\n};\n\nexport enum cartProductsActions {\n  ADD_PRODUCT_TO_CART,\n  ADD_ADDITION_TO_PRODUCT_IN_CART,\n  DELETE_PRODUCT_FROM_CART,\n  DELETE_ADDITION_OF_PRODUCT_FROM_CART,\n  INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n  DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n};\n\n\nexport const changeLanguage: changeLanguageType = (lang) => ({ type: CHANGE_LANGUAGE, lang });\n\nexport const addUser: addUserType = (role, code) => ({ type: ADD_USER, role, code });\n\nexport const logoutUser: logoutUserType = () => ({ type: LOGOUT_USER });\n\nexport const addToFormData = (fieldName: string, fieldValue: string) => ({ type: formDataActions.ADD_TO_FORM_DATA, fieldName, fieldValue });\n\nexport const updateAllFieldsOfFormData = (newState: any) => ({ type: formDataActions.UPDATE_ALL_FIELDS, newState });\n\nexport const clearAllFields = () => ({ type: formDataActions.CLEAR_ALL_FIELDS });\n\nexport const addProductToCart= (article: number, productName: string, price: number, mwst: '7' | '19') => \n  ({ type: cartProductsActions.ADD_PRODUCT_TO_CART, article, productName, price, mwst });\n\nexport const addAdditionToProductInCart = (productArticle: number, additionArticle: number, additionName: string, additionPrice: number, additionMwst: '7' | '19') => \n  ({ type: cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART, productArticle, additionArticle, additionName, additionPrice, additionMwst });\n\nexport const deleteProductFromCart = (productArticle: number) => \n  ({ type: cartProductsActions.DELETE_PRODUCT_FROM_CART, productArticle });\n\nexport const deleteAdditionOfProductFromCart = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART, productArticle, additionArticle });\n\nexport const incrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const decrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const incrementQuantityOfAdditionOfProduct = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n\nexport const decrementQuantityOfAdditionOfProduct =  (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n","import ru from './ru';\nimport de from './de';\n\nexport type langType = 'ru' | 'de';\n\nexport type langMapType = {\n  'ru': typeof ru,\n  'de': typeof de\n};\n\nexport const langMap: langMapType = {\n  'ru': ru,\n  'de': de\n};\n","const ru = {\n    authTitle: 'Авторизация',\n    organizationNumber: 'Номер организации',\n    username: 'Имя пользователя',\n    password: 'Пароль',\n    autoLogin: 'Запомнить меня',\n    login: 'Войти',\n    tableOrders: 'Tischbestellungen', //TODO: Перевод\n    selfPickUp: 'Selbstabholer', //TODO: Перевод\n    sales: 'Hausverkauf', //TODO: Перевод\n    phoneMonitor: 'Telefon monitor', //TODO: Перевод\n    customerNumber: 'Номер клиента',\n    phoneNumber: 'Номер телефона',\n    name: 'Имя',\n    street: 'Улица',\n    houseNumber: 'Номер дома',\n    plz: 'Почтовый индекс',\n    city: 'Город',\n    clientComment: 'Комментарий клиента',\n    deliveryCost: 'Стоимость доставки',\n    clear: 'Очистить',\n    goToOrder: 'Продолжить заказ',\n    logout: 'Выйти',\n    callForm: 'Доставка',\n    allOrders: 'Все заказы',\n    cookingMonitor: 'Монитор кухни',\n    carMonitor: 'Монитор доставки',\n    report: 'Отчет',\n    settings: 'Настройки',\n    help: 'Помощь',\n    quantity: 'Кол-во',\n    article: 'Арт.',\n    productName: 'Номенклатура',\n    price: 'Цена',\n    back: 'Назад',\n    freeDelivery: 'Бесплатная доставка',\n    print: 'Печать'\n};\n\nexport default ru;\n","const de = {\n    authTitle: 'Restaurant-Login',\n    organizationNumber: 'Kundennumer',\n    username: 'Benutzername',\n    password: 'Passwort',\n    autoLogin: 'Automatisch Anmelden',\n    login: 'Login',\n    tableOrders: 'Tischbestellungen',\n    selfPickUp: 'Selbstabholer',\n    sales: 'Hausverkauf',\n    phoneMonitor: 'Telefon monitor',\n    customerNumber: 'Kundennummer',\n    phoneNumber: 'Telefonnumer',\n    name: 'Name',\n    street: 'Strasse',\n    houseNumber: 'Hausnummer',\n    plz: 'PLZ',\n    city: 'Stadt',\n    clientComment: 'Bemerkung',\n    deliveryCost: 'Anfahrtskosten',\n    clear: 'Löschen',\n    goToOrder: 'Bestellung',\n    logout: 'Logout',\n    callForm: 'Lieferdienst',\n    allOrders: 'Alle Bestellungen',\n    cookingMonitor: 'Kuchen monitor',\n    carMonitor: 'Fahrer monitor',\n    report: 'Berichten',\n    settings: 'Einstellungen',\n    help: 'Hilfe',\n    quantity: 'Количество',\n    article: 'Артикул',\n    productName: 'Номенклатура',\n    price: 'Цена',\n    back: 'Zuruck',\n    freeDelivery: 'Anfahrtkosten Frei',\n    print: 'Drucken'\n};\n\nexport default de;\n","const fieldNames: fieldNamesInterface = {\n  customerNumber: 'customerNumber',\n  phoneNumber: 'phoneNumber',\n  name: 'name',\n  street: 'street',\n  houseNumber: 'houseNumber',\n  plz: 'plz',\n  city: 'city',\n  clientComment: 'clientComment',\n  deliveryCost: 'deliveryCost',\n  article: 'article',\n  quantity: 'quantity',\n  productName: 'productName',\n  price: 'price'\n};\n\nexport interface fieldNamesInterface {\n  customerNumber: string,\n  phoneNumber: string,\n  name: string,\n  street: string,\n  houseNumber: string,\n  plz: string,\n  city: string,\n  clientComment: string,\n  deliveryCost: string,\n  article: string;\n  quantity: string;\n  productName: string;\n  price: string;\n};\n\nexport default fieldNames;\n","export const selectValues = ['0,00', '0,50', '1,00', '1,50', '2,00', '2,50', '3,00'];\n","import { CHANGE_LANGUAGE, ADD_USER, LOGOUT_USER, formDataActions, cartProductsActions } from './actions';\n\nimport fieldNames from '../constants/fieldNames';\nimport { selectValues } from '../constants/selectValues';\n\nimport {\n  LanguagesState,\n  LanguageAction,\n  UserState,\n  UserAction,\n  FormDataStateType,\n  FormDataStateAction,\n  CartProductsState,\n  CartProductsAction\n} from './reducersTypes';\n\nexport const languages = (state: LanguagesState = { lang: 'ru' }, action: LanguageAction) => {\n  switch (action.type) {\n    case CHANGE_LANGUAGE:\n      return { lang: action.lang };\n    default: return state;\n  }\n};\n\nexport const user = (state: UserState = { role: '', code: '' }, action: UserAction) => {\n  switch (action.type) {\n    case ADD_USER: {\n      const { role, code } = action;\n      return { role, code };\n    };\n    case LOGOUT_USER: {\n      return {\n        ...state,\n        role: ''\n      };\n    }\n    default: return state;\n  }\n};\n\nexport const initialFormDataState: any = {//TODO: add types\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.name]: '',\n  [fieldNames.street]: '',\n  [fieldNames.houseNumber]: '',\n  [fieldNames.plz]: '',\n  [fieldNames.city]: '',\n  [fieldNames.clientComment]: '',\n  [fieldNames.deliveryCost]: selectValues[0]\n};\n\nexport const formDataState = (state: FormDataStateType = initialFormDataState, action: FormDataStateAction) => {\n  switch (action.type) {\n    case formDataActions.ADD_TO_FORM_DATA:\n      return {\n        ...state,\n        [action.fieldName]: action.fieldValue\n      };\n    case formDataActions.UPDATE_ALL_FIELDS: {\n      const newState = { ...state };\n      for (let [key, value] of Object.entries(action.newState)) {\n        newState[key] = value;\n      };\n      return newState;\n    };\n    case formDataActions.CLEAR_ALL_FIELDS:\n      return { ...initialFormDataState };\n    default:\n      return state;\n  };\n};\n\nexport const initialCartProductsState = [];\n\nexport const cartProducts = (state: CartProductsState = initialCartProductsState, action: CartProductsAction) => {\n  switch (action.type) {\n\n    case cartProductsActions.ADD_PRODUCT_TO_CART: {\n      const { article, productName, price, mwst } = action;\n\n      const articleIndex = state.findIndex(({ article: newStateArticle }) => newStateArticle === article);\n      if (articleIndex !== -1) {\n        const prevQuantity = state[articleIndex].quantity;\n        return [...state.slice(0, articleIndex), { ...state[articleIndex], quantity: prevQuantity + 1 }, ...state.slice(articleIndex + 1)]\n      } else {\n        return [{ article, productName, price, mwst, quantity: 1 }, ...state]\n      }\n    }\n\n    case cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART: {\n      const { productArticle, additionArticle, additionName, additionPrice, additionMwst } = action;\n      const productArticleIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productArticleIndex !== -1) {\n        const oldAdditions = state[productArticleIndex].children;\n        if (state[productArticleIndex] && Array.isArray(oldAdditions)) {\n          const additionArticleIndex = oldAdditions.findIndex(({ article }) => article === additionArticle);\n          if (additionArticleIndex !== -1 && Array.isArray(state[productArticleIndex].children)) {\n            const prevQiantity = oldAdditions[additionArticleIndex].quantity;\n            return [\n              ...state.slice(0, productArticleIndex),\n              {\n                ...state[productArticleIndex], children: [\n                  ...oldAdditions.slice(0, additionArticleIndex),\n                  { ...oldAdditions[additionArticleIndex], quantity: prevQiantity + 1 },\n                  ...oldAdditions.slice(additionArticleIndex + 1)\n                ]\n              },\n              ...state.slice(productArticleIndex + 1)\n            ];\n          } else {\n            const productAdditions = state[productArticleIndex].children;\n            if (productAdditions !== undefined) {\n              return [\n                ...state.slice(0, productArticleIndex),\n                {\n                  ...state[productArticleIndex], children: [\n                    { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n                    ...productAdditions\n                  ]\n                },\n                ...state.slice(productArticleIndex + 1)\n              ];\n            } else {\n              return [\n                ...state.slice(0, productArticleIndex),\n                {\n                  ...state[productArticleIndex], children: [\n                    { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n                  ]\n                },\n                ...state.slice(productArticleIndex + 1)\n              ];\n            }\n          }\n        } else {\n          return [\n            ...state.slice(0, productArticleIndex),\n            {\n              ...state[productArticleIndex], children: [\n                { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n              ]\n            },\n            ...state.slice(productArticleIndex + 1)\n          ];\n        }\n      }\n      return state;\n    }\n    /* FIXME TESTS */\n    case cartProductsActions.DELETE_PRODUCT_FROM_CART: {\n      const { productArticle } = action;\n      return state.filter(({ article }) => article !== productArticle);\n    }\n\n    case cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], children: additions.filter(({ article }) => article !== additionArticle) },\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n    /* END FIXME */\n    case cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        return [\n          ...state.slice(0, productIndex),\n          { ...state[productIndex], quantity: state[productIndex].quantity + 1 },\n          ...state.slice(productIndex + 1)\n        ]\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const currentQuantity = state[productIndex].quantity;\n        if (currentQuantity > 1) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], quantity: currentQuantity - 1 },\n            ...state.slice(productIndex + 1)\n          ]\n        } else {\n          return [\n            ...state.slice(0, productIndex),\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            return [\n              ...state.slice(0, productIndex),\n              {\n                ...state[productIndex], children: [\n                  ...additions.slice(0, additionIndex),\n                  { ...addition, quantity: addition.quantity + 1 },\n                  ...additions.slice(additionIndex + 1)\n                ]\n              },\n              ...state.slice(productIndex + 1)\n            ]\n          }\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            if (addition.quantity > 1) {\n              console.log(\"HERE\");\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], children: [\n                    ...additions.slice(0, additionIndex),\n                    { ...addition, quantity: addition.quantity - 1 },\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], children: [\n                    ...additions.slice(0, additionIndex),\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            }\n          }\n        }\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n}\n","export const ROOT_URL = '/pizzaprocloud-ui';\n","import React, { useReducer, useEffect, useCallback, useState } from 'react';\nimport { Button, Form, Input, AutoComplete, Select, Divider, Card, Layout } from 'antd';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect, MapDispatchToPropsNonObject, MapStateToPropsParam } from 'react-redux';\n\n//types\nimport { DeliveryFormProps } from './DeliveryFormTypes';\nimport { langType } from '../../lang';\n\nimport fakeBD from '../../fakeBD';\nimport { langMap } from '../../lang';\n\nimport fieldNames from '../../constants/fieldNames';\nimport { selectValues } from '../../constants/selectValues';\n\nimport { initialFormDataState } from '../../redux/reducers';\nimport { addToFormData, updateAllFieldsOfFormData, clearAllFields } from '../../redux/actions';\nimport { Action } from 'redux';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Header, Content } = Layout;\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst dataSourceActions = {\n  ADD_TO_DATA_SOURCE: 'ADD_TO_DATA_SOURCE'\n};\n\ntype dataSourceReducerTypes = typeof dataSourceActions.ADD_TO_DATA_SOURCE;\ninterface dataSourceReducerAction extends Action<dataSourceReducerTypes> {\n  dataSourceName: string;\n  dataSourceData: string[];\n};\n\nfunction dataSourceReducer(state: any, action: dataSourceReducerAction) {//FIXME\n  switch (action.type) {\n    case dataSourceActions.ADD_TO_DATA_SOURCE: {\n      return {\n        ...state,\n        [action.dataSourceName]: action.dataSourceData\n      }\n    }\n  }\n};\n\n\nconst addToDataSource = (dataSourceName: string, dataSourceData: string[]) => ({ type: dataSourceActions.ADD_TO_DATA_SOURCE, dataSourceName, dataSourceData });\n\n\n\nconst initialDataSourceState: any = {//TODO: add types\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.name]: [],\n  [fieldNames.street]: [],\n  [fieldNames.houseNumber]: [],\n  [fieldNames.plz]: [],\n  [fieldNames.city]: [],\n  [fieldNames.clientComment]: [],\n  [fieldNames.deliveryCost]: []\n};\n\nconst tryToFetchUser = (fieldId: string, fieldValue: string) => fakeBD.customers.find((customer: any) =>  customer[fieldId] && customer[fieldId].toString() === fieldValue);\n\nconst compareTwoObjects = (object1: any, object2: any) => {\n  if (Object.keys(object1).length !== Object.keys(object2).length)\n    return false;\n  for (let [key, value] of Object.entries(object1)) {\n    if (object2[key] !== value)\n      return false;\n  };\n  return true;\n}\n\n\nconst mapDispatchToProps: MapDispatchToPropsNonObject<any, any> = (dispatch, ownProps) => ({\n  addDataToFormData(id: string, value: string) {\n    dispatch(addToFormData(id, value))\n  },\n  updateFieldsOfFormData(newState: any) {\n    dispatch(updateAllFieldsOfFormData(newState));\n  },\n  clearFields() {\n    dispatch(clearAllFields());\n  }\n});\n\nconst mapStateToProps: MapStateToPropsParam<any, any, any> = (state) => ({ formDataState: state.formDataState, lang: state.languages.lang });\n\nconst DeliveryForm = Form.create<DeliveryFormProps>(\n  { name: 'delivery_form' }\n)(connect(mapStateToProps, mapDispatchToProps)(withRouter((\n  { lang, formDataState, addDataToFormData, clearFields, updateFieldsOfFormData, form: { getFieldDecorator, setFieldsValue, getFieldsValue }, form, history }: any) => {\n\n  const [dataSourceState, dispatchToDataSource] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [dataSourceLiveState, dispatchToDataSourceLive] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [language, setLanguage] = useState(langMap[lang as langType]);\n\n  const onFieldChange = useCallback((id: string, value: string) => {\n    addDataToFormData(id, value);\n  }, [addDataToFormData]);\n\n  const handleSearch = useCallback((arg: string, id: string) => {\n    updateFieldsOfFormData(getFieldsValue());\n    if (!dataSourceState[id].length) {\n      const fetched = fakeBD.customers.map(({ [id]: value }: any) => value && value.toString());\n      dispatchToDataSource(addToDataSource(id, fetched));//TODO: add types\n      dispatchToDataSourceLive(addToDataSource(id, fetched.filter((item: string) => item && item.startsWith(arg))));\n    } else {\n      dispatchToDataSourceLive(addToDataSource(id, dataSourceState[id].filter((item: string) => item && item.startsWith(arg))));\n    }\n  }, [updateFieldsOfFormData, getFieldsValue, dataSourceState, dispatchToDataSource, dispatchToDataSourceLive]);\n\n  const nextPage = useCallback(() => {\n    form.validateFields((err: any) => {\n      if (!err) {\n        history.push(`${ROOT_URL}/finish`);\n      }\n    });\n  }, [form, history]);\n\n  const handleClearClick = useCallback(() => {\n    setFieldsValue(initialFormDataState);\n    clearFields();\n  }, [setFieldsValue, clearFields]);\n\n  const handleSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    nextPage();\n  }, [nextPage]);\n\n  const handleEscDown = useCallback((e: any) => {\n    if (e.key === 'Escape') {\n      handleClearClick();\n    } else if (e.key === 'F2') {\n      nextPage();\n    }\n  }, [handleClearClick, nextPage]);\n\n  const handleEnterDown = useCallback((id: string, value: string) => {\n    const customer = tryToFetchUser(id, value);\n    if (customer) {\n      setFieldsValue(customer);\n      updateFieldsOfFormData(customer);\n    }\n  }, [setFieldsValue, updateFieldsOfFormData]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang as langType]);\n  }, [lang]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscDown);\n    return () => window.removeEventListener('keydown', handleEscDown);\n  }, [handleEscDown]);\n\n  useEffect(() => {\n    if (compareTwoObjects(getFieldsValue(), formDataState))\n      return;\n    console.log(formDataState);\n    setFieldsValue(formDataState);\n  }, [formDataState, setFieldsValue, getFieldsValue]);\n\n  return (\n    <Layout>\n      <Header style={{ background: '#fff', marginTop: '24px', height: 'auto', display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-around' }}>\n        <Button type=\"dashed\" size=\"large\">{language.tableOrders}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.selfPickUp}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.sales}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.phoneMonitor}</Button>\n      </Header>\n      <Divider />\n      <Content style={{ margin: '0 16px', background: 'inherit' }}>\n        <div>\n          <Form onSubmit={handleSubmit} onKeyDown={handleEscDown}  {...formItemLayout}>\n            <Card style={{ width: '60%', maxWidth: '500px' }}>\n              <Form.Item label={language.customerNumber}>\n                {getFieldDecorator(fieldNames.customerNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.customerNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.customerNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.customerNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.customerNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.phoneNumber}>\n                {getFieldDecorator(fieldNames.phoneNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер телефона клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.phoneNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.phoneNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.phoneNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} autoFocus={true} maxLength={15} id={fieldNames.phoneNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.name}>\n                {getFieldDecorator(fieldNames.name, {\n                  rules: [\n                    { required: true, message: 'Введите имя клиента' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.name]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.name)}\n                    onSelect={(value) => handleEnterDown(fieldNames.name, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.name} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.city}>\n                {getFieldDecorator(fieldNames.city, {\n                  rules: [\n                    { required: true, message: 'Введите название города' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={25} id={fieldNames.city} />)}\n              </Form.Item>\n              <Form.Item label={language.street}>\n                {getFieldDecorator(fieldNames.street, {\n                  rules: [\n                    { required: true, message: 'Введите название улицы' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.street} />)}\n              </Form.Item>\n              <Form.Item label={language.houseNumber}>\n                {getFieldDecorator(fieldNames.houseNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер дома' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.houseNumber} />)}\n              </Form.Item>\n              <Form.Item label={language.plz}>\n                {getFieldDecorator(fieldNames.plz, {\n                  rules: [\n                    { required: true, message: 'Введите почтовый индекс' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.plz} />)}\n              </Form.Item>\n              <Form.Item label={language.clientComment}>\n                {getFieldDecorator(fieldNames.clientComment)(\n                  <Input onKeyDown={handleEscDown} maxLength={35} id={fieldNames.clientComment} />)}\n              </Form.Item>\n              <Form.Item label={language.deliveryCost}>\n                {getFieldDecorator(fieldNames.deliveryCost)(\n                  <Select onChange={(value: string) => onFieldChange(fieldNames.deliveryCost, value)} id={fieldNames.deliveryCost}>\n                    {selectValues.map(value => <Option key={value} value={value}>{value}</Option>)}\n                  </Select>)}\n              </Form.Item>\n            </Card>\n            <Divider />\n            <div style={{ display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-between' }}>\n              <Button type=\"danger\" size=\"large\" onClick={handleClearClick}>{language.clear} / ESC</Button>\n              <Form.Item>\n                <Button htmlType=\"submit\" type=\"primary\" size=\"large\">{language.goToOrder} / F2</Button>\n              </Form.Item>\n            </div>\n          </Form>\n        </div>\n      </Content>\n    </Layout >\n  )\n})));\n\nexport default DeliveryForm;\n","import React, { useState, useEffect } from 'react';\nimport { Form, Icon, Input, Button, Checkbox, Typography, Alert } from 'antd';\nimport { connect, MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\n\nimport './Auth.css';\n\nimport { auth } from '../../fakeBD';\n\nimport { addUser } from '../../redux/actions';\n\nimport { LoginFormProps, LoginFormOwnProps, LoginFormDispatchProps, LoginFormStateProps, LoginFormValues } from './types';\nimport { State } from '../../redux/types';\n\nimport { langMap } from '../../lang';\nimport { FormComponentProps } from 'antd/es/form';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Title } = Typography;\n\nexport const LoginForm = ({ form: { setFieldsValue, getFieldsValue, validateFields, getFieldDecorator }, history, lang, addUser, code, userRole }: LoginFormProps) => {\n  const [errMsg, setErrMsg] = useState('');\n  const [language, setLanguage] = useState(langMap[lang]);\n\n  useEffect(() => {\n    setFieldsValue({ code })\n  }, [setFieldsValue, code]);\n\n  useEffect(() => {\n    if (userRole) {\n      history.push(`${ROOT_URL}/menu`);\n    }\n  }, [history, userRole]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    validateFields((err: any, values: LoginFormValues) => {\n      const user = auth(values.username, values.password);\n      if (!err && user) {\n        addUser(user.role, getFieldsValue().code);\n        history.push(`${ROOT_URL}/menu`);\n      } else if (!user) {\n        setErrMsg('Вы неверно ввели логин или пароль');\n      }\n    });\n  };\n\n    return (\n        <div id=\"components-form-demo-normal-login\">\n        <Form onSubmit={handleSubmit} className=\"login-form\" autoComplete=\"off\">\n            <Title level={4} style={{textAlign: 'center'}}>{language.authTitle}</Title>\n            <Form.Item>\n            {getFieldDecorator('code', {\n                rules: [\n                  { required: true, message: 'Введите код' },\n                { pattern: /[0-9]+/, message: 'Разрешены только цифры'}\n              ],\n            })(\n                <Input\n                autoFocus\n                autoComplete=\"off\"\n                prefix={<Icon type=\"number\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.organizationNumber}\n                />\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('username', {\n                rules: [{ required: true, message: 'Введите имя пользователя' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.username}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('password', {\n                rules: [{ required: true, message: 'Введите пароль' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                type=\"password\"\n                placeholder={language.password}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('remember', {\n                valuePropName: 'checked',\n                initialValue: true,\n            })(<Checkbox>{language.autoLogin}</Checkbox>)}\n            {errMsg && <div>\n                <Alert type=\"error\" message={errMsg}/>\n            </div>}\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                {language.login}\n            </Button>\n            </Form.Item>\n        </Form>\n      </div>\n    );\n}\n\nconst mapStatetoProps: MapStateToProps<LoginFormStateProps, LoginFormOwnProps, State> = (state) => {\n  return {\n    lang: state.languages.lang,\n    code: state.user.code,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<LoginFormDispatchProps, LoginFormOwnProps> = (dispatch) => {\n  return {\n    addUser(role: string, code: string) {\n      dispatch(addUser(role, code));\n    }\n  }\n};\n\nexport const Auth = connect(mapStatetoProps, mapDispatchToProps)(Form.create<FormComponentProps<LoginFormOwnProps>>({ name: 'normal_login' })(withRouter<RouteComponentProps<LoginFormOwnProps & LoginFormDispatchProps & LoginFormStateProps, any, any>, any>(LoginForm)));\n","import React, { useCallback, useEffect } from 'react';\n\nimport { Input, Form } from 'antd';\nimport { connect } from 'react-redux';\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\nimport { SumFormProps } from './SumFormTypes';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst SumForm = Form.create({ name: 'cart' })(connect(mapStateToProps, mapDispatchToProps)(({ form: { getFieldDecorator, setFieldsValue }, addDataToFormData,\n  formDataState: {\n    mwst_7,\n    mwst_19,\n    greichten,\n    zutaten,\n    deliveryCost,\n    discount,\n    total_price\n  } }: SumFormProps) => {\n\n  const onDeliveryCostChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('deliveryCost', event.target.value)\n  }, [addDataToFormData]);\n\n  const onDiscountChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('discount', event.target.value)\n  }, [addDataToFormData]);\n\n  useEffect(() => {//синхронизируем redux-store и форму\n    setFieldsValue({\n      mwst_7,\n      mwst_19,\n      greichten,\n      zutaten,\n      deliveryCost,\n      discount,\n      total_price\n    });\n  }, [mwst_7, mwst_19, greichten, zutaten, deliveryCost, discount, total_price, setFieldsValue]);\n\n  return (\n    <Form {...formItemLayout}>\n      <div className=\"cart__sum\">\n        <div className=\"sum__item sum__item_flex-start\">\n          <Form.Item label=\"MWST 7\">\n            {getFieldDecorator('mwst_7')(\n              <Input placeholder=\"MWST 7%\" id=\"mwst_7\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label=\"MWST 19\">\n            {getFieldDecorator('mwst_19')(\n              <Input placeholder=\"MWST 19%\" id=\"mwst_19\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n        </div>\n        <div className=\"sum__item\">\n          <Form.Item label=\"greichten\">\n            {getFieldDecorator('greichten')(\n              <Input placeholder=\"GREICHTEN\" id=\"greichten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label=\"zutaten\">\n            {getFieldDecorator('zutaten')(\n              <Input placeholder=\"ZUTATEN\" id=\"zutaten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label=\"anfahrtkosten\">{getFieldDecorator('deliveryCost')(<Input onChange={onDeliveryCostChange} placeholder=\"ANFAHRTKOSTEN\" suffix=\"€\" />)}</Form.Item>\n          <Form.Item label=\"rabatt\">{getFieldDecorator('discount')(<Input onChange={onDiscountChange} placeholder=\"F11 / RABATT\" suffix=\"%\" />)}</Form.Item>\n          <Form.Item label=\"gesamt preis\">{getFieldDecorator('total_price')(<Input id=\"total_price\" placeholder=\"GESAMT PREIS\" disabled suffix=\"€\" />)}</Form.Item>\n        </div>\n      </div>\n    </Form>\n  )\n}));\n\nexport default SumForm;\n","import { addToFormData } from '../../../redux/actions';\nimport { State } from '../../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { SumFormOwnProps, SumFormStateProps, SumFormDispatchProps } from './SumFormTypes';\n\nexport const mapStateToProps: MapStateToProps<SumFormStateProps, SumFormOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<SumFormDispatchProps, SumFormOwnProps> = (dispatch) => {\n  return {\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","import React, { useState, useCallback, useEffect, useMemo, Profiler } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { Table, Icon, Input, Button } from 'antd';\nimport SumForm from './subcomponents/SumForm';\n\nimport { langMap } from '../../lang';\n\nimport { searchProducts } from '../../fakeBD';\n\n//redux actions\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\n\n//types\nimport { RouteComponentProps } from 'react-router';\n\nimport { CartOwnProps, CartProps, CartDispatchProps, CartStateProps, ActionColumn } from './CartTypes';\n\nimport './Cart.css';\nimport { ROOT_URL } from '../../constants/rootUrl';\n\n\nconst onRenderFn = (id: string, phase: string, actualDuration: number, baseDuration: number) => {\n  console.log(`${id}'s ${phase} phase`);\n  console.log(`Actual time: ${actualDuration}`);\n  console.log(`Base duration: ${baseDuration}`);\n}\nfunction TableRow(props: any) {\n  const isSelected = props.children.find(({ props: { record: { selected } } }: any) => selected);\n  return (\n    <tr className={`${props.className} ${isSelected ? \"didolf\" : \"\"}`}>\n      {props.children}\n    </tr>\n  )\n}\n\n\n\nconst customTableComponents = { body: { row: TableRow } };\n\nconst proudctsTableScrollParams = { y: '75vh' };\nconst cartTableScrollParams = { y: '40vh' };\nconst NullComponent = () => null;\nconst IconStyle = { fontSize: '20px' };\n\n\nfunction Cart({ cartProducts, addDataToFormData, formDataState: { discount = 0 }, formDataState, lang, addProduct, addAddition, deleteProduct, deleteAddition, decrementAddition, decrementProduct, history }: CartProps) {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [products, setProducts] = useState(searchProducts('') as typeof cartProducts);\n  const [search, setSearch] = useState('');\n  const [currentSelection, setCurrentSelection] = useState({ additionIndex: undefined, productIndex: 1 } as { additionIndex?: number, productIndex: number });\n\n  const keyDownListener = useCallback((event: KeyboardEvent) => {//слушаем нажатия Arrow Up и Down и на их основе пушим в currentSelection\n    const newSelectionArticle: typeof currentSelection = { productIndex: currentSelection.productIndex };\n    if (currentSelection.additionIndex === undefined) {//если мы сейчас на продукте\n      const productIndex = products.findIndex(({ article }) => article === currentSelection.productIndex);//находим его индекс в правой таблице\n      const { children } = products[productIndex];\n      if (event.code === 'ArrowUp') {\n        // FIXME: Добавить возможность переходить с первого на последний продукт\n        if (productIndex !== 0 && products.length !== 1) {//если кроме текущего продукта есть еще другие и текущий продукт не первый\n          const { article, children } = products[productIndex - 1];//выбираем предыдущий продукт\n          newSelectionArticle.productIndex = article as number;//устанавливаем предыдущий продукт текущим\n          if (children && children.length !== 0) {//если есть добавки\n            newSelectionArticle.additionIndex = children[children.length - 1].article;//берем последнюю добавку\n          }\n        }\n      } else {//ArrowDown\n        if (Array.isArray(children) && children.length !== 0) {//если есть добавки у текущего продукта\n          newSelectionArticle.additionIndex = children[0].article;//выбираем первую добавку\n        } else if (products.length !== 1) {//если кроме текущего продукта есть еще другие и он не последний\n          newSelectionArticle.productIndex = products[(productIndex + 1) % products.length].article as number;//устанавливаем следующий продукт текущим\n        }\n      }\n    } else {//если мы сейчас на добавке\n      const productIndex = products.findIndex(({ article }) => article === currentSelection.productIndex);//находим индекс продукта в правой таблице\n      const { children } = products[productIndex];\n      if (!children || !children.length) {//если данные неактуальны и такой добавки нет - выходим\n        setCurrentSelection(newSelectionArticle);\n        return;\n      }\n      const additionIndex = children.findIndex(({ article }) => article === currentSelection.additionIndex);//находим индекс добавки\n      if (event.code === 'ArrowUp') {\n        if (additionIndex !== 0) {//если это не первая добавка в списке\n          newSelectionArticle.additionIndex = children[additionIndex - 1].article;//делаем текущей предыдущую добавку\n        }\n      } else {//ArrowDown\n        if (additionIndex !== children.length - 1) {// если это не последняя добавка в списке\n          newSelectionArticle.additionIndex = children[additionIndex + 1].article;\n        } else {// последняя добавка в списке\n          if (productIndex !== products.length - 1) {//если не последний продукт\n            newSelectionArticle.productIndex = products[productIndex + 1].article as number;//сделать следующую добавку текущей\n          }\n        }\n      }\n    }\n    setCurrentSelection(newSelectionArticle);\n  }, [products, currentSelection, setCurrentSelection]);\n\n  const onMinusKeyDown = useCallback(() => {//слушаем нажатия клавиши '-' и изменяем товары в корзине на основе этого\n    const { productIndex, additionIndex } = currentSelection;\n    if (additionIndex !== undefined) {\n      decrementAddition(productIndex, additionIndex);// FIXME: Проверка на то, есть ли товар в корзине\n    } else {\n      decrementProduct(productIndex);// FIXME: Проверка на то, есть ли товар в корзине\n    }\n  }, [currentSelection, decrementAddition, decrementProduct]);\n\n  const onPlusOrEnterKeyDown = useCallback(() => {//слушаем нажатия '+' и 'enter' и изменяем товары в корзине на основе этого\n    const { productIndex, additionIndex } = currentSelection;\n    const product = products.find(({ article }) => article === productIndex)\n    if (product) {\n      const { article, productName, price, children, mwst } = product;\n      if (additionIndex !== undefined) {\n        if (Array.isArray(children)) {\n          const child = children.find(({ article }) => article === additionIndex);\n          if (child) {\n            const { article, productName, price, mwst } = child;\n            if (article !== undefined) {\n              addAddition(productIndex, article, productName, price, mwst);// FIXME: Проверка на то, есть ли товар в корзине\n            }\n          }\n        }\n      } else {\n        if (article !== undefined)\n          addProduct(article, productName, price, mwst);// FIXME: Проверка на то, есть ли товар в корзине\n      }\n    }\n  }, [products, currentSelection, addAddition, addProduct]);\n\n  const onSearchChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {//слушаем изменение строки поиска и убираем оттуда нажатие '-'\n    if (event.target.value.slice(-1) === '-') {\n      onMinusKeyDown();\n    } else {\n      setSearch(event.target.value);\n    }\n  }, [setSearch, onMinusKeyDown]);\n\n  const addToCart = useCallback((article: number, parentArticle?: number) => {//добавляем товары в корзину\n    return () => {\n      if (parentArticle) {\n        const product = products.find(({ article: productArticle }) => productArticle === parentArticle);\n        if (product && product.children) {\n          const addition = product.children.find(({ article: productArticle }) => productArticle === article);\n          if (addition) {\n            const { productName, price, mwst } = addition;\n            addAddition(parentArticle, article, productName, price, mwst);\n          }\n        }\n      } else {\n        const addition = products.find(({ article: productArticle }) => productArticle === article);\n        if (addition) {\n          const { productName, price, mwst } = addition;\n          addProduct(article, productName, price, mwst);\n        }\n      }\n    }\n  }, [products, addAddition, addProduct]);\n\n  const decrementFromCart = useCallback((article: number, parentArticle?: number) => {\n    return () => {\n      if (parentArticle) {\n        decrementAddition(parentArticle, article)\n      } else {\n        decrementProduct(article);\n      }\n    }\n  }, [decrementAddition, decrementProduct]);\n\n  const deleteFromCart = useCallback((article: number, parentArticle?: number) => {\n    return () => {\n      if (parentArticle) {\n        deleteAddition(parentArticle, article);\n      } else {\n        deleteProduct(article);\n      }\n    }\n  }, [deleteAddition, deleteProduct]);\n\n  const onBackButtonClick = useCallback(() => {\n    history.push(`${ROOT_URL}/menu`)\n  }, [history]);\n\n\n\n  const onFreeDeliveryClick = useCallback(() => addDataToFormData('deliveryCost', '0'), [addDataToFormData]);\n\n  //мемоизируем кнопки\n  const DecrementFromCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"minus-square\" onClick={decrementFromCart(article, parentArticle)} />, [decrementFromCart]);\n  const IncrementToCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"plus-square\" onClick={addToCart(article, parentArticle)} />, [addToCart]);\n  const DeleteFromCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"close-square\" onClick={deleteFromCart(article, parentArticle)} />, [deleteFromCart]);\n\n  useEffect(() => {\n    setProducts(searchProducts(search));\n  }, [search, setProducts]);//на изменение строки поиска стягиваем с сервера список продуктов\n\n  const sortedProducts = useMemo(() => {//сортируем продукты с бека\n    const unsortedProducts = products.sort((a, b) => {\n      if (a.article && b.article) {\n        return a.article - b.article\n      }\n      return 0;\n    });\n\n    unsortedProducts.forEach(product => {\n      product.articleView = product.article;\n      if (Array.isArray(product.children)) {\n        product.children = product.children.sort((a, b) => a.productName.localeCompare(b.productName));\n      }\n    });\n    setCurrentSelection({ productIndex: unsortedProducts[0].article || 0, additionIndex: undefined });\n    return unsortedProducts;\n  }, [products]);\n\n  const productsWithSelected = useMemo(() => {\n    return sortedProducts.map((product) => {\n      if (product.article === currentSelection.productIndex && currentSelection.additionIndex === undefined) {\n        product.selected = true;\n      } else if (product.selected) {\n        product.selected = undefined;\n      }\n      if (Array.isArray(product.children)) {\n        product.children.forEach(child => {\n          if (currentSelection.productIndex === product.article && currentSelection.additionIndex === child.article) {\n            child.selected = true;\n          } else if (child.selected && (currentSelection.additionIndex !== child.article || currentSelection.productIndex !== product.article)) {\n            child.selected = undefined;\n          }\n        });\n      }\n      return product;\n    })\n  }, [sortedProducts, currentSelection]);\n\n  const allKeyDown = useCallback((event: KeyboardEvent) => {\n    if (event.code === 'F4') {\n      onBackButtonClick();\n    } else if (event.code === 'F5') {\n      onFreeDeliveryClick();\n    } else if (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\n      keyDownListener(event);\n    } else if (event.key === '+' || event.code === 'Enter') {\n      onPlusOrEnterKeyDown();\n    } else if (event.key === '-') {\n      onMinusKeyDown();\n    }\n  }, [onBackButtonClick, onFreeDeliveryClick, keyDownListener, onPlusOrEnterKeyDown, onMinusKeyDown]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', allKeyDown);\n    return () => {\n      window.removeEventListener('keydown', allKeyDown);\n    }\n  }, [allKeyDown]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n\n\n\n\n  const cartProductsSum = useMemo(() => {//считаем сумму продуктов и дополнений на каждое изменение продуктов\n    let cartProductsProductsSum = 0;\n    let cartProductsAdditionsSum = 0;\n    cartProducts.forEach(product => {\n      cartProductsProductsSum += product.price * product.quantity;\n      if (Array.isArray(product.children)) {\n        product.children.forEach(child => {\n          cartProductsAdditionsSum += child.price * child.quantity;\n        });\n      }\n    })\n    return {\n      cartProductsProductsSum,\n      cartProductsAdditionsSum\n    };\n  }, [cartProducts]);\n\n  useEffect(() => {//обновляем значения вычисляемых полей\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    addDataToFormData('greichten', cartProductsProductsSum.toString());\n\n    addDataToFormData('zutaten', cartProductsAdditionsSum.toString());\n\n    addDataToFormData('mwst_7', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.07 * 100) / 100).toString());\n\n    addDataToFormData('mwst_19', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.19 * 100) / 100).toString());\n  }, [cartProductsSum, addDataToFormData]);\n\n  useEffect(() => {//вычисляем общую цену\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    const deliveryCost = parseFloat(formDataState.deliveryCost) | 0;\n    const newTotalPrice = (deliveryCost + (((100 - (discount > 100 ? 0 : discount)) / 100)) * (cartProductsProductsSum + cartProductsAdditionsSum)).toString();\n    if (newTotalPrice !== formDataState['total_price']) {\n      addDataToFormData('total_price', newTotalPrice);\n    }\n  }, [cartProductsSum, discount, formDataState, addDataToFormData]);\n\n  const columns1 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'articleView',\n      key: 'articleView',\n    },\n    {\n      title: language.quantity,\n      dataIndex: 'quantity',\n      key: 'quantity',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      width: '60%',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'deleteFromCart',\n      render: DeleteFromCartIcon\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementFromCartIcon\n\n    },\n    {\n      key: 'incrementToCart',\n      render: IncrementToCartIcon\n    }\n  ], [language, DeleteFromCartIcon, DecrementFromCartIcon, IncrementToCartIcon]);\n\n  const columns2 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'articleView',\n      key: 'articleView',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementFromCartIcon\n\n    },\n    {\n      key: 'incrementToCart',\n      render: IncrementToCartIcon\n    }\n  ], [DecrementFromCartIcon, IncrementToCartIcon, language]);\n\n  const cartProductsWithKeys = useMemo(() => {//проставляем ключи продуктам с бека\n    return cartProducts.map((item) => {\n      item.articleView = item.article;\n      item.key = (item.article && item.article.toString()) || '0';\n      if (item.children) {\n        item.children = item.children.map(child => {\n          child.key = item.article + ':' + child.article;\n          child.parentArticle = item.article;\n          return child;\n        })\n      }\n      return item;\n    });\n  }, [cartProducts]);\n\n  const cartProductsExpandedRowKeys = useMemo(() => cartProducts.map(({ article }) => {\n    if (article) {\n      return article.toString();\n    }\n    return '0';\n  }), [cartProducts]);\n\n  const productsExpandedRowKeys = useMemo(() => products.map(({ article }) => {\n    if (article) {\n      return article;\n    }\n    return 0;\n  }), [products]);\n\n  return (\n    <div className=\"cart\">\n      <div className=\"cart__tables\">\n        <div className=\"cart__order-table\">\n          <div className=\"cart__order\">\n            <Input placeholder=\"HINWEIS\" />\n            <Table expandIcon={NullComponent} pagination={false} scroll={cartTableScrollParams} bordered expandedRowKeys={cartProductsExpandedRowKeys} defaultExpandAllRows columns={columns1} dataSource={cartProductsWithKeys} />\n          </div>\n          <SumForm />\n        </div>\n        <div className=\"cart__products-table\">\n          <Input value={search} prefix={<Icon type=\"search\" />} onChange={onSearchChange} autoFocus />\n          <Table components={customTableComponents} pagination={false} scroll={proudctsTableScrollParams} bordered expandIcon={NullComponent} expandedRowKeys={productsExpandedRowKeys} defaultExpandAllRows columns={columns2} dataSource={productsWithSelected} />\n        </div>\n      </div>\n      <div className=\"cart__buttons\">\n        <Button type=\"danger\" size=\"large\" onClick={onBackButtonClick}>{language.back} / F4</Button>\n        <Button type=\"dashed\" size=\"large\" onClick={onFreeDeliveryClick}>{language.freeDelivery} / F5</Button>\n        <Button type=\"primary\" size=\"large\">{language.print} / F2</Button>\n      </div>\n    </div>\n  )\n};\n\nconst Tmp = connect(mapStateToProps, mapDispatchToProps)(withRouter<RouteComponentProps<CartDispatchProps & CartOwnProps & CartStateProps>, any>(Cart));\n\n\nexport default () => (<Profiler id=\"test1\" onRender={onRenderFn} >\n  <Tmp /></Profiler>);\n","import {\n  addProductToCart,\n  addAdditionToProductInCart,\n  incrementQuantityOfProductInCart,\n  decrementQuantityOfProductInCart,\n  incrementQuantityOfAdditionOfProduct,\n  decrementQuantityOfAdditionOfProduct,\n  deleteProductFromCart,\n  deleteAdditionOfProductFromCart,\n  addToFormData\n} from '../../redux/actions';\nimport { State } from '../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { CartOwnProps, CartDispatchProps, CartStateProps } from './CartTypes';\n\n\nexport const mapStateToProps: MapStateToProps<CartStateProps, CartOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\n\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<CartDispatchProps, CartOwnProps> = (dispatch) => {\n  return {\n    addProduct(article: number, productName: string, price: number, mwst: '7' | '19') {\n      dispatch(addProductToCart(article, productName, price, mwst));\n    },\n    addAddition(productArticle: number, additionArticle: number, additionName: string, additionPrice: number, additionMwst: '7' | '19') {\n      dispatch(addAdditionToProductInCart(productArticle, additionArticle, additionName, additionPrice, additionMwst));\n    },\n    deleteProduct(productArticle: number) {\n      dispatch(deleteProductFromCart(productArticle));\n    },\n    deleteAddition(productArticle: number, additionArticle: number) {\n      dispatch(deleteAdditionOfProductFromCart(productArticle, additionArticle));\n    },\n    incrementProduct(productArticle: number) {\n      dispatch(incrementQuantityOfProductInCart(productArticle));\n    },\n    decrementProduct(productArticle: number) {\n      dispatch(decrementQuantityOfProductInCart(productArticle));\n    },\n    incrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(incrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    },\n    decrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(decrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    },\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","import { combineReducers, createStore } from 'redux';\nimport { languages, user, formDataState, cartProducts } from './reducers';\n\nexport const appState = combineReducers({ languages, user, formDataState, cartProducts });\nconst initialState = JSON.parse(localStorage.getItem('pizza-redux') as string);\nlet store = initialState ? createStore(appState, initialState) : createStore(appState);\n\nstore.subscribe(() => localStorage.setItem('pizza-redux', JSON.stringify(store.getState())));\n\nexport default store;\n\n","import React, { useState, useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\n\nimport './index.css';\n\nimport { Menu, Icon, Layout, Radio } from 'antd';\nimport DeliveryForm from './components/DeliveryForm';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect} from 'react-redux';\nimport { logoutUser, changeLanguage } from './redux/actions';\n\n//types\nimport { ClickParam } from 'antd/lib/menu';\n\nimport { langMap } from './lang';\n\nimport { Auth } from './components/Auth';\nimport Cart from './components/Cart';\n\nimport store from './redux';\n\nimport { ROOT_URL } from './constants/rootUrl';\n\nimport { Typography } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { RouteComponentProps } from 'react-router';\nimport { MapStateToProps, MapDispatchToPropsFunction } from 'react-redux';\n\nimport './components/LeftMenu/Menu.css';\n\nimport { State } from './redux/types';\nimport { MenuPageProps, MenuPageStateProps, MenuPageDispatchProps, MenuPageOwnProps } from './components/LeftMenu/types';\n\nconst { Sider } = Layout;\n\nconst { Text } = Typography;\n\nconst App = ({ lang, userRole, logoutFromUser, changeLang, history }: MenuPageProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [collapsed, setCollapsed] = useState(false);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang, setLanguage]);\n\n  const logout = useCallback((e: ClickParam) => {\n    logoutFromUser();\n    history.push(`${ROOT_URL}/`);\n  }, [logoutFromUser, history]);\n\n  const handleLangChange = useCallback((e: RadioChangeEvent) => {\n    const { target: { value } } = e;\n    changeLang(value);\n  }, [changeLang]);\n\n  const handleCollapse = useCallback((collapsed: boolean) => {\n    setCollapsed(collapsed);\n  }, [setCollapsed]);\n\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      {window.location.pathname !==  `${ROOT_URL}/` && <Sider collapsible onCollapse={handleCollapse} theme=\"light\" style={{\n        overflow: 'auto',\n        height: '100vh',\n        left: 0,\n      }}>\n        <div className=\"menu\">\n          <Menu style={{ height: '100vh' }} defaultSelectedKeys={['2']} mode=\"inline\">\n            <Menu.Item disabled>\n              <Icon type=\"tag\" />\n              {!collapsed && <Radio.Group value={lang} onChange={handleLangChange}>\n                <Radio.Button value=\"ru\">ru</Radio.Button>\n                <Radio.Button value=\"de\">de</Radio.Button>\n              </Radio.Group>}\n            </Menu.Item>\n            <Menu.Item key=\"1\" onClick={logout} className=\"logout-button\">\n              <Icon type=\"logout\" />\n              <span>{language.logout}</span>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Icon type=\"phone\" />\n              <span>{language.callForm}</span>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Icon type=\"shopping-cart\" />\n              <span>{language.allOrders}</span>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Icon type=\"dashboard\" />\n              <span>{language.cookingMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"5\">\n              <Icon type=\"car\" />\n              <span>{language.carMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"6\">\n              <Icon type=\"bar-chart\" />\n              <span>{language.report}</span>\n            </Menu.Item>\n            <Menu.Item key=\"7\">\n              <Icon type=\"setting\" />\n              <span>{language.settings}</span>\n            </Menu.Item>\n            <Menu.Item key=\"8\">\n              <Icon type=\"question-circle\" />\n              <span>{language.help}</span>\n            </Menu.Item>\n          </Menu>\n          <Text style={{ textAlign: 'center', paddingBottom: '20px', borderRight: '1px solid #e8e8e8' }}>{userRole}</Text>\n        </div>\n    </Sider>} \n          <Route path={`${ROOT_URL}/menu`} component={DeliveryForm} />\n          <Route path={`${ROOT_URL}/index.html`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/finish`} component={Cart} />\n    </Layout>\n  );\n};\n\nconst mapStatetoProps: MapStateToProps<MenuPageStateProps, MenuPageOwnProps, State> = (state) => {\n  return {\n    formDataState: state.formDataState,\n    lang: state.languages.lang,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<MenuPageDispatchProps, MenuPageOwnProps> = (dispatch) => ({\n  logoutFromUser() {\n    dispatch(logoutUser());\n  },\n  changeLang(lang: 'ru' | 'de') {\n    dispatch(changeLanguage(lang));\n  }\n});\n\nexport const AppWithConnect = connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(withRouter<RouteComponentProps<MenuPageDispatchProps & MenuPageOwnProps & MenuPageStateProps>, any>(App));//FIXME\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <AppWithConnect />\n    </Provider>\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}