{"version":3,"sources":["fakeBD.ts","redux/actions.ts","lang/index.ts","lang/ru.ts","lang/de.ts","constants/fieldNames.ts","constants/selectValues.ts","redux/reducers.ts","constants/rootUrl.ts","components/DeliveryForm/index.tsx","components/Auth/index.tsx","components/Cart/subcomponents/SumForm.tsx","components/Cart/subcomponents/reduxProvider.ts","components/Cart/index.tsx","components/Cart/reduxProvider.ts","redux/index.ts","index.tsx"],"names":["cartProductsActions","fakeBD","customers","customerNumber","phoneNumber","deliveryCost","name","street","houseNumber","plz","city","products","key","article","quantity","productName","price","mwst","children","parentArticle","searchProducts","searchString","slice","toLowerCase","map","product","productChildren","filter","toString","includes","length","Boolean","langMap","authTitle","organizationNumber","username","password","autoLogin","login","tableOrders","selfPickUp","sales","phoneMonitor","clientComment","clear","goToOrder","logout","callForm","allOrders","cookingMonitor","carMonitor","report","settings","help","back","freeDelivery","print","comment","goods","additions","discount","totalPrice","tax_7","tax_19","articlePrices","fieldNames","selectValues","formDataActions","addToFormData","fieldName","fieldValue","type","initialFormDataState","initialCartProductsState","ROOT_URL","Header","Layout","Content","Option","Select","formItemLayout","labelCol","xs","span","sm","lg","xl","wrapperCol","dataSourceActions","ADD_TO_DATA_SOURCE","dataSourceReducer","state","action","dataSourceName","dataSourceData","addToDataSource","initialDataSourceState","DeliveryForm","Form","create","connect","formDataState","lang","languages","dispatch","ownProps","addDataToFormData","id","value","updateFieldsOfFormData","newState","updateAllFieldsOfFormData","clearFields","withRouter","form","getFieldDecorator","setFieldsValue","getFieldsValue","history","useReducer","dataSourceState","dispatchToDataSource","dataSourceLiveState","dispatchToDataSourceLive","useState","language","setLanguage","onFieldChange","useCallback","handleSearch","arg","item","startsWith","fetched","nextPage","validateFields","err","push","handleClearClick","handleSubmit","e","preventDefault","handleEscDown","handleEnterDown","fieldId","customer","find","useEffect","window","addEventListener","removeEventListener","object1","object2","Object","keys","entries","compareTwoObjects","style","background","marginTop","height","display","flexFlow","justifyContent","size","margin","onSubmit","onKeyDown","width","maxWidth","Item","label","rules","required","message","pattern","dataSource","onSearch","onSelect","maxLength","autoFocus","onChange","onClick","htmlType","Title","Typography","Auth","code","user","userRole","role","addUser","errMsg","setErrMsg","values","className","autoComplete","level","textAlign","prefix","color","placeholder","valuePropName","initialValue","SumForm","cartProducts","mwst_7","mwst_19","greichten","zutaten","total_price","onDeliveryCostChange","event","target","onDiscountChange","disabled","suffix","onRenderFn","phase","actualDuration","baseDuration","console","log","customTableComponents","body","row","props","isSelected","record","selected","proudctsTableScrollParams","y","cartTableScrollParams","NullComponent","IconStyle","fontSize","selectSearchInputText","document","querySelector","setRangeText","ProductNameRenderer","testStr","match","additionName","scrollToCurrentSelectedItem","curItem","scrollIntoView","Tmp","addProduct","ADD_PRODUCT_TO_CART","addProductToCart","addAddition","productArticle","additionArticle","additionPrice","additionMwst","ADD_ADDITION_TO_PRODUCT_IN_CART","addAdditionToProductInCart","deleteProduct","DELETE_PRODUCT_FROM_CART","deleteProductFromCart","deleteAddition","DELETE_ADDITION_OF_PRODUCT_FROM_CART","deleteAdditionOfProductFromCart","incrementProduct","INCREMENT_QUANTITY_OF_PRODUCT_IN_CART","incrementQuantityOfProductInCart","decrementProduct","DECREMENT_QUANTITY_OF_PRODUCT_IN_CART","decrementQuantityOfProductInCart","incrementAddition","INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","incrementQuantityOfAdditionOfProduct","decrementAddition","DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","decrementQuantityOfAdditionOfProduct","setProducts","search","setSearch","isAlert","setIsAlert","description","alertMessage","setAlertMessage","additionIndex","undefined","productIndex","currentSelection","setCurrentSelection","sortedProducts","useMemo","unsortedProducts","sort","a","b","forEach","articleView","Array","isArray","localeCompare","formattedSearch","newSelection","wasBreaked","child","productsWithSelected","keyDownListener","stopPropagation","newSelectionArticle","findIndex","newProduct","onMinusKeyDown","onPlusOrEnterKeyDown","onSearchChange","addToCart","addition","decrementFromCart","deleteFromCart","onBackButtonClick","DecrementFromCartIcon","IncrementToCartIcon","DeleteFromCartIcon","onFreeDeliveryClick","searchedProducts","allKeyDown","focus","cartProductsSum","cartProductsProductsSum","cartProductsAdditionsSum","Math","round","newTotalPrice","parseFloat","columns1","title","dataIndex","render","columns2","cartProductsWithKeys","viewName","viewQuantity","cartProductsExpandedRowKeys","productsExpandedRowKeys","onAlertClose","container","containerRect","getBoundingClientRect","curItemRect","bottom","top","timeoutId","setTimeout","clearTimeout","closable","onClose","expandIcon","pagination","scroll","bordered","expandedRowKeys","defaultExpandAllRows","columns","components","onRender","appState","combineReducers","articleIndex","prevQuantity","productArticleIndex","oldAdditions","additionArticleIndex","prevQiantity","productAdditions","currentQuantity","initialState","JSON","parse","localStorage","getItem","store","createStore","subscribe","setItem","stringify","getState","Sider","Text","AppWithConnect","logoutFromUser","changeLang","changeLanguage","collapsed","setCollapsed","handleLangChange","handleCollapse","minHeight","location","pathname","collapsible","onCollapse","theme","overflow","left","defaultSelectedKeys","mode","Group","Button","paddingBottom","borderRight","path","component","exact","Cart","ReactDOM","getElementById"],"mappings":"koBAAA,ICYYA,EDZNC,EAAS,CACXC,UAAW,CACP,CACIC,eAAgB,GAEpB,CACIA,eAAgB,GAEpB,CACIA,eAAgB,GAEpB,CACIA,eAAgB,GAChBC,YAAa,YACbC,aAAc,OACdC,KAAM,6CACNC,OAAQ,6CACRC,YAAa,KACbC,IAAK,SACLC,KAAM,wCAEV,CACIP,eAAgB,MAGxBQ,SAAU,CACN,CACIC,IAAK,EACLC,QAAS,EACTC,SAAU,GACVC,YAAa,QACbC,MAAO,GACPC,KAAM,KACNC,SAAU,CACN,CACIN,IAAK,GACLO,cAAe,EACfN,QAAS,GACTE,YAAa,QACbC,MAAO,GACPC,KAAM,MAEV,CACIL,IAAK,GACLK,KAAM,KACNE,cAAe,EACfN,QAAS,GACTE,YAAa,QACbC,MAAO,IAEX,CACIJ,IAAK,GACLO,cAAe,EACfN,QAAS,GACTI,KAAM,KACNF,YAAa,QACbC,MAAO,MAInB,CACIJ,IAAK,EACLC,QAAS,EACTC,SAAU,GACVC,YAAa,QACbC,MAAO,GACPC,KAAM,KACNC,SAAU,CACN,CACIN,IAAK,GACLO,cAAe,EACfN,QAAS,GACTE,YAAa,SACbC,MAAO,GACPC,KAAM,MAEV,CACIL,IAAK,GACLK,KAAM,KACNE,cAAe,EACfN,QAAS,GACTE,YAAa,SACbC,MAAO,IAEX,CACIJ,IAAK,GACLO,cAAe,EACfN,QAAS,GACTI,KAAM,KACNF,YAAa,SACbC,MAAO,MAInB,CACIJ,IAAK,EACLC,QAAS,EACTC,SAAU,GACVC,YAAa,+FACbC,MAAO,GACPC,KAAM,IACNC,SAAU,CACN,CACIN,IAAK,GAELO,cAAe,EACfN,QAAS,GACTE,YAAa,QACbC,MAAO,GACPC,KAAM,KAEV,CACIL,IAAK,GAELO,cAAe,EACfN,QAAS,GACTE,YAAa,QACbC,MAAO,GACPC,KAAM,KAEV,CACIL,IAAK,GACLO,cAAe,EACfN,QAAS,GACTE,YAAa,QACbC,MAAO,GACPC,KAAM,SAcbG,EAAsB,SAACC,GAChC,MAAqB,KAAjBA,EACOpB,EAAOU,SAASW,MAAM,EAAG,KAEpCD,EAAeA,EAAaE,cAChBtB,EAAOU,SAASa,IAAI,SAACC,GAAa,IAClCZ,EAAmCY,EAAnCZ,QAASE,EAA0BU,EAA1BV,YACXW,EADqCD,EAAbP,SACGS,OAAO,qBAAGZ,YAA8Ba,WAAWL,cAAcM,SAASR,EAAaE,iBACxH,OAA+B,IAA3BG,EAAgBI,O,qVACT,CAAP,GAAYL,EAAZ,CAAqBP,SAAUQ,IAEjBb,EAAQe,WAAWL,cAAcM,SAASR,EAAaE,gBAAkBR,EAAYa,WAAWL,cAAcM,SAASR,EAAaE,eAE3IE,EAEA,OAEZE,OAAOI,WAGC9B,IEtJF+B,EAAuB,CAClC,GCXS,CACPC,UAAW,qEACXC,mBAAoB,oGACpBC,SAAU,8FACVC,SAAU,uCACVC,UAAW,kFACXC,MAAO,iCACPC,YAAa,oBACbC,WAAY,gBACZC,MAAO,cACPC,aAAc,kBACdvC,eAAgB,4EAChBC,YAAa,kFACbE,KAAM,qBACNC,OAAQ,iCACRC,YAAa,0DACbC,IAAK,wFACLC,KAAM,iCACNiC,cAAe,gHACftC,aAAc,mDACduC,MAAO,mDACPC,UAAW,8FACXC,OAAQ,iCACRC,SAAU,mDACVC,UAAW,0DACXC,eAAgB,4EAChBC,WAAY,8FACZC,OAAQ,iCACRC,SAAU,yDACVC,KAAM,uCACNvC,SAAU,kCACVD,QAAS,sBACTE,YAAa,2EACbC,MAAO,2BACPsC,KAAM,iCACNC,aAAc,gHACdC,MAAO,uCACPC,QAAS,4HACTC,MAAO,uCACPC,UAAW,6CACXC,SAAU,uCACVC,WAAY,0DACZC,MAAO,oCACPC,OAAQ,qCACRC,cAAe,4EDhCjB,GEZS,CACP/B,UAAW,mBACXC,mBAAoB,cACpBC,SAAU,eACVC,SAAU,WACVC,UAAW,uBACXC,MAAO,QACPC,YAAa,oBACbC,WAAY,gBACZC,MAAO,cACPC,aAAc,kBACdvC,eAAgB,eAChBC,YAAa,eACbE,KAAM,OACNC,OAAQ,UACRC,YAAa,aACbC,IAAK,MACLC,KAAM,QACNiC,cAAe,YACftC,aAAc,iBACduC,MAAO,aACPC,UAAW,aACXC,OAAQ,SACRC,SAAU,eACVC,UAAW,oBACXC,eAAgB,iBAChBC,WAAY,iBACZC,OAAQ,YACRC,SAAU,gBACVC,KAAM,QACNvC,SAAU,SACVD,QAAS,YACTE,YAAa,kBACbC,MAAO,SACPsC,KAAM,SACNC,aAAc,qBACdC,MAAO,UACPC,QAAS,UACTC,MAAO,UACPC,UAAW,UACXC,SAAU,SACVC,WAAY,eACZC,MAAO,UACPC,OAAQ,WACRC,cAAe,YCZJC,EAhCyB,CACtC9D,eAAgB,iBAChBC,YAAa,cACbE,KAAM,OACNC,OAAQ,SACRC,YAAa,cACbC,IAAK,MACLC,KAAM,OACNiC,cAAe,gBACftC,aAAc,eACdQ,QAAS,UACTC,SAAU,WACVC,YAAa,cACbC,MAAO,SCbIkD,EAAe,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,Q,QLMhEC,EACO,mBADPA,EAEQ,oBAFRA,EAGO,oB,SAGRnE,O,6CAAAA,I,qEAAAA,I,uDAAAA,I,+EAAAA,I,iFAAAA,I,iFAAAA,I,yFAAAA,I,0FAAAA,M,KAYL,I,EAMMoE,EAAgB,SAACC,EAAmBC,GAApB,MAA4C,CAAEC,KAAMJ,EAAkCE,YAAWC,e,mjBMdvH,I,EAwBME,GAAyB,mBACnCP,EAAW9D,eAAiB,IADO,cAEnC8D,EAAW7D,YAAc,IAFU,cAGnC6D,EAAW9D,eAAiB,IAHO,cAInC8D,EAAW7D,YAAc,IAJU,cAKnC6D,EAAW3D,KAAO,IALiB,cAMnC2D,EAAW1D,OAAS,IANe,cAOnC0D,EAAWzD,YAAc,IAPU,cAQnCyD,EAAWxD,IAAM,IARkB,cASnCwD,EAAWvD,KAAO,IATiB,cAUnCuD,EAAWtB,cAAgB,IAVQ,cAWnCsB,EAAW5D,aAAe6D,EAAa,IAXJ,GAmCzBO,EAA2B,GC3E3BC,EAAW,oB,gOCsBhBC,EAAoBC,IAApBD,OAAQE,EAAYD,IAAZC,QAERC,EAAWC,IAAXD,OAEFE,EAAiB,CACrBC,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IACZE,GAAI,CAAEF,KAAM,IACZG,GAAI,CAAEH,KAAM,KAEdI,WAAY,CACVL,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IACZE,GAAI,CAAEF,KAAM,IACZG,GAAI,CAAEH,KAAM,MAIVK,EAAoB,CACxBC,mBAAoB,sBAStB,SAASC,EAAkBC,EAAYC,GACrC,OAAQA,EAAOrB,MACb,KAAKiB,EAAkBC,mBACrB,O,qVAAO,IACFE,EADL,eAEGC,EAAOC,eAAiBD,EAAOE,kBAOxC,IAAMC,EAAkB,SAACF,EAAwBC,GAAzB,MAAuD,CAAEvB,KAAMiB,EAAkBC,mBAAoBI,iBAAgBC,mBAIvIE,GAA2B,mBAC9B/B,EAAW9D,eAAiB,IADE,cAE9B8D,EAAW7D,YAAc,IAFK,cAG9B6D,EAAW9D,eAAiB,IAHE,cAI9B8D,EAAW7D,YAAc,IAJK,cAK9B6D,EAAW3D,KAAO,IALY,cAM9B2D,EAAW1D,OAAS,IANU,cAO9B0D,EAAWzD,YAAc,IAPK,cAQ9ByD,EAAWxD,IAAM,IARa,cAS9BwD,EAAWvD,KAAO,IATY,cAU9BuD,EAAWtB,cAAgB,IAVG,cAW9BsB,EAAW5D,aAAe,IAXI,GAkOlB4F,EAzLMC,IAAKC,OACxB,CAAE7F,KAAM,iBADW4F,CAEnBE,YAJ2D,SAACT,GAAD,MAAY,CAAEU,cAAeV,EAAMU,cAAeC,KAAMX,EAAMY,UAAUD,OAZnE,SAACE,EAAUC,GAAX,MAAyB,CACzFC,kBADyF,SACvEC,EAAYC,GAC5BJ,EAASpC,EAAcuC,EAAIC,KAE7BC,uBAJyF,SAIlEC,GACrBN,ERnEqC,SAACM,GAAD,MAAoB,CAAEvC,KAAMJ,EAAmC2C,YQmE3FC,CAA0BD,KAErCE,YAPyF,WAQvFR,ERpEiC,CAAEjC,KAAMJ,OQ4E3CiC,CAA6Ca,YAAW,YAC8G,IAApKX,EAAmK,EAAnKA,KAAMD,EAA6J,EAA7JA,cAAeK,EAA8I,EAA9IA,kBAAmBM,EAA2H,EAA3HA,YAAaH,EAA8G,EAA9GA,uBAA8G,IAAtFK,KAAQC,EAA8E,EAA9EA,kBAAmBC,EAA2D,EAA3DA,eAAgBC,EAA2C,EAA3CA,eAAkBH,EAAyB,EAAzBA,KAAMI,EAAmB,EAAnBA,QAAmB,EAErHC,qBAAW7B,EAAmBM,GAFuF,mBAE9JwB,EAF8J,KAE7IC,EAF6I,OAG7GF,qBAAW7B,EAAmBM,GAH+E,mBAG9J0B,EAH8J,KAGzIC,EAHyI,OAIrIC,mBAAS5F,EAAQsE,IAJoH,mBAI9JuB,EAJ8J,KAIpJC,EAJoJ,KAM/JC,EAAgBC,sBAAY,SAACrB,EAAYC,GAC7CF,EAAkBC,EAAIC,IACrB,CAACF,IAEEuB,EAAeD,sBAAY,SAACE,EAAavB,GAE7C,GADAE,EAAuBQ,KAClBG,EAAgBb,GAAI7E,OAKvB6F,EAAyB5B,EAAgBY,EAAIa,EAAgBb,GAAIhF,OAAO,SAACwG,GAAD,OAAkBA,GAAQA,EAAKC,WAAWF,WALnF,CAC/B,IAAMG,EAAUpI,EAAOC,UAAUsB,IAAI,gBAASoF,EAAT,EAAID,GAAJ,OAA0BC,GAASA,EAAMhF,aAC9E6F,EAAqB1B,EAAgBY,EAAI0B,IACzCV,EAAyB5B,EAAgBY,EAAI0B,EAAQ1G,OAAO,SAACwG,GAAD,OAAkBA,GAAQA,EAAKC,WAAWF,SAIvG,CAACrB,EAAwBQ,EAAgBG,EAAiBC,EAAsBE,IAE7EW,EAAWN,sBAAY,WAC3Bd,EAAKqB,eAAe,SAACC,GACdA,GACHlB,EAAQmB,KAAR,UAAgB/D,EAAhB,eAGH,CAACwC,EAAMI,IAEJoB,EAAmBV,sBAAY,WACnCZ,EAAe5C,GACfwC,KACC,CAACI,EAAgBJ,IAEd2B,EAAeX,sBAAY,SAACY,GAChCA,EAAEC,iBACFP,KACC,CAACA,IAEEQ,EAAgBd,sBAAY,SAACY,GACnB,WAAVA,EAAEhI,IACJ8H,IACmB,OAAVE,EAAEhI,KACX0H,KAED,CAACI,EAAkBJ,IAEhBS,GAAkBf,sBAAY,SAACrB,EAAYC,GAC/C,IA9EoBoC,EAAiB1E,EA8E/B2E,GA9EcD,EA8EYrC,EA9EKrC,EA8EDsC,EA9EwB3G,EAAOC,UAAUgJ,KAAK,SAACD,GAAD,OAAoBA,EAASD,IAAYC,EAASD,GAASpH,aAAe0C,KA+ExJ2E,IACF7B,EAAe6B,GACfpC,EAAuBoC,KAExB,CAAC7B,EAAgBP,IAiBpB,OAfAsC,oBAAU,WACRrB,EAAY9F,EAAQsE,KACnB,CAACA,IAEJ6C,oBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWP,GAC5B,kBAAMM,OAAOE,oBAAoB,UAAWR,KAClD,CAACA,IAEJK,oBAAU,YA5Fc,SAACI,EAAcC,GACvC,GAAIC,OAAOC,KAAKH,GAASzH,SAAW2H,OAAOC,KAAKF,GAAS1H,OACvD,OAAO,EACT,cAAyB2H,OAAOE,QAAQJ,GAAxC,eAAkD,CAAC,IAAD,0BAAxC3I,EAAwC,KAAnCgG,EAAmC,KAChD,GAAI4C,EAAQ5I,KAASgG,EACnB,OAAO,EAEX,OAAO,GAsFDgD,CAAkBvC,IAAkBhB,IAExCe,EAAef,IACd,CAACA,EAAee,EAAgBC,IAGjC,kBAAC,IAAD,KACE,kBAAC1C,EAAD,CAAQkF,MAAO,CAAEC,WAAY,OAAQC,UAAW,OAAQC,OAAQ,OAAQC,QAAS,OAAQC,SAAU,aAAcC,eAAgB,iBAC/H,kBAAC,IAAD,CAAQ5F,KAAK,SAAS6F,KAAK,SAASvC,EAAStF,aAC7C,kBAAC,IAAD,CAAQgC,KAAK,SAAS6F,KAAK,SAASvC,EAASrF,YAC7C,kBAAC,IAAD,CAAQ+B,KAAK,SAAS6F,KAAK,SAASvC,EAASpF,OAC7C,kBAAC,IAAD,CAAQ8B,KAAK,SAAS6F,KAAK,SAASvC,EAASnF,eAE/C,kBAAC,IAAD,MACA,kBAACmC,EAAD,CAASgF,MAAO,CAAEQ,OAAQ,SAAUP,WAAY,YAC9C,6BACE,kBAAC,IAAD,eAAMQ,SAAU3B,EAAc4B,UAAWzB,GAAoB9D,GAC3D,kBAAC,IAAD,CAAM6E,MAAO,CAAEW,MAAO,MAAOC,SAAU,UACrC,kBAAC,IAAKC,KAAN,CAAWC,MAAO9C,EAAS1H,gBACxBgH,EAAkBlD,EAAW9D,eAAgB,CAC5CyK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,wHAC3B,CAAEC,QAAS,SAAUD,QAAS,gIAHjC3D,CAMC,kBAAC,IAAD,CACE6D,WAAYtD,EAAoBzD,EAAW9D,gBAC3C8K,SAAU,SAAC/C,GAAD,OAASD,EAAaC,EAAKjE,EAAW9D,iBAChD+K,SAAU,SAACtE,GAAD,OAAWmC,GAAgB9E,EAAW9D,eAAgByG,KAEhE,kBAAC,IAAD,CAAO2D,UAAWzB,EAAeqC,UAAW,EAAGxE,GAAI1C,EAAW9D,oBAGpE,kBAAC,IAAKuK,KAAN,CAAWC,MAAO9C,EAASzH,aACxB+G,EAAkBlD,EAAW7D,YAAa,CACzCwK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,yKAC3B,CAAEC,QAAS,SAAUD,QAAS,gIAHjC3D,CAMC,kBAAC,IAAD,CACE6D,WAAYtD,EAAoBzD,EAAW7D,aAC3C6K,SAAU,SAAC/C,GAAD,OAASD,EAAaC,EAAKjE,EAAW7D,cAChD8K,SAAU,SAACtE,GAAD,OAAWmC,GAAgB9E,EAAW7D,YAAawG,KAE7D,kBAAC,IAAD,CAAO2D,UAAWzB,EAAesC,WAAW,EAAMD,UAAW,GAAIxE,GAAI1C,EAAW7D,iBAGtF,kBAAC,IAAKsK,KAAN,CAAWC,MAAO9C,EAASvH,MACxB6G,EAAkBlD,EAAW3D,KAAM,CAClCsK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,8GAF9B3D,CAKC,kBAAC,IAAD,CACE6D,WAAYtD,EAAoBzD,EAAW3D,MAC3C2K,SAAU,SAAC/C,GAAD,OAASD,EAAaC,EAAKjE,EAAW3D,OAChD4K,SAAU,SAACtE,GAAD,OAAWmC,GAAgB9E,EAAW3D,KAAMsG,KAEtD,kBAAC,IAAD,CAAO2D,UAAWzB,EAAeqC,UAAW,GAAIxE,GAAI1C,EAAW3D,UAGrE,kBAAC,IAAKoK,KAAN,CAAWC,MAAO9C,EAASnH,MACxByG,EAAkBlD,EAAWvD,KAAM,CAClCkK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,sIAF9B3D,CAIE,kBAAC,IAAD,CAAOoD,UAAWzB,EAAeqC,UAAW,GAAIxE,GAAI1C,EAAWvD,SAEpE,kBAAC,IAAKgK,KAAN,CAAWC,MAAO9C,EAAStH,QACxB4G,EAAkBlD,EAAW1D,OAAQ,CACpCqK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,gIAF9B3D,CAIE,kBAAC,IAAD,CAAOoD,UAAWzB,EAAeqC,UAAW,GAAIxE,GAAI1C,EAAW1D,WAEpE,kBAAC,IAAKmK,KAAN,CAAWC,MAAO9C,EAASrH,aACxB2G,EAAkBlD,EAAWzD,YAAa,CACzCoK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,sGAC3B,CAAEC,QAAS,SAAUD,QAAS,gIAHjC3D,CAKE,kBAAC,IAAD,CAAOoD,UAAWzB,EAAeqC,UAAW,EAAGxE,GAAI1C,EAAWzD,gBAEnE,kBAAC,IAAKkK,KAAN,CAAWC,MAAO9C,EAASpH,KACxB0G,EAAkBlD,EAAWxD,IAAK,CACjCmK,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,oIAC3B,CAAEC,QAAS,SAAUD,QAAS,gIAHjC3D,CAKE,kBAAC,IAAD,CAAOoD,UAAWzB,EAAeqC,UAAW,EAAGxE,GAAI1C,EAAWxD,QAEnE,kBAAC,IAAKiK,KAAN,CAAWC,MAAO9C,EAASlF,eACxBwE,EAAkBlD,EAAWtB,cAA7BwE,CACC,kBAAC,IAAD,CAAOoD,UAAWzB,EAAeqC,UAAW,GAAIxE,GAAI1C,EAAWtB,kBAEnE,kBAAC,IAAK+H,KAAN,CAAWC,MAAO9C,EAASxH,cACxB8G,EAAkBlD,EAAW5D,aAA7B8G,CACC,kBAAC,IAAD,CAAQkE,SAAU,SAACzE,GAAD,OAAmBmB,EAAc9D,EAAW5D,aAAcuG,IAAQD,GAAI1C,EAAW5D,cAChG6D,EAAa1C,IAAI,SAAAoF,GAAK,OAAI,kBAAC9B,EAAD,CAAQlE,IAAKgG,EAAOA,MAAOA,GAAQA,SAItE,kBAAC,IAAD,MACA,yBAAKiD,MAAO,CAAEI,QAAS,OAAQC,SAAU,aAAcC,eAAgB,kBACrE,kBAAC,IAAD,CAAQ5F,KAAK,SAAS6F,KAAK,QAAQkB,QAAS5C,GAAmBb,EAASjF,MAAxE,UACA,kBAAC,IAAK8H,KAAN,KACE,kBAAC,IAAD,CAAQa,SAAS,SAAShH,KAAK,UAAU6F,KAAK,SAASvC,EAAShF,UAAhE,mB,4BCvQR2I,I,OAAUC,IAAVD,OA4GKE,GAAOtF,YAhBoE,SAACT,GACvF,MAAO,CACLW,KAAMX,EAAMY,UAAUD,KACtBqF,KAAMhG,EAAMiG,KAAKD,KACjBE,SAAUlG,EAAMiG,KAAKE,OAIyE,SAACtF,GACjG,MAAO,CACLuF,QADK,SACGD,EAAcH,GACpBnF,ETjG8B,SAACsF,EAAMH,GAAP,MAAiB,CAAEpH,KAvB/B,WAuB+CuH,OAAMH,QSiG9DI,CAAQD,EAAMH,OAKTvF,CAA6CF,IAAKC,OAA8C,CAAE7F,KAAM,gBAA3D4F,CAA6Ee,YA1GrH,SAAC,GAA6I,IAAD,IAA1IC,KAAQE,EAAkI,EAAlIA,eAAgBC,EAAkH,EAAlHA,eAAgBkB,EAAkG,EAAlGA,eAAgBpB,EAAkF,EAAlFA,kBAAqBG,EAA6D,EAA7DA,QAAShB,EAAoD,EAApDA,KAAMyF,EAA8C,EAA9CA,QAASJ,EAAqC,EAArCA,KAAME,EAA+B,EAA/BA,SAA+B,EACxIjE,mBAAS,IAD+H,mBAC7JoE,EAD6J,KACrJC,EADqJ,OAEpIrE,mBAAS5F,EAAQsE,IAFmH,mBAE7JuB,EAF6J,KAEnJC,EAFmJ,KAIpKqB,oBAAU,WACR/B,EAAe,CAAEuE,UAChB,CAACvE,EAAgBuE,IAEpBxC,oBAAU,WACJ0C,GACFvE,EAAQmB,KAAR,UAAgB/D,EAAhB,WAED,CAAC4C,EAASuE,IAEb1C,oBAAU,WACRrB,EAAY9F,EAAQsE,KACnB,CAACA,IAeF,OACI,yBAAKK,GAAG,qCACR,kBAAC,IAAD,CAAM2D,SAfS,SAAC1B,GACpBA,EAAEC,iBACFN,EAAe,SAACC,EAAU0D,GACxB,IV0Fe5J,EAAeF,EU1FxBwJ,GV0FStJ,EU1FG4J,EAAO/J,SV0FKC,EU1FK8J,EAAO9J,SV2F9B,SAAVE,GAAiC,SAAbF,EACb,CAAE0J,KAAM,SAEZ,OU7FAtD,GAAOoD,GACVG,EAAQH,EAAKE,KAAMzE,IAAiBsE,MACpCrE,EAAQmB,KAAR,UAAgB/D,EAAhB,WACUkH,GACVK,EAAU,oLAOoBE,UAAU,aAAaC,aAAa,OAC9D,kBAACZ,GAAD,CAAOa,MAAO,EAAGxC,MAAO,CAACyC,UAAW,WAAYzE,EAAS5F,WACzD,kBAAC,IAAKyI,KAAN,KACCvD,EAAkB,OAAQ,CACvByD,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,iEAC7B,CAAEC,QAAS,SAAUD,QAAS,gIAHjC3D,CAMG,kBAAC,IAAD,CACAiE,WAAS,EACTgB,aAAa,MACbG,OAAQ,kBAAC,IAAD,CAAMhI,KAAK,SAASsF,MAAO,CAAE2C,MAAO,qBAC5CC,YAAa5E,EAAS3F,uBAI1B,kBAAC,IAAKwI,KAAN,KACCvD,EAAkB,WAAY,CAC3ByD,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,4IADtC3D,CAGG,kBAAC,IAAD,CACAiF,aAAa,MACbG,OAAQ,kBAAC,IAAD,CAAMhI,KAAK,OAAOsF,MAAO,CAAE2C,MAAO,qBAC1CC,YAAa5E,EAAS1F,aAI1B,kBAAC,IAAKuI,KAAN,KACCvD,EAAkB,WAAY,CAC3ByD,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,qFADtC3D,CAGG,kBAAC,IAAD,CACAiF,aAAa,MACbG,OAAQ,kBAAC,IAAD,CAAMhI,KAAK,OAAOsF,MAAO,CAAE2C,MAAO,qBAC1CjI,KAAK,WACLkI,YAAa5E,EAASzF,aAI1B,kBAAC,IAAKsI,KAAN,KACCvD,EAAkB,WAAY,CAC3BuF,cAAe,UACfC,cAAc,GAFjBxF,CAGE,kBAAC,KAAD,KAAWU,EAASxF,YACtB2J,GAAU,6BACP,kBAAC,KAAD,CAAOzH,KAAK,QAAQuG,QAASkB,KAEjC,kBAAC,IAAD,CAAQzH,KAAK,UAAUgH,SAAS,SAASY,UAAU,qBAC9CtE,EAASvF,c,UChGpB0C,GAAiB,CACrBC,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IACZE,GAAI,CAAEF,KAAM,IACZG,GAAI,CAAEH,KAAM,KAEdI,WAAY,CACVL,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IACZE,GAAI,CAAEF,KAAM,IACZG,GAAI,CAAEH,KAAM,MA0EDyH,GAtEC1G,IAAKC,OAAO,CAAE7F,KAAM,QAApB4F,CAA8BE,YClB6C,SAACT,GAC1F,MAAO,CACLkH,aAAclH,EAAMkH,aACpBxG,cAAeV,EAAMU,cACrBC,KAAMX,EAAMY,UAAUD,OAI2E,SAACE,GACpG,MAAO,CACLE,kBADK,SACaC,EAAYC,GAC5BJ,EAASpC,EAAcuC,EAAIC,ODOaR,CAA6C,YASlE,IATqEE,EAStE,EATsEA,KAStE,IAT4EY,KAAQC,EASpF,EAToFA,kBAAmBC,EASvG,EATuGA,eAAkBV,EASzH,EATyHA,kBASzH,IARtBL,cACEyG,EAOoB,EAPpBA,OACAC,EAMoB,EANpBA,QACAC,EAKoB,EALpBA,UACAC,EAIoB,EAJpBA,QACA5M,EAGoB,EAHpBA,aACAuD,EAEoB,EAFpBA,SACAsJ,EACoB,EADpBA,YACoB,EACUtF,mBAAS5F,EAAQsE,IAD3B,mBACfuB,EADe,KACLC,EADK,KAEhBqF,EAAuBnF,sBAAY,SAACoF,GACxC1G,EAAkB,eAAgB0G,EAAMC,OAAOzG,QAC9C,CAACF,IAEE4G,EAAmBtF,sBAAY,SAACoF,GACpC1G,EAAkB,WAAY0G,EAAMC,OAAOzG,QAC1C,CAACF,IAkBJ,OAhBAyC,oBAAU,WACR/B,EAAe,CACb0F,SACAC,UACAC,YACAC,UACA5M,eACAuD,WACAsJ,iBAED,CAACJ,EAAQC,EAASC,EAAWC,EAAS5M,EAAcuD,EAAUsJ,EAAa9F,IAE9E+B,oBAAU,WACRrB,EAAY9F,EAAQsE,KACnB,CAACA,IAGF,kBAAC,IAAD,iBAAUtB,GAAV,CAA0BmH,UAAU,aAClC,yBAAKA,UAAU,aACb,yBAAKA,UAAU,kCACb,kBAAC,IAAKzB,KAAN,CAAWC,MAAO9C,EAAS/D,OACxBqD,EAAkB,SAAlBA,CACC,kBAAC,IAAD,CAAOsF,YAAa5E,EAAS/D,MAAO6C,GAAG,SAAS4G,UAAQ,EAACC,OAAO,aAGpE,kBAAC,IAAK9C,KAAN,CAAWC,MAAO9C,EAAS9D,QACxBoD,EAAkB,UAAlBA,CACC,kBAAC,IAAD,CAAOsF,YAAa5E,EAAS9D,OAAQ4C,GAAG,UAAU4G,UAAQ,EAACC,OAAO,cAIxE,yBAAKrB,UAAU,aACb,kBAAC,IAAKzB,KAAN,CAAWC,MAAO9C,EAAS7D,eACxBmD,EAAkB,YAAlBA,CACC,kBAAC,IAAD,CAAOsF,YAAa5E,EAAS7D,cAAe2C,GAAG,YAAY4G,UAAQ,EAACC,OAAO,aAG/E,kBAAC,IAAK9C,KAAN,CAAWC,MAAO9C,EAASlE,WACxBwD,EAAkB,UAAlBA,CACC,kBAAC,IAAD,CAAOsF,YAAa5E,EAASlE,UAAWgD,GAAG,UAAU4G,UAAQ,EAACC,OAAO,aAGzE,kBAAC,IAAK9C,KAAN,CAAWC,MAAO9C,EAASxH,cAAe8G,EAAkB,eAAlBA,CAAkC,kBAAC,IAAD,CAAOkE,SAAU8B,EAAsBV,YAAa5E,EAASxH,aAAcmN,OAAO,aAC9J,kBAAC,IAAK9C,KAAN,CAAWC,MAAK,gBAAW9C,EAASjE,WAAauD,EAAkB,WAAlBA,CAA8B,kBAAC,IAAD,CAAOkE,SAAUiC,EAAkBb,YAAW,gBAAW5E,EAASjE,UAAY4J,OAAO,QACpK,kBAAC,IAAK9C,KAAN,CAAWC,MAAO9C,EAAShE,YAAasD,EAAkB,cAAlBA,CAAiC,kBAAC,IAAD,CAAOR,GAAG,cAAc8F,YAAa5E,EAAShE,WAAY0J,UAAQ,EAACC,OAAO,mBEhEvJC,I,OAAa,SAAC9G,EAAY+G,EAAeC,EAAwBC,GACrEC,QAAQC,IAAR,UAAenH,EAAf,cAAuB+G,EAAvB,WACAG,QAAQC,IAAR,uBAA4BH,IAC5BE,QAAQC,IAAR,yBAA8BF,MAchC,IAAMG,GAAwB,CAAEC,KAAM,CAAEC,IAXxC,SAAkBC,GAChB,IAAMC,EAAaD,EAAMhN,SAASgI,KAAK,qBAAGgF,MAASE,OAAUC,WAC7D,OACE,wBAAIlC,UAAS,UAAK+B,EAAM/B,UAAX,YAAwBgC,EAAa,SAAW,KAC1DD,EAAMhN,aASPoN,GAA4B,CAAEC,EAAG,iDACjCC,GAAwB,CAAED,EAAG,gEAC7BE,GAAgB,kBAAM,MACtBC,GAAY,CAAEC,SAAU,QAExBC,GAAwB,WAC5B,IAAMvB,EAASwB,SAASC,cAAc,oCACrCzB,EAAQ0B,aAAa1B,EAAOzG,MAAO,EAAGyG,EAAOzG,MAAM9E,OAAQ,WAExDkN,GAAsB,SAAC1O,GAC3B,IAAM2O,EAAU3O,EAAK4O,MAAM,uBAC3B,GAAID,EAAS,CAAC,IAAD,cACyBA,EADzB,GACDnO,GADC,WACSqO,EADT,KAEX,OAAQ,yBAAKhD,UAAU,YAAW,0BAAMA,UAAU,sBAAsBrL,GAAiBqO,GAE3F,OAAQ7O,GAEJ8O,GAA8B,WAClC,IAAMC,EAAUR,SAASC,cAAc,WACnCO,GACFA,EAAQC,kBA6dZ,IAAMC,GAAMnJ,YC1gByE,SAACT,GACpF,MAAO,CACLkH,aAAclH,EAAMkH,aACpBxG,cAAeV,EAAMU,cACrBC,KAAMX,EAAMY,UAAUD,OAMqE,SAACE,GAC9F,MAAO,CACLgJ,WADK,SACM3O,EAAiBE,EAAqBC,EAAeC,GAC9DuF,EbOyB,SAAC3F,EAAiBE,EAAqBC,EAAeC,GAAtD,MAC5B,CAAEsD,KAAMvE,EAAoByP,oBAAqB5O,UAASE,cAAaC,QAAOC,QaRlEyO,CAAiB7O,EAASE,EAAaC,EAAOC,KAEzD0O,YAJK,SAIOC,EAAwBC,EAAyBV,EAAsBW,EAAuBC,GACxGvJ,EbOoC,SAACoJ,EAAwBC,EAAyBV,EAAsBW,EAAuBC,GAA/F,MACvC,CAAExL,KAAMvE,EAAoBgQ,gCAAiCJ,iBAAgBC,kBAAiBV,eAAcW,gBAAeC,gBaR/GE,CAA2BL,EAAgBC,EAAiBV,EAAcW,EAAeC,KAEpGG,cAPK,SAOSN,GACZpJ,EbO+B,SAACoJ,GAAD,MAClC,CAAErL,KAAMvE,EAAoBmQ,yBAA0BP,kBaR1CQ,CAAsBR,KAEjCS,eAVK,SAUUT,EAAwBC,GACrCrJ,EbOyC,SAACoJ,EAAwBC,GAAzB,MAC5C,CAAEtL,KAAMvE,EAAoBsQ,qCAAsCV,iBAAgBC,mBaRtEU,CAAgCX,EAAgBC,KAE3DW,iBAbK,SAaYZ,GACfpJ,EbO0C,SAACoJ,GAAD,MAA6B,CAAErL,KAAMvE,EAAoByQ,sCAAuCb,kBaPjIc,CAAiCd,KAE5Ce,iBAhBK,SAgBYf,GACfpJ,EbM0C,SAACoJ,GAAD,MAA6B,CAAErL,KAAMvE,EAAoB4Q,sCAAuChB,kBaNjIiB,CAAiCjB,KAE5CkB,kBAnBK,SAmBalB,EAAwBC,GACxCrJ,EbK8C,SAACoJ,EAAwBC,GAAzB,MACjD,CAAEtL,KAAMvE,EAAoB+Q,0CAA2CnB,iBAAgBC,mBaN3EmB,CAAqCpB,EAAgBC,KAEhEoB,kBAtBK,SAsBarB,EAAwBC,GACxCrJ,EbK+C,SAACoJ,EAAwBC,GAAzB,MAClD,CAAEtL,KAAMvE,EAAoBkR,0CAA2CtB,iBAAgBC,mBaN3EsB,CAAqCvB,EAAgBC,KAEhEnJ,kBAzBK,SAyBaC,EAAYC,GAC5BJ,EAASpC,EAAcuC,EAAIC,ODqerBR,CAA6Ca,YA1dzD,YAA2N,IAA3M4F,EAA0M,EAA1MA,aAAcnG,EAA4L,EAA5LA,kBAA4L,IAAzKL,cAAiBzC,gBAAwJ,MAA7I,EAA6I,EAAxIyC,EAAwI,EAAxIA,cAAeC,EAAyH,EAAzHA,KAAMkJ,EAAmH,EAAnHA,WAAYG,EAAuG,EAAvGA,YAAaO,EAA0F,EAA1FA,cAAeG,EAA2E,EAA3EA,eAAgBY,EAA2D,EAA3DA,kBAAmBN,EAAwC,EAAxCA,iBAAkBrJ,EAAsB,EAAtBA,QAAsB,EACxLM,mBAAS5F,EAAQsE,IADuK,mBACjNuB,EADiN,KACvMC,EADuM,OAExLF,mBAASxG,EAAe,KAFgK,mBAEjNT,EAFiN,KAEvMyQ,EAFuM,OAG5LxJ,mBAAS,IAHmL,mBAGjNyJ,EAHiN,KAGzMC,EAHyM,OAI1L1J,oBAAS,GAJiL,mBAIjN2J,EAJiN,KAIxMC,EAJwM,OAKhL5J,mBAAS,CAAEkD,QAAS,GAAI2G,YAAa,KAL2I,mBAKjNC,EALiN,KAKnMC,EALmM,OAMxK/J,mBAAS,CAAEgK,mBAAeC,EAAWC,aAAc,IANqH,mBAMjNC,EANiN,KAM/LC,EAN+L,KAQlNC,EAAiBC,kBAAQ,WAC7B,IAAMC,EAAmBxR,EAASyR,KAAK,SAACC,EAAGC,GACzC,OAAID,EAAExR,SAAWyR,EAAEzR,QACVwR,EAAExR,QAAUyR,EAAEzR,QAEhB,IAETsR,EAAiBI,QAAQ,SAAA9Q,GACvBA,EAAQ+Q,YAAc/Q,EAAQZ,QAC1B4R,MAAMC,QAAQjR,EAAQP,YACxBO,EAAQP,SAAWO,EAAQP,SAASkR,KAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEtR,YAAY4R,cAAcL,EAAEvR,kBAGrF,IAAM6R,EAAkBvB,EAAO9P,cACzBsR,EAAwC,CAAEf,aAAc,EAAGF,mBAAeC,GAC5EiB,GAAa,EAfkB,uBAgBnC,YAAoBX,EAApB,+CAAsC,CAAC,IAA9B1Q,EAA6B,QACpC,GAAIA,EAAQZ,QAAQe,WAAWL,cAAcM,SAAS+Q,IAAoBnR,EAAQV,YAAYQ,cAAcM,SAAS+Q,GAAkB,CACrIC,EAAaf,aAAerQ,EAAQZ,QACpC,MACK,GAAIY,EAAQP,SAAU,CAAC,IAAD,uBAC3B,YAAkBO,EAAQP,SAA1B,+CAAoC,CAAC,IAA5B6R,EAA2B,QAClC,GAAIA,EAAMhS,YAAYQ,cAAcM,SAAS+Q,GAAkB,CAC7DC,EAAaf,aAAerQ,EAAQZ,QACpCgS,EAAajB,cAAgBmB,EAAMlS,QACnCiS,GAAa,EACb,QANuB,kFAS3B,GAAIA,EACF,QA9B6B,kFAmCnC,OADAd,EAAoBa,GACbV,GACN,CAACxR,EAAU0Q,EAAQW,IAEhBgB,EAAuBd,kBAAQ,WACnC,OAAOD,EAAezQ,IAAI,SAACC,GAezB,OAdIA,EAAQZ,UAAYkR,EAAiBD,mBAAmDD,IAAnCE,EAAiBH,cACxEnQ,EAAQ4M,UAAW,EACV5M,EAAQ4M,WACjB5M,EAAQ4M,cAAWwD,GAEjBY,MAAMC,QAAQjR,EAAQP,WACxBO,EAAQP,SAASqR,QAAQ,SAAAQ,GACnBhB,EAAiBD,eAAiBrQ,EAAQZ,SAAWkR,EAAiBH,gBAAkBmB,EAAMlS,QAChGkS,EAAM1E,UAAW,GACR0E,EAAM1E,UAAa0D,EAAiBH,gBAAkBmB,EAAMlS,SAAWkR,EAAiBD,eAAiBrQ,EAAQZ,UAC1HkS,EAAM1E,cAAWwD,KAIhBpQ,KAER,CAACwQ,EAAgBF,IAEdkB,EAAkBjL,sBAAY,SAACoF,GACnCA,EAAM8F,kBACN,IAAMC,EAA+C,CAAErB,aAAcC,EAAiBD,cACtF,QAAuCD,IAAnCE,EAAiBH,cAA6B,CAChD,IAAME,EAAeG,EAAemB,UAAU,qBAAGvS,UAA0BkR,EAAiBD,eACpF5Q,EAAa+Q,EAAeH,GAA5B5Q,SACR,GAAmB,YAAfkM,EAAMzB,MAER,GAAqB,IAAjBmG,GAAgD,IAA1BG,EAAenQ,OAAc,OACvBmQ,EAAeH,EAAe,GAApDjR,EAD6C,EAC7CA,QAASK,EADoC,EACpCA,SACjBiS,EAAoBrB,aAAejR,EAC/BK,GAAgC,IAApBA,EAASY,SACvBqR,EAAoBvB,cAAgB1Q,EAASA,EAASY,OAAS,GAAGjB,cAE/D,GAAIoR,EAAeA,EAAenQ,OAAS,GAAG,CACnD,IAAMuR,EAAapB,EAAeA,EAAenQ,OAAS,GAE1D,GADAqR,EAAoBrB,aAAeuB,EAAWxS,QAC1C4R,MAAMC,QAAQW,EAAWnS,UAAW,CACtC,IAAMyC,EAAY0P,EAAWnS,SAC7BiS,EAAoBvB,cAAgBjO,EAAUA,EAAU7B,OAAS,GAAGjB,eAIpE4R,MAAMC,QAAQxR,IAAiC,IAApBA,EAASY,OACtCqR,EAAoBvB,cAAgB1Q,EAAS,GAAGL,QACb,IAA1BoR,EAAenQ,SACxBqR,EAAoBrB,aAAeG,GAAgBH,EAAe,GAAKG,EAAenQ,QAAQjB,aAG7F,CACL,IAAMiR,EAAeG,EAAemB,UAAU,qBAAGvS,UAA0BkR,EAAiBD,eACpF5Q,EAAa+Q,EAAeH,GAA5B5Q,SACR,IAAKA,IAAaA,EAASY,OAEzB,YADAkQ,EAAoBmB,GAGtB,IAAMvB,EAAgB1Q,EAASkS,UAAU,qBAAGvS,UAA0BkR,EAAiBH,gBACpE,YAAfxE,EAAMzB,KACc,IAAlBiG,IACFuB,EAAoBvB,cAAgB1Q,EAAS0Q,EAAgB,GAAG/Q,SAG9D+Q,IAAkB1Q,EAASY,OAAS,EACtCqR,EAAoBvB,cAAgB1Q,EAAS0Q,EAAgB,GAAG/Q,QAE5DiR,IAAiBG,EAAenQ,OAAS,EAC3CqR,EAAoBrB,aAAeG,EAAeH,EAAe,GAAGjR,QAEpEsS,EAAoBrB,aAAeG,EAAe,GAAGpR,QAK7DmR,EAAoBmB,IACnB,CAAClB,EAAgBF,EAAkBC,IAEhCsB,EAAiBtL,sBAAY,WAAM,IAC/B8J,EAAgCC,EAAhCD,aAAcF,EAAkBG,EAAlBH,cAChBnQ,EAAUoL,EAAa3D,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,UAAYiR,SACrCD,IAAlBD,EACEnQ,GAAWgR,MAAMC,QAAQjR,EAAQP,UAClBO,EAAQP,SAASgI,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,UAAY+Q,IAE9DX,EAAkBa,EAAcF,IAEhCD,EAAgB,CAAE7G,QAAS,yNAA2C2G,YAAa,oHACnFD,GAAW,KAGbG,EAAgB,CAAE7G,QAAS,yNAA2C2G,YAAa,8GACnFD,GAAW,IAGT/P,EACFkP,EAAiBmB,IAEjBH,EAAgB,CAAE7G,QAAS,mNAA0C2G,YAAa,8GAClFD,GAAW,IAGf5C,MACC,CAAC/B,EAAckF,EAAkBd,EAAmBN,EAAkBa,EAAYG,IAE/E4B,EAAuBvL,sBAAY,WACvC,GAAIuJ,EACFC,GAAW,OADb,CAD6C,IAKrCM,EAAgCC,EAAhCD,aAAcF,EAAkBG,EAAlBH,cAChBnQ,EAAUwQ,EAAe/I,KAAK,qBAAGrI,UAA0BiR,IACjE,GAAIrQ,EAAS,CAAC,IACJZ,EAAgDY,EAAhDZ,QAASE,EAAuCU,EAAvCV,YAAaC,EAA0BS,EAA1BT,MAAOE,EAAmBO,EAAnBP,SAAUD,EAASQ,EAATR,KAC/C,QAAsB4Q,IAAlBD,EAEF,GADwB/E,EAAa3D,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,UAAYiR,KAEjE,GAAIW,MAAMC,QAAQxR,GAAW,CAC3B,IAAM6R,EAAQ7R,EAASgI,KAAK,qBAAGrI,UAA0B+Q,IACzD,GAAImB,EAAO,CAAC,IACFlS,EAAsCkS,EAAtClS,QAASE,EAA6BgS,EAA7BhS,YAAaC,EAAgB+R,EAAhB/R,MAAOC,EAAS8R,EAAT9R,UACrB4Q,IAAZhR,GACF8O,EAAYmC,EAAcjR,EAASE,EAAaC,EAAOC,UAK7D0Q,EAAgB,CAAE7G,QAAS,gJAA8B2G,YAAa,8GACtED,GAAW,aAGGK,IAAZhR,GACF2O,EAAW3O,EAASE,EAAaC,EAAOC,GAG9C2N,OACC,CAACqD,EAAgBV,EAAS1E,EAAckF,EAAkBpC,EAAaH,EAAYgC,EAAYG,IAE5F6B,EAAiBxL,sBAAY,SAACoF,GACG,MAAjCA,EAAMC,OAAOzG,MAAMtF,OAAO,IAG5BgQ,EAAUlE,EAAMC,OAAOzG,QAExB,CAAC0K,EAAWgC,IAETG,EAAYzL,sBAAY,SAACnH,EAAiBM,GAC9C,OAAO,WAEL,GADAyN,KACIzN,EAAe,CACjB,IAAMM,EAAUwQ,EAAe/I,KAAK,qBAAGrI,UAAiDM,IAExF,GADwB0L,EAAa3D,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,UAAYM,KAEjE,GAAIM,GAAWA,EAAQP,SAAU,CAC/B,IAAMwS,EAAWjS,EAAQP,SAASgI,KAAK,qBAAGrI,UAAiDA,IAC3F,GAAI6S,EAAU,CAAC,IACL3S,EAA6B2S,EAA7B3S,YAAaC,EAAgB0S,EAAhB1S,MAAOC,EAASyS,EAATzS,KAC5B0O,EAAYxO,EAAeN,EAASE,EAAaC,EAAOC,UAI5D0Q,EAAgB,CAAE7G,QAAS,gJAA8B2G,YAAa,8GACtED,GAAW,OAER,CACL,IAAMkC,EAAWzB,EAAe/I,KAAK,qBAAGrI,UAAiDA,IACzF,GAAI6S,EAAU,CAAC,IACL3S,EAA6B2S,EAA7B3S,YAAaC,EAAgB0S,EAAhB1S,MAAOC,EAASyS,EAATzS,KAC5BuO,EAAW3O,EAASE,EAAaC,EAAOC,OAI7C,CAACgR,EAAgBpF,EAAc8C,EAAaH,EAAYgC,IAErDmC,GAAoB3L,sBAAY,SAACnH,EAAiBM,GACtD,OAAO,WACLyN,KACA,IAAMnN,EAAUoL,EAAa3D,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,WAAaM,GAAiBN,KACzEM,EACuBM,GAAWgR,MAAMC,QAAQjR,EAAQP,WAAaO,EAAQP,SAASgI,KAAK,SAAAf,GAAI,OAAIA,EAAKtH,UAAYA,IAEpHoQ,EAAkB9P,EAAeN,IAEjC8Q,EAAgB,CAAE7G,QAAS,yNAA2C2G,YAAa,oHACnFD,GAAW,IAEJ/P,EACTkP,EAAiB9P,IAEjB8Q,EAAgB,CAAE7G,QAAS,mNAA0C2G,YAAa,8GAClFD,GAAW,MAGd,CAAC3E,EAAcoE,EAAmBN,EAAkBa,EAAYG,IAE7DiC,GAAiB5L,sBAAY,SAACnH,EAAiBM,GACnD,OAAO,WACLyN,KACIzN,EACFkP,EAAelP,EAAeN,GAE9BqP,EAAcrP,KAGjB,CAACwP,EAAgBH,IAEd2D,GAAoB7L,sBAAY,WACpCV,EAAQmB,KAAR,UAAgB/D,EAAhB,WACC,CAAC4C,IAGEwM,GAAwB9L,sBAAY,gBAAG7G,EAAH,EAAGA,cAAeN,EAAlB,EAAkBA,QAAlB,OAA8C,kBAAC,IAAD,CAAMgJ,MAAO6E,GAAWnK,KAAK,eAAe+G,QAASqI,GAAkB9S,EAASM,MAAoB,CAACwS,KACvLI,GAAsB/L,sBAAY,gBAAG7G,EAAH,EAAGA,cAAeN,EAAlB,EAAkBA,QAAlB,OAA8C,kBAAC,IAAD,CAAMgJ,MAAO6E,GAAWnK,KAAK,cAAc+G,QAASmI,EAAU5S,EAASM,MAAoB,CAACsS,IAC5KO,GAAqBhM,sBAAY,gBAAG7G,EAAH,EAAGA,cAAeN,EAAlB,EAAkBA,QAAlB,OAA8C,kBAAC,IAAD,CAAMgJ,MAAO6E,GAAWnK,KAAK,eAAe+G,QAASsI,GAAe/S,EAASM,MAAoB,CAACyS,KACjLK,GAAsBjM,sBAAY,kBAAMtB,EAAkB,eAAgB,MAAM,CAACA,IACvFyC,oBAAU,WACR,IAAM+K,EAAmB9S,EAAeiQ,EAAO9P,eAC/C6P,EAAY8C,IACX,CAAC7C,EAAQD,IAEZ,IAAM+C,GAAanM,sBAAY,SAACoF,GACX,OAAfA,EAAMzB,KACRkI,KACwB,OAAfzG,EAAMzB,KACfsI,KACwB,YAAf7G,EAAMzB,MAAqC,cAAfyB,EAAMzB,KAC3CsH,EAAgB7F,GACO,MAAdA,EAAMxM,KAA8B,UAAfwM,EAAMzB,KACpC4H,IACuB,MAAdnG,EAAMxM,KACf0S,KAED,CAACO,GAAmBI,GAAqBhB,EAAiBM,EAAsBD,IAEnFnK,oBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAW8K,IAC5B,WACL/K,OAAOE,oBAAoB,UAAW6K,MAEvC,CAACA,KAEJhL,oBAAU,WACRrB,EAAY9F,EAAQsE,IAEpB,IAAM+H,EAA+BQ,SAASC,cAAc,oCACxDT,GACFA,EAAS+F,SAEV,CAAC9N,IAEJ,IAAM+N,GAAkBnC,kBAAQ,WAC9B,IAAIoC,EAA0B,EAC1BC,EAA2B,EAS/B,OARA1H,EAAa0F,QAAQ,SAAA9Q,GACnB6S,GAA2B7S,EAAQT,MAAQS,EAAQX,SAC/C2R,MAAMC,QAAQjR,EAAQP,WACxBO,EAAQP,SAASqR,QAAQ,SAAAQ,GACvBwB,GAA4BxB,EAAM/R,MAAQ+R,EAAMjS,aAI/C,CACLwT,0BACAC,6BAED,CAAC1H,IAEJ1D,oBAAU,WAAM,IACNmL,EAAsDD,GAAtDC,wBAAyBC,EAA6BF,GAA7BE,yBACjC7N,EAAkB,YAAa4N,EAAwB1S,YAEvD8E,EAAkB,UAAW6N,EAAyB3S,YAEtD8E,EAAkB,UAAW8N,KAAKC,MAA6D,KAAtDH,EAA0BC,GAAmC,KAAO,KAAK3S,YAElH8E,EAAkB,WAAY8N,KAAKC,MAA6D,KAAtDH,EAA0BC,GAAmC,KAAO,KAAK3S,aAClH,CAACyS,GAAiB3N,IAErByC,oBAAU,WAAM,IACNmL,EAAsDD,GAAtDC,wBAAyBC,EAA6BF,GAA7BE,yBAE3BG,IADwD,EAAzCC,WAAWtO,EAAchG,gBACL,KAAOuD,EAAW,IAAM,EAAIA,IAAa,KAAS0Q,EAA0BC,IAA2B3S,WAC5I8S,IAAkBrO,EAAa,aACjCK,EAAkB,cAAegO,IAElC,CAACL,GAAiBzQ,EAAUyC,EAAeK,IAE9C,IAAMkO,GAAW1C,kBAAQ,iBAAM,CAC7B,CACE2C,MAAOhN,EAAShH,QAChBiU,UAAW,cACXlU,IAAK,eAEP,CACEiU,MAAOhN,EAAS/G,SAChBgU,UAAW,eACXlU,IAAK,YAEP,CACEiU,MAAOhN,EAAS9G,YAChB+T,UAAW,WACXtK,MAAO,MACP5J,IAAK,cACLmU,OAAQ/F,IAEV,CACE6F,MAAOhN,EAAS7G,MAChB8T,UAAW,QACXlU,IAAK,SAEP,CACEA,IAAK,iBACLmU,OAAQf,IAEV,CACEpT,IAAK,oBACLmU,OAAQjB,IAEV,CACElT,IAAK,kBACLmU,OAAQhB,MAET,CAAClM,EAAUmM,GAAoBF,GAAuBC,KAEnDiB,GAAW9C,kBAAQ,iBAAM,CAC7B,CACE2C,MAAOhN,EAAShH,QAChBiU,UAAW,cACXlU,IAAK,eAEP,CACEiU,MAAOhN,EAAS9G,YAChB+T,UAAW,cACXlU,IAAK,eAEP,CACEiU,MAAOhN,EAAS7G,MAChB8T,UAAW,QACXlU,IAAK,SAEP,CACEA,IAAK,oBACLmU,OAAQjB,IAGV,CACElT,IAAK,kBACLmU,OAAQhB,MAET,CAACD,GAAuBC,GAAqBlM,IAE1CoN,GAAuB/C,kBAAQ,WACnC,OAAOrF,EAAarL,IAAI,SAAC2G,GAavB,OAZAA,EAAKqK,YAAcrK,EAAKtH,QACxBsH,EAAK+M,SAAW/M,EAAKpH,YACrBoH,EAAKgN,aAAehN,EAAKrH,SACzBqH,EAAKvH,IAAOuH,EAAKtH,SAAWsH,EAAKtH,QAAQe,YAAe,IACpDuG,EAAKjH,WACPiH,EAAKjH,SAAWiH,EAAKjH,SAASM,IAAI,SAAAuR,GAIhC,OAHAA,EAAMmC,SAAN,WAAqBnC,EAAMjS,SAA3B,YAAuCiS,EAAMhS,aAC7CgS,EAAMnS,IAAMuH,EAAKtH,QAAU,IAAMkS,EAAMlS,QACvCkS,EAAM5R,cAAgBgH,EAAKtH,QACpBkS,KAGJ5K,KAER,CAAC0E,IAEEuI,GAA8BlD,kBAAQ,kBAAMrF,EAAarL,IAAI,YAAkB,IAAfX,EAAc,EAAdA,QACpE,OAAIA,EACKA,EAAQe,WAEV,OACL,CAACiL,IAECwI,GAA0BnD,kBAAQ,kBAAMD,EAAezQ,IAAI,YAAkB,IAAfX,EAAc,EAAdA,QAClE,OAAIA,GAGG,KACL,CAACoR,IAECqD,GAAetN,sBAAY,kBAAMwJ,GAAW,IAAQ,CAACA,IAe3D,OAbArI,oBAAU,WACR,IAAMoM,EAAY1G,SAASC,cAAc,yCACnCO,EAAUR,SAASC,cAAc,WACvC,GAAIyG,GAAalG,EAAS,CACxB,IAAMmG,EAAgBD,EAAUE,wBAC1BC,EAAcrG,EAAQoG,wBAC5B,GAAID,EAAcG,QAAUD,EAAYC,QAAUH,EAAcI,KAAOF,EAAYE,IAAK,CACtF,IAAMC,EAAYC,WAAW1G,GAA6B,GAC1D,OAAO,kBAAM2G,aAAaF,OAG7B,CAAC9D,IAGF,yBAAK5F,UAAU,QACZoF,GAAW,kBAAC,KAAD,CACVpF,UAAU,UACVrB,QAAS4G,EAAa5G,QACtB2G,YAAaC,EAAaD,YAC1BlN,KAAK,QACLyR,UAAQ,EACRC,QAASX,KAEX,yBAAKnJ,UAAU,gBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAOM,YAAa5E,EAASpE,UAC7B,kBAAC,KAAD,CAAOyS,WAAYzH,GAAe0H,YAAY,EAAOC,OAAQ5H,GAAuB6H,UAAQ,EAACC,gBAAiBlB,GAA6BmB,sBAAoB,EAACC,QAAS5B,GAAU5J,WAAYiK,MAEjM,kBAAC,GAAD,OAEF,yBAAK9I,UAAU,wBACb,kBAAC,IAAD,CAAOvF,MAAOyK,EAAQ9E,OAAQ,kBAAC,IAAD,CAAMhI,KAAK,WAAa8G,SAAUmI,EAAgBpI,WAAS,IACzF,kBAAC,KAAD,CAAOqL,WAAY1I,GAAuBoI,YAAY,EAAOC,OAAQ9H,GAA2B+H,UAAQ,EAACH,WAAYzH,GAAe6H,gBAAiBjB,GAAyBkB,sBAAoB,EAACC,QAASxB,GAAUhK,WAAYgI,MAGtO,yBAAK7G,UAAU,iBACb,kBAAC,IAAD,CAAQ5H,KAAK,SAAS6F,KAAK,QAAQkB,QAASuI,IAAoBhM,EAASvE,KAAzE,SACA,kBAAC,IAAD,CAAQiB,KAAK,SAAS6F,KAAK,QAAQkB,QAAS2I,IAAsBpM,EAAStE,aAA3E,SACA,kBAAC,IAAD,CAAQgB,KAAK,UAAU6F,KAAK,SAASvC,EAASrE,MAA9C,cASO,qBAAO,kBAAC,WAAD,CAAUmD,GAAG,QAAQ+P,SAAUjJ,IACnD,kBAAC8B,GAAD,Q,SE3hBWoH,GAAWC,aAAgB,CAAErQ,URajB,WAAqE,IAApEZ,EAAmE,uDAA3C,CAAEW,KAAM,MAAQV,EAA2B,uCAC3F,OAAQA,EAAOrB,MACb,INhB2B,kBMiBzB,MAAO,CAAE+B,KAAMV,EAAOU,MACxB,QAAS,OAAOX,IQjBiCiG,KRqBjC,WAAoE,IAAnEjG,EAAkE,uDAA/C,CAAEmG,KAAM,GAAIH,KAAM,IAAM/F,EAAuB,uCACrF,OAAQA,EAAOrB,MACb,INvBoB,WMuBJ,IACNuH,EAAelG,EAAfkG,KAAMH,EAAS/F,EAAT+F,KACd,MAAO,CAAEG,OAAMH,QAEjB,IN1BuB,cM2BrB,OAAO,KACFhG,EADL,CAEEmG,KAAM,KAGV,QAAS,OAAOnG,IQjCuCU,cRmD9B,WAAmF,IAAlFV,EAAiF,uDAAtDnB,EAAsBoB,EAAgC,uCAC7G,OAAQA,EAAOrB,MACb,KAAKJ,EACH,OAAO,KACFwB,EADL,eAEGC,EAAOvB,UAAYuB,EAAOtB,aAE/B,KAAKH,EAEH,IADA,IAAM2C,EAAQ,KAAQnB,GACtB,MAAyB8D,OAAOE,QAAQ/D,EAAOkB,UAA/C,eAA0D,CAAC,IAAD,0BAAhDlG,EAAgD,KAA3CgG,EAA2C,KACxDE,EAASlG,GAAOgG,EAElB,OAAOE,EAET,KAAK3C,EACH,OAAO,KAAKK,GACd,QACE,OAAOmB,IQpE6DkH,aR0E9C,WAAsF,IAArFlH,EAAoF,uDAAzDlB,EAA0BmB,EAA+B,uCAC/G,OAAQA,EAAOrB,MAEb,KAAKvE,EAAoByP,oBAAsB,IACrC5O,EAAsC+E,EAAtC/E,QAASE,EAA6B6E,EAA7B7E,YAAaC,EAAgB4E,EAAhB5E,MAAOC,EAAS2E,EAAT3E,KAE/B4V,EAAelR,EAAMyN,UAAU,qBAAGvS,UAAmDA,IAC3F,IAAsB,IAAlBgW,EAAqB,CACvB,IAAMC,EAAenR,EAAMkR,GAAc/V,SACzC,MAAM,GAAN,mBAAW6E,EAAMrE,MAAM,EAAGuV,IAA1B,MAA8ClR,EAAMkR,GAApD,CAAmE/V,SAAUgW,EAAe,KAA5F,YAAoGnR,EAAMrE,MAAMuV,EAAe,KAE/H,MAAM,CAAE,CAAEhW,UAASE,cAAaC,QAAOC,OAAMH,SAAU,IAAvD,mBAA+D6E,IAInE,KAAK3F,EAAoBgQ,gCAAkC,IACjDJ,EAA+EhK,EAA/EgK,eAAgBC,EAA+DjK,EAA/DiK,gBAAiBV,EAA8CvJ,EAA9CuJ,aAAcW,EAAgClK,EAAhCkK,cAAeC,EAAiBnK,EAAjBmK,aAChEgH,EAAsBpR,EAAMyN,UAAU,qBAAGvS,UAA0B+O,IACzE,IAA6B,IAAzBmH,EAA4B,CAC9B,IAAMC,EAAerR,EAAMoR,GAAqB7V,SAChD,GAAIyE,EAAMoR,IAAwBtE,MAAMC,QAAQsE,GAAe,CAC7D,IAAMC,EAAuBD,EAAa5D,UAAU,qBAAGvS,UAA0BgP,IACjF,IAA8B,IAA1BoH,GAA+BxE,MAAMC,QAAQ/M,EAAMoR,GAAqB7V,UAAW,CACrF,IAAMgW,EAAeF,EAAaC,GAAsBnW,SACxD,MAAM,GAAN,mBACK6E,EAAMrE,MAAM,EAAGyV,IADpB,MAGOpR,EAAMoR,GAHb,CAGmC7V,SAAS,GAAD,mBAClC8V,EAAa1V,MAAM,EAAG2V,IADY,MAEhCD,EAAaC,GAFmB,CAEInW,SAAUoW,EAAe,KAF7B,YAGlCF,EAAa1V,MAAM2V,EAAuB,QANnD,YASKtR,EAAMrE,MAAMyV,EAAsB,KAGvC,IAAMI,EAAmBxR,EAAMoR,GAAqB7V,SACpD,MACQ,GAAN,mBACKyE,EAAMrE,MAAM,EAAGyV,SAFGlF,IAArBsF,EACF,MAGOxR,EAAMoR,GAHb,CAGmC7V,SAAS,CACtC,CAAEL,QAASgP,EAAiB9O,YAAaoO,EAAcnO,MAAO8O,EAAe7O,KAAM8O,EAAcjP,SAAU,IADtE,mBAElCqW,OAMT,MAGOxR,EAAMoR,GAHb,CAGmC7V,SAAU,CACvC,CAAEL,QAASgP,EAAiB9O,YAAaoO,EAAcnO,MAAO8O,EAAe7O,KAAM8O,EAAcjP,SAAU,OAfjH,YAQK6E,EAAMrE,MAAMyV,EAAsB,KAe3C,MAAM,GAAN,mBACKpR,EAAMrE,MAAM,EAAGyV,IADpB,MAGOpR,EAAMoR,GAHb,CAGmC7V,SAAU,CACvC,CAAEL,QAASgP,EAAiB9O,YAAaoO,EAAcnO,MAAO8O,EAAe7O,KAAM8O,EAAcjP,SAAU,OAJjH,YAOK6E,EAAMrE,MAAMyV,EAAsB,KAI3C,OAAOpR,EAGT,KAAK3F,EAAoBmQ,yBAA2B,IAC1CP,EAAmBhK,EAAnBgK,eACR,OAAOjK,EAAMhE,OAAO,qBAAGd,UAA0B+O,IAGnD,KAAK5P,EAAoBsQ,qCAAuC,IACtDV,EAAoChK,EAApCgK,eAAgBC,EAAoBjK,EAApBiK,gBAClBiC,EAAenM,EAAMyN,UAAU,qBAAGvS,UAA0B+O,IAClE,IAAsB,IAAlBkC,EAAqB,CACvB,IAAMnO,EAAYgC,EAAMmM,GAAc5Q,SACtC,GAAIyC,EACF,MAAM,GAAN,mBACKgC,EAAMrE,MAAM,EAAGwQ,IADpB,MAEOnM,EAAMmM,GAFb,CAE4B5Q,SAAUyC,EAAUhC,OAAO,qBAAGd,UAA0BgP,OAFpF,YAGKlK,EAAMrE,MAAMwQ,EAAe,KAIpC,OAAOnM,EAGT,KAAK3F,EAAoByQ,sCAAwC,IACvDb,EAAmBhK,EAAnBgK,eACFkC,EAAenM,EAAMyN,UAAU,qBAAGvS,UAA0B+O,IAClE,OAAsB,IAAlBkC,EACI,GAAN,mBACKnM,EAAMrE,MAAM,EAAGwQ,IADpB,MAEOnM,EAAMmM,GAFb,CAE4BhR,SAAU6E,EAAMmM,GAAchR,SAAW,KAFrE,YAGK6E,EAAMrE,MAAMwQ,EAAe,KAG3BnM,EAGT,KAAK3F,EAAoB4Q,sCAAwC,IACvDhB,EAAmBhK,EAAnBgK,eACFkC,EAAenM,EAAMyN,UAAU,qBAAGvS,UAA0B+O,IAClE,IAAsB,IAAlBkC,EAAqB,CACvB,IAAMsF,EAAkBzR,EAAMmM,GAAchR,SAC5C,OAAIsW,EAAkB,EACd,GAAN,mBACKzR,EAAMrE,MAAM,EAAGwQ,IADpB,MAEOnM,EAAMmM,GAFb,CAE4BhR,SAAUsW,EAAkB,KAFxD,YAGKzR,EAAMrE,MAAMwQ,EAAe,KAG1B,GAAN,mBACKnM,EAAMrE,MAAM,EAAGwQ,IADpB,YAEKnM,EAAMrE,MAAMwQ,EAAe,KAIpC,OAAOnM,EAGT,KAAK3F,EAAoB+Q,0CAA4C,IAC3DnB,EAAoChK,EAApCgK,eAAgBC,EAAoBjK,EAApBiK,gBAClBiC,EAAenM,EAAMyN,UAAU,gBAAGvS,EAAH,EAAGA,QAAH,OAAiB+O,IAAmB/O,IACzE,IAAsB,IAAlBiR,EAAqB,CACvB,IAAMnO,EAAYgC,EAAMmM,GAAc5Q,SACtC,GAAIyC,EAAW,CACb,IAAMiO,EAAgBjO,EAAUyP,UAAU,qBAAGvS,UAA0BgP,IACvE,IAAuB,IAAnB+B,EAAsB,CACxB,IAAM8B,EAAW/P,EAAUiO,GAC3B,MAAM,GAAN,mBACKjM,EAAMrE,MAAM,EAAGwQ,IADpB,MAGOnM,EAAMmM,GAHb,CAG4B5Q,SAAS,GAAD,mBAC3ByC,EAAUrC,MAAM,EAAGsQ,IADQ,MAEzB8B,EAFyB,CAEf5S,SAAU4S,EAAS5S,SAAW,KAFf,YAG3B6C,EAAUrC,MAAMsQ,EAAgB,QANzC,YASKjM,EAAMrE,MAAMwQ,EAAe,OAKtC,OAAOnM,EAGT,KAAK3F,EAAoBkR,0CAA4C,IAC3DtB,EAAoChK,EAApCgK,eAAgBC,EAAoBjK,EAApBiK,gBAClBiC,EAAenM,EAAMyN,UAAU,gBAAGvS,EAAH,EAAGA,QAAH,OAAiB+O,IAAmB/O,IACzE,IAAsB,IAAlBiR,EAAqB,CACvB,IAAMnO,EAAYgC,EAAMmM,GAAc5Q,SACtC,GAAIyC,EAAW,CACb,IAAMiO,EAAgBjO,EAAUyP,UAAU,qBAAGvS,UAA0BgP,IACvE,IAAuB,IAAnB+B,EAAsB,CACxB,IAAM8B,EAAW/P,EAAUiO,GAC3B,OAAI8B,EAAS5S,SAAW,EAChB,GAAN,mBACK6E,EAAMrE,MAAM,EAAGwQ,IADpB,MAGOnM,EAAMmM,GAHb,CAG4B5Q,SAAS,GAAD,mBAC3ByC,EAAUrC,MAAM,EAAGsQ,IADQ,MAEzB8B,EAFyB,CAEf5S,SAAU4S,EAAS5S,SAAW,KAFf,YAG3B6C,EAAUrC,MAAMsQ,EAAgB,QANzC,YASKjM,EAAMrE,MAAMwQ,EAAe,KAG1B,GAAN,mBACKnM,EAAMrE,MAAM,EAAGwQ,IADpB,MAGOnM,EAAMmM,GAHb,CAG4B5Q,SAAS,GAAD,mBAC3ByC,EAAUrC,MAAM,EAAGsQ,IADQ,YAE3BjO,EAAUrC,MAAMsQ,EAAgB,QALzC,YAQKjM,EAAMrE,MAAMwQ,EAAe,OAMxC,OAAOnM,EAET,QACE,OAAOA,MQ5QP0R,GAAeC,KAAKC,MAAMC,aAAaC,QAAQ,gBACjDC,GAAQL,GAAeM,aAAYhB,GAAUU,IAAgBM,aAAYhB,IAE7Ee,GAAME,UAAU,kBAAMJ,aAAaK,QAAQ,cAAeP,KAAKQ,UAAUJ,GAAMK,eAEhEL,U,yDC2BPM,GAAUpT,IAAVoT,MAEAC,GAASxM,IAATwM,KAqGKC,GAAiB9R,YAjBwD,SAACT,GACrF,MAAO,CACLU,cAAeV,EAAMU,cACrBC,KAAMX,EAAMY,UAAUD,KACtBuF,SAAUlG,EAAMiG,KAAKE,OAIuE,SAACtF,GAAD,MAAe,CAC7G2R,eAD6G,WAE3G3R,EfxG6C,CAAEjC,KAxBxB,iBekIzB6T,WAJ6G,SAIlG9R,GACTE,Ef/G8C,SAACF,GAAD,MAAW,CAAE/B,KAtBhC,kBAsBuD+B,Qe+GzE+R,CAAe/R,OAIEF,CAG5Ba,YAtGU,SAAC,GAA4E,IAA1EX,EAAyE,EAAzEA,KAAMuF,EAAmE,EAAnEA,SAAUsM,EAAyD,EAAzDA,eAAgBC,EAAyC,EAAzCA,WAAY9Q,EAA6B,EAA7BA,QAA6B,EACtDM,mBAAS5F,EAAQsE,IADqC,mBAC/EuB,EAD+E,KACrEC,EADqE,OAEpDF,oBAAS,GAF2C,mBAE/E0Q,EAF+E,KAEpEC,EAFoE,KAItFpP,oBAAU,WACRrB,EAAY9F,EAAQsE,KACnB,CAACA,EAAMwB,IAEV,IAAMhF,EAASkF,sBAAY,SAACY,GAC1BuP,IACA7Q,EAAQmB,KAAR,UAAgB/D,EAAhB,OACC,CAACyT,EAAgB7Q,IAEdkR,EAAmBxQ,sBAAY,SAACY,GAAyB,IAC3ChC,EAAYgC,EAAtByE,OAAUzG,MAClBwR,EAAWxR,IACV,CAACwR,IAEEK,EAAiBzQ,sBAAY,SAACsQ,GAClCC,EAAaD,IACZ,CAACC,IAEJ,OACE,kBAAC,IAAD,CAAQ1O,MAAO,CAAE6O,UAAW,UACzBtP,OAAOuP,SAASC,WAAhB,UAAiClU,EAAjC,MAAgD,kBAACsT,GAAD,CAAOa,aAAW,EAACC,WAAYL,EAAgBM,MAAM,QAAQlP,MAAO,CACnHmP,SAAU,OACVhP,OAAQ,QACRiP,KAAM,IAEN,yBAAK9M,UAAU,QACb,kBAAC,IAAD,CAAMtC,MAAO,CAAEG,OAAQ,SAAWkP,oBAAqB,CAAC,KAAMC,KAAK,UACjE,kBAAC,IAAKzO,KAAN,CAAW6C,UAAQ,GACjB,kBAAC,IAAD,CAAMhJ,KAAK,SACT+T,GAAa,kBAAC,IAAMc,MAAP,CAAaxS,MAAON,EAAM+E,SAAUmN,GACjD,kBAAC,IAAMa,OAAP,CAAczS,MAAM,MAApB,MACA,kBAAC,IAAMyS,OAAP,CAAczS,MAAM,MAApB,QAGJ,kBAAC,IAAK8D,KAAN,CAAW9J,IAAI,IAAI0K,QAASxI,EAAQqJ,UAAU,iBAC5C,kBAAC,IAAD,CAAM5H,KAAK,WACX,8BAAOsD,EAAS/E,SAElB,kBAAC,IAAK4H,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,UACX,8BAAOsD,EAAS9E,WAElB,kBAAC,IAAK2H,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,kBACX,8BAAOsD,EAAS7E,YAElB,kBAAC,IAAK0H,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,cACX,8BAAOsD,EAAS5E,iBAElB,kBAAC,IAAKyH,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,QACX,8BAAOsD,EAAS3E,aAElB,kBAAC,IAAKwH,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,cACX,8BAAOsD,EAAS1E,SAElB,kBAAC,IAAKuH,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,YACX,8BAAOsD,EAASzE,WAElB,kBAAC,IAAKsH,KAAN,CAAW9J,IAAI,KACb,kBAAC,IAAD,CAAM2D,KAAK,oBACX,8BAAOsD,EAASxE,QAGpB,kBAAC4U,GAAD,CAAMpO,MAAO,CAAEyC,UAAW,SAAUgN,cAAe,OAAQC,YAAa,sBAAwB1N,KAGhG,kBAAC,IAAD,CAAO2N,KAAI,UAAK9U,EAAL,SAAsB+U,UAAWxT,IAC5C,kBAAC,IAAD,CAAOuT,KAAI,UAAK9U,EAAL,eAA4BgV,OAAK,EAACD,UAAW/N,KACxD,kBAAC,IAAD,CAAO8N,KAAI,UAAK9U,EAAL,KAAkBgV,OAAK,EAACD,UAAW/N,KAC9C,kBAAC,IAAD,CAAO8N,KAAI,UAAK9U,EAAL,WAAwB+U,UAAWE,SA2BxDC,IAAS7E,OACP,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU2C,MAAOA,IACf,kBAACQ,GAAD,QAGJrJ,SAASgL,eAAe,W","file":"static/js/main.2a6a05e3.chunk.js","sourcesContent":["const fakeBD = {\n    customers: [\n        {\n            customerNumber: 1\n        },\n        {\n            customerNumber: 2\n        },\n        {\n            customerNumber: 3\n        },\n        {\n            customerNumber: 33,\n            phoneNumber: 89821251216,\n            deliveryCost: '2,50',\n            name: 'Дмитрий',\n            street: 'Уличная',\n            houseNumber: '16',\n            plz: '123456',\n            city: 'Москва',\n        },\n        {\n            customerNumber: 333\n        }\n    ],\n    products: [\n        {\n            key: 2,\n            article: 2,\n            quantity: 10,\n            productName: 'Test5',\n            price: 60,\n            mwst: '19',\n            children: [\n                {\n                    key: 21,\n                    parentArticle: 2,\n                    article: 21,\n                    productName: 'Test6',\n                    price: 60,\n                    mwst: '19',\n                },\n                {\n                    key: 22,\n                    mwst: '19',\n                    parentArticle: 2,\n                    article: 22,\n                    productName: 'Test7',\n                    price: 60,\n                },\n                {\n                    key: 23,\n                    parentArticle: 2,\n                    article: 23,\n                    mwst: '19',\n                    productName: 'Test8',\n                    price: 60,\n                },\n            ],\n        },\n        {\n            key: 3,\n            article: 3,\n            quantity: 10,\n            productName: 'Test9',\n            price: 60,\n            mwst: '19',\n            children: [\n                {\n                    key: 31,\n                    parentArticle: 3,\n                    article: 31,\n                    productName: 'Test10',\n                    price: 60,\n                    mwst: '19',\n                },\n                {\n                    key: 32,\n                    mwst: '19',\n                    parentArticle: 3,\n                    article: 32,\n                    productName: 'Test11',\n                    price: 60,\n                },\n                {\n                    key: 33,\n                    parentArticle: 3,\n                    article: 33,\n                    mwst: '19',\n                    productName: 'Test12',\n                    price: 60,\n                },\n            ],\n        },\n        {\n            key: 1,\n            article: 1,\n            quantity: 10,\n            productName: 'Test1 ghjkhbjnkvbnkm vhjk vbjnkmlgvbhjnkml yvgbhjnkm vytbnjk vbhnjkmltybuniml vbynu vytbunio',\n            price: 60,\n            mwst: '7',\n            children: [\n                {\n                    key: 12,\n\n                    parentArticle: 1,\n                    article: 12,\n                    productName: 'Test3',\n                    price: 60,\n                    mwst: '7'\n                },\n                {\n                    key: 13,\n\n                    parentArticle: 1,\n                    article: 13,\n                    productName: 'Test4',\n                    price: 60,\n                    mwst: '7'\n                },\n                {\n                    key: 11,\n                    parentArticle: 1,\n                    article: 11,\n                    productName: 'Test2',\n                    price: 60,\n                    mwst: '7'\n                },\n            ],\n        },\n    ]\n\n};\nexport const auth = (login: string, password: string) => {\n    if (login === 'test' && password === 'test') {\n        return { role: 'admin' };\n    }\n    return null;\n}\n\nexport const searchProducts: any = (searchString: string) => {\n    if (searchString === '') {\n        return fakeBD.products.slice(0, 10);\n    }\n    searchString = searchString.toLowerCase();\n    const res = fakeBD.products.map((product) => {\n        const { article, productName, children } = product;\n        const productChildren = children.filter(({ productName }) => productName.toString().toLowerCase().includes(searchString.toLowerCase()));\n        if (productChildren.length !== 0) {\n            return { ...product, children: productChildren };\n        }\n        const isProduct = article.toString().toLowerCase().includes(searchString.toLowerCase()) || productName.toString().toLowerCase().includes(searchString.toLowerCase());\n        if (isProduct) {\n            return product;\n        } else {\n            return null;\n        }\n    }).filter(Boolean);\n    return res;\n}\nexport default fakeBD;\n","import { changeLanguageType, addUserType, logoutUserType } from './actionsTypes';\n\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE';\nexport const ADD_USER = 'ADD_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\nexport const formDataActions = {\n  ADD_TO_FORM_DATA: 'ADD_TO_FORM_DATA',\n  UPDATE_ALL_FIELDS: 'UPDATE_ALL_FIELDS',\n  CLEAR_ALL_FIELDS: 'CLEAR_ALL_FIELDS'\n};\n\nexport enum cartProductsActions {\n  ADD_PRODUCT_TO_CART,\n  ADD_ADDITION_TO_PRODUCT_IN_CART,\n  DELETE_PRODUCT_FROM_CART,\n  DELETE_ADDITION_OF_PRODUCT_FROM_CART,\n  INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n  DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n};\n\n\nexport const changeLanguage: changeLanguageType = (lang) => ({ type: CHANGE_LANGUAGE, lang });\n\nexport const addUser: addUserType = (role, code) => ({ type: ADD_USER, role, code });\n\nexport const logoutUser: logoutUserType = () => ({ type: LOGOUT_USER });\n\nexport const addToFormData = (fieldName: string, fieldValue: string) => ({ type: formDataActions.ADD_TO_FORM_DATA, fieldName, fieldValue });\n\nexport const updateAllFieldsOfFormData = (newState: any) => ({ type: formDataActions.UPDATE_ALL_FIELDS, newState });\n\nexport const clearAllFields = () => ({ type: formDataActions.CLEAR_ALL_FIELDS });\n\nexport const addProductToCart= (article: number, productName: string, price: number, mwst: '7' | '19') => \n  ({ type: cartProductsActions.ADD_PRODUCT_TO_CART, article, productName, price, mwst });\n\nexport const addAdditionToProductInCart = (productArticle: number, additionArticle: number, additionName: string, additionPrice: number, additionMwst: '7' | '19') => \n  ({ type: cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART, productArticle, additionArticle, additionName, additionPrice, additionMwst });\n\nexport const deleteProductFromCart = (productArticle: number) => \n  ({ type: cartProductsActions.DELETE_PRODUCT_FROM_CART, productArticle });\n\nexport const deleteAdditionOfProductFromCart = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART, productArticle, additionArticle });\n\nexport const incrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const decrementQuantityOfProductInCart = (productArticle: number) => ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART, productArticle });\n\nexport const incrementQuantityOfAdditionOfProduct = (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n\nexport const decrementQuantityOfAdditionOfProduct =  (productArticle: number, additionArticle: number) => \n  ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productArticle, additionArticle });\n","import ru from './ru';\nimport de from './de';\n\nexport type langType = 'ru' | 'de';\n\nexport type langMapType = {\n  'ru': typeof ru,\n  'de': typeof de\n};\n\nexport const langMap: langMapType = {\n  'ru': ru,\n  'de': de\n};\n","const ru = {\n    authTitle: 'Авторизация',\n    organizationNumber: 'Номер организации',\n    username: 'Имя пользователя',\n    password: 'Пароль',\n    autoLogin: 'Запомнить меня',\n    login: 'Войти',\n    tableOrders: 'Tischbestellungen', //TODO: Перевод\n    selfPickUp: 'Selbstabholer', //TODO: Перевод\n    sales: 'Hausverkauf', //TODO: Перевод\n    phoneMonitor: 'Telefon monitor', //TODO: Перевод\n    customerNumber: 'Номер клиента',\n    phoneNumber: 'Номер телефона',\n    name: 'Имя',\n    street: 'Улица',\n    houseNumber: 'Номер дома',\n    plz: 'Почтовый индекс',\n    city: 'Город',\n    clientComment: 'Комментарий клиента',\n    deliveryCost: 'Доставка',\n    clear: 'Очистить',\n    goToOrder: 'Продолжить заказ',\n    logout: 'Выйти',\n    callForm: 'Доставка',\n    allOrders: 'Все заказы',\n    cookingMonitor: 'Монитор кухни',\n    carMonitor: 'Монитор доставки',\n    report: 'Отчет',\n    settings: 'Настройки',\n    help: 'Помощь',\n    quantity: 'Кол-во',\n    article: 'Арт.',\n    productName: 'Номенклатура',\n    price: 'Цена',\n    back: 'Назад',\n    freeDelivery: 'Бесплатная доставка',\n    print: 'Печать',\n    comment: 'Комментарий заказчика',\n    goods: 'Товары',\n    additions: 'Добавки',\n    discount: 'Скидка',\n    totalPrice: 'Общая цена',\n    tax_7: 'Налог 7%',\n    tax_19: 'Налог 19%',\n    articlePrices: 'Номенклатура'\n};\n\nexport default ru;\n","const de = {\n    authTitle: 'Restaurant-Login',\n    organizationNumber: 'Kundennumer',\n    username: 'Benutzername',\n    password: 'Passwort',\n    autoLogin: 'Automatisch Anmelden',\n    login: 'Login',\n    tableOrders: 'Tischbestellungen',\n    selfPickUp: 'Selbstabholer',\n    sales: 'Hausverkauf',\n    phoneMonitor: 'Telefon monitor',\n    customerNumber: 'Kundennummer',\n    phoneNumber: 'Telefonnumer',\n    name: 'Name',\n    street: 'Strasse',\n    houseNumber: 'Hausnummer',\n    plz: 'PLZ',\n    city: 'Stadt',\n    clientComment: 'Bemerkung',\n    deliveryCost: 'Anfahrtskosten',\n    clear: 'Löschen',\n    goToOrder: 'Bestellung',\n    logout: 'Logout',\n    callForm: 'Lieferdienst',\n    allOrders: 'Alle Bestellungen',\n    cookingMonitor: 'Kuchen monitor',\n    carMonitor: 'Fahrer monitor',\n    report: 'Berichten',\n    settings: 'Einstellungen',\n    help: 'Hilfe',\n    quantity: 'Anzahl',\n    article: 'Karte Nr.',\n    productName: 'Name von Artiel',\n    price: 'Preise',\n    back: 'Zuruck',\n    freeDelivery: 'Anfahrtkosten Frei',\n    print: 'Drucken',\n    comment: 'Hinweis',\n    goods: 'Artikel',\n    additions: 'Zutaten',\n    discount: 'Rabatt',\n    totalPrice: 'Gesamt preis',\n    tax_7: 'MWST 7%',\n    tax_19: 'MWST 19%',\n    articlePrices: 'Artikel'\n};\n\nexport default de;\n","const fieldNames: fieldNamesInterface = {\n  customerNumber: 'customerNumber',\n  phoneNumber: 'phoneNumber',\n  name: 'name',\n  street: 'street',\n  houseNumber: 'houseNumber',\n  plz: 'plz',\n  city: 'city',\n  clientComment: 'clientComment',\n  deliveryCost: 'deliveryCost',\n  article: 'article',\n  quantity: 'quantity',\n  productName: 'productName',\n  price: 'price'\n};\n\nexport interface fieldNamesInterface {\n  customerNumber: string,\n  phoneNumber: string,\n  name: string,\n  street: string,\n  houseNumber: string,\n  plz: string,\n  city: string,\n  clientComment: string,\n  deliveryCost: string,\n  article: string;\n  quantity: string;\n  productName: string;\n  price: string;\n};\n\nexport default fieldNames;\n","export const selectValues = ['0,00', '0,50', '1,00', '1,50', '2,00', '2,50', '3,00'];\n","import { CHANGE_LANGUAGE, ADD_USER, LOGOUT_USER, formDataActions, cartProductsActions } from './actions';\n\nimport fieldNames from '../constants/fieldNames';\nimport { selectValues } from '../constants/selectValues';\n\nimport {\n  LanguagesState,\n  LanguageAction,\n  UserState,\n  UserAction,\n  FormDataStateType,\n  FormDataStateAction,\n  CartProductsState,\n  CartProductsAction\n} from './reducersTypes';\n\nexport const languages = (state: LanguagesState = { lang: 'ru' }, action: LanguageAction) => {\n  switch (action.type) {\n    case CHANGE_LANGUAGE:\n      return { lang: action.lang };\n    default: return state;\n  }\n};\n\nexport const user = (state: UserState = { role: '', code: '' }, action: UserAction) => {\n  switch (action.type) {\n    case ADD_USER: {\n      const { role, code } = action;\n      return { role, code };\n    };\n    case LOGOUT_USER: {\n      return {\n        ...state,\n        role: ''\n      };\n    }\n    default: return state;\n  }\n};\n\nexport const initialFormDataState: any = {//TODO: add types\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.name]: '',\n  [fieldNames.street]: '',\n  [fieldNames.houseNumber]: '',\n  [fieldNames.plz]: '',\n  [fieldNames.city]: '',\n  [fieldNames.clientComment]: '',\n  [fieldNames.deliveryCost]: selectValues[0]\n};\n\nexport const formDataState = (state: FormDataStateType = initialFormDataState, action: FormDataStateAction) => {\n  switch (action.type) {\n    case formDataActions.ADD_TO_FORM_DATA:\n      return {\n        ...state,\n        [action.fieldName]: action.fieldValue\n      };\n    case formDataActions.UPDATE_ALL_FIELDS: {\n      const newState = { ...state };\n      for (let [key, value] of Object.entries(action.newState)) {\n        newState[key] = value;\n      };\n      return newState;\n    };\n    case formDataActions.CLEAR_ALL_FIELDS:\n      return { ...initialFormDataState };\n    default:\n      return state;\n  };\n};\n\nexport const initialCartProductsState = [];\n\nexport const cartProducts = (state: CartProductsState = initialCartProductsState, action: CartProductsAction) => {\n  switch (action.type) {\n\n    case cartProductsActions.ADD_PRODUCT_TO_CART: {\n      const { article, productName, price, mwst } = action;\n\n      const articleIndex = state.findIndex(({ article: newStateArticle }) => newStateArticle === article);\n      if (articleIndex !== -1) {\n        const prevQuantity = state[articleIndex].quantity;\n        return [...state.slice(0, articleIndex), { ...state[articleIndex], quantity: prevQuantity + 1 }, ...state.slice(articleIndex + 1)]\n      } else {\n        return [{ article, productName, price, mwst, quantity: 1 }, ...state]\n      }\n    }\n\n    case cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART: {\n      const { productArticle, additionArticle, additionName, additionPrice, additionMwst } = action;\n      const productArticleIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productArticleIndex !== -1) {\n        const oldAdditions = state[productArticleIndex].children;\n        if (state[productArticleIndex] && Array.isArray(oldAdditions)) {\n          const additionArticleIndex = oldAdditions.findIndex(({ article }) => article === additionArticle);\n          if (additionArticleIndex !== -1 && Array.isArray(state[productArticleIndex].children)) {\n            const prevQiantity = oldAdditions[additionArticleIndex].quantity;\n            return [\n              ...state.slice(0, productArticleIndex),\n              {\n                ...state[productArticleIndex], children: [\n                  ...oldAdditions.slice(0, additionArticleIndex),\n                  { ...oldAdditions[additionArticleIndex], quantity: prevQiantity + 1 },\n                  ...oldAdditions.slice(additionArticleIndex + 1)\n                ]\n              },\n              ...state.slice(productArticleIndex + 1)\n            ];\n          } else {\n            const productAdditions = state[productArticleIndex].children;\n            if (productAdditions !== undefined) {\n              return [\n                ...state.slice(0, productArticleIndex),\n                {\n                  ...state[productArticleIndex], children: [\n                    { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n                    ...productAdditions\n                  ]\n                },\n                ...state.slice(productArticleIndex + 1)\n              ];\n            } else {\n              return [\n                ...state.slice(0, productArticleIndex),\n                {\n                  ...state[productArticleIndex], children: [\n                    { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n                  ]\n                },\n                ...state.slice(productArticleIndex + 1)\n              ];\n            }\n          }\n        } else {\n          return [\n            ...state.slice(0, productArticleIndex),\n            {\n              ...state[productArticleIndex], children: [\n                { article: additionArticle, productName: additionName, price: additionPrice, mwst: additionMwst, quantity: 1 },\n              ]\n            },\n            ...state.slice(productArticleIndex + 1)\n          ];\n        }\n      }\n      return state;\n    }\n    /* FIXME TESTS */\n    case cartProductsActions.DELETE_PRODUCT_FROM_CART: {\n      const { productArticle } = action;\n      return state.filter(({ article }) => article !== productArticle);\n    }\n\n    case cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], children: additions.filter(({ article }) => article !== additionArticle) },\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n    /* END FIXME */\n    case cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        return [\n          ...state.slice(0, productIndex),\n          { ...state[productIndex], quantity: state[productIndex].quantity + 1 },\n          ...state.slice(productIndex + 1)\n        ]\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productArticle } = action;\n      const productIndex = state.findIndex(({ article }) => article === productArticle);\n      if (productIndex !== -1) {\n        const currentQuantity = state[productIndex].quantity;\n        if (currentQuantity > 1) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], quantity: currentQuantity - 1 },\n            ...state.slice(productIndex + 1)\n          ]\n        } else {\n          return [\n            ...state.slice(0, productIndex),\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            return [\n              ...state.slice(0, productIndex),\n              {\n                ...state[productIndex], children: [\n                  ...additions.slice(0, additionIndex),\n                  { ...addition, quantity: addition.quantity + 1 },\n                  ...additions.slice(additionIndex + 1)\n                ]\n              },\n              ...state.slice(productIndex + 1)\n            ]\n          }\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productArticle, additionArticle } = action;\n      const productIndex = state.findIndex(({ article }) => productArticle === article);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].children;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ article }) => article === additionArticle);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            if (addition.quantity > 1) {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], children: [\n                    ...additions.slice(0, additionIndex),\n                    { ...addition, quantity: addition.quantity - 1 },\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], children: [\n                    ...additions.slice(0, additionIndex),\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            }\n          }\n        }\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n}\n","export const ROOT_URL = '/pizzaprocloud-ui';\n","import React, { useReducer, useEffect, useCallback, useState } from 'react';\nimport { Button, Form, Input, AutoComplete, Select, Divider, Card, Layout } from 'antd';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect, MapDispatchToPropsNonObject, MapStateToPropsParam } from 'react-redux';\n\n//types\nimport { DeliveryFormProps } from './DeliveryFormTypes';\nimport { langType } from '../../lang';\n\nimport fakeBD from '../../fakeBD';\nimport { langMap } from '../../lang';\n\nimport fieldNames from '../../constants/fieldNames';\nimport { selectValues } from '../../constants/selectValues';\n\nimport { initialFormDataState } from '../../redux/reducers';\nimport { addToFormData, updateAllFieldsOfFormData, clearAllFields } from '../../redux/actions';\nimport { Action } from 'redux';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Header, Content } = Layout;\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst dataSourceActions = {\n  ADD_TO_DATA_SOURCE: 'ADD_TO_DATA_SOURCE'\n};\n\ntype dataSourceReducerTypes = typeof dataSourceActions.ADD_TO_DATA_SOURCE;\ninterface dataSourceReducerAction extends Action<dataSourceReducerTypes> {\n  dataSourceName: string;\n  dataSourceData: string[];\n};\n\nfunction dataSourceReducer(state: any, action: dataSourceReducerAction) {//FIXME\n  switch (action.type) {\n    case dataSourceActions.ADD_TO_DATA_SOURCE: {\n      return {\n        ...state,\n        [action.dataSourceName]: action.dataSourceData\n      }\n    }\n  }\n};\n\n\nconst addToDataSource = (dataSourceName: string, dataSourceData: string[]) => ({ type: dataSourceActions.ADD_TO_DATA_SOURCE, dataSourceName, dataSourceData });\n\n\n\nconst initialDataSourceState: any = {//TODO: add types\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.name]: [],\n  [fieldNames.street]: [],\n  [fieldNames.houseNumber]: [],\n  [fieldNames.plz]: [],\n  [fieldNames.city]: [],\n  [fieldNames.clientComment]: [],\n  [fieldNames.deliveryCost]: []\n};\n\nconst tryToFetchUser = (fieldId: string, fieldValue: string) => fakeBD.customers.find((customer: any) =>  customer[fieldId] && customer[fieldId].toString() === fieldValue);\n\nconst compareTwoObjects = (object1: any, object2: any) => {\n  if (Object.keys(object1).length !== Object.keys(object2).length)\n    return false;\n  for (let [key, value] of Object.entries(object1)) {\n    if (object2[key] !== value)\n      return false;\n  };\n  return true;\n}\n\n\nconst mapDispatchToProps: MapDispatchToPropsNonObject<any, any> = (dispatch, ownProps) => ({\n  addDataToFormData(id: string, value: string) {\n    dispatch(addToFormData(id, value))\n  },\n  updateFieldsOfFormData(newState: any) {\n    dispatch(updateAllFieldsOfFormData(newState));\n  },\n  clearFields() {\n    dispatch(clearAllFields());\n  }\n});\n\nconst mapStateToProps: MapStateToPropsParam<any, any, any> = (state) => ({ formDataState: state.formDataState, lang: state.languages.lang });\n\nconst DeliveryForm = Form.create<DeliveryFormProps>(\n  { name: 'delivery_form' }\n)(connect(mapStateToProps, mapDispatchToProps)(withRouter((\n  { lang, formDataState, addDataToFormData, clearFields, updateFieldsOfFormData, form: { getFieldDecorator, setFieldsValue, getFieldsValue }, form, history }: any) => {\n\n  const [dataSourceState, dispatchToDataSource] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [dataSourceLiveState, dispatchToDataSourceLive] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [language, setLanguage] = useState(langMap[lang as langType]);\n\n  const onFieldChange = useCallback((id: string, value: string) => {\n    addDataToFormData(id, value);\n  }, [addDataToFormData]);\n\n  const handleSearch = useCallback((arg: string, id: string) => {\n    updateFieldsOfFormData(getFieldsValue());\n    if (!dataSourceState[id].length) {\n      const fetched = fakeBD.customers.map(({ [id]: value }: any) => value && value.toString());\n      dispatchToDataSource(addToDataSource(id, fetched));//TODO: add types\n      dispatchToDataSourceLive(addToDataSource(id, fetched.filter((item: string) => item && item.startsWith(arg))));\n    } else {\n      dispatchToDataSourceLive(addToDataSource(id, dataSourceState[id].filter((item: string) => item && item.startsWith(arg))));\n    }\n  }, [updateFieldsOfFormData, getFieldsValue, dataSourceState, dispatchToDataSource, dispatchToDataSourceLive]);\n\n  const nextPage = useCallback(() => {\n    form.validateFields((err: any) => {\n      if (!err) {\n        history.push(`${ROOT_URL}/finish`);\n      }\n    });\n  }, [form, history]);\n\n  const handleClearClick = useCallback(() => {\n    setFieldsValue(initialFormDataState);\n    clearFields();\n  }, [setFieldsValue, clearFields]);\n\n  const handleSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    nextPage();\n  }, [nextPage]);\n\n  const handleEscDown = useCallback((e: any) => {\n    if (e.key === 'Escape') {\n      handleClearClick();\n    } else if (e.key === 'F2') {\n      nextPage();\n    }\n  }, [handleClearClick, nextPage]);\n\n  const handleEnterDown = useCallback((id: string, value: string) => {\n    const customer = tryToFetchUser(id, value);\n    if (customer) {\n      setFieldsValue(customer);\n      updateFieldsOfFormData(customer);\n    }\n  }, [setFieldsValue, updateFieldsOfFormData]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang as langType]);\n  }, [lang]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscDown);\n    return () => window.removeEventListener('keydown', handleEscDown);\n  }, [handleEscDown]);\n\n  useEffect(() => {\n    if (compareTwoObjects(getFieldsValue(), formDataState))\n      return;\n    setFieldsValue(formDataState);\n  }, [formDataState, setFieldsValue, getFieldsValue]);\n\n  return (\n    <Layout>\n      <Header style={{ background: '#fff', marginTop: '24px', height: 'auto', display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-around' }}>\n        <Button type=\"dashed\" size=\"large\">{language.tableOrders}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.selfPickUp}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.sales}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.phoneMonitor}</Button>\n      </Header>\n      <Divider />\n      <Content style={{ margin: '0 16px', background: 'inherit' }}>\n        <div>\n          <Form onSubmit={handleSubmit} onKeyDown={handleEscDown}  {...formItemLayout}>\n            <Card style={{ width: '60%', maxWidth: '500px' }}>\n              <Form.Item label={language.customerNumber}>\n                {getFieldDecorator(fieldNames.customerNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.customerNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.customerNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.customerNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.customerNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.phoneNumber}>\n                {getFieldDecorator(fieldNames.phoneNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер телефона клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.phoneNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.phoneNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.phoneNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} autoFocus={true} maxLength={15} id={fieldNames.phoneNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.name}>\n                {getFieldDecorator(fieldNames.name, {\n                  rules: [\n                    { required: true, message: 'Введите имя клиента' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.name]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.name)}\n                    onSelect={(value) => handleEnterDown(fieldNames.name, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.name} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.city}>\n                {getFieldDecorator(fieldNames.city, {\n                  rules: [\n                    { required: true, message: 'Введите название города' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={25} id={fieldNames.city} />)}\n              </Form.Item>\n              <Form.Item label={language.street}>\n                {getFieldDecorator(fieldNames.street, {\n                  rules: [\n                    { required: true, message: 'Введите название улицы' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.street} />)}\n              </Form.Item>\n              <Form.Item label={language.houseNumber}>\n                {getFieldDecorator(fieldNames.houseNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер дома' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.houseNumber} />)}\n              </Form.Item>\n              <Form.Item label={language.plz}>\n                {getFieldDecorator(fieldNames.plz, {\n                  rules: [\n                    { required: true, message: 'Введите почтовый индекс' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.plz} />)}\n              </Form.Item>\n              <Form.Item label={language.clientComment}>\n                {getFieldDecorator(fieldNames.clientComment)(\n                  <Input onKeyDown={handleEscDown} maxLength={35} id={fieldNames.clientComment} />)}\n              </Form.Item>\n              <Form.Item label={language.deliveryCost}>\n                {getFieldDecorator(fieldNames.deliveryCost)(\n                  <Select onChange={(value: string) => onFieldChange(fieldNames.deliveryCost, value)} id={fieldNames.deliveryCost}>\n                    {selectValues.map(value => <Option key={value} value={value}>{value}</Option>)}\n                  </Select>)}\n              </Form.Item>\n            </Card>\n            <Divider />\n            <div style={{ display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-between' }}>\n              <Button type=\"danger\" size=\"large\" onClick={handleClearClick}>{language.clear} / ESC</Button>\n              <Form.Item>\n                <Button htmlType=\"submit\" type=\"primary\" size=\"large\">{language.goToOrder} / F2</Button>\n              </Form.Item>\n            </div>\n          </Form>\n        </div>\n      </Content>\n    </Layout >\n  )\n})));\n\nexport default DeliveryForm;\n","import React, { useState, useEffect } from 'react';\nimport { Form, Icon, Input, Button, Checkbox, Typography, Alert } from 'antd';\nimport { connect, MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\n\nimport './Auth.css';\n\nimport { auth } from '../../fakeBD';\n\nimport { addUser } from '../../redux/actions';\n\nimport { LoginFormProps, LoginFormOwnProps, LoginFormDispatchProps, LoginFormStateProps, LoginFormValues } from './types';\nimport { State } from '../../redux/types';\n\nimport { langMap } from '../../lang';\nimport { FormComponentProps } from 'antd/es/form';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Title } = Typography;\n\nexport const LoginForm = ({ form: { setFieldsValue, getFieldsValue, validateFields, getFieldDecorator }, history, lang, addUser, code, userRole }: LoginFormProps) => {\n  const [errMsg, setErrMsg] = useState('');\n  const [language, setLanguage] = useState(langMap[lang]);\n\n  useEffect(() => {\n    setFieldsValue({ code })\n  }, [setFieldsValue, code]);\n\n  useEffect(() => {\n    if (userRole) {\n      history.push(`${ROOT_URL}/menu`);\n    }\n  }, [history, userRole]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    validateFields((err: any, values: LoginFormValues) => {\n      const user = auth(values.username, values.password);\n      if (!err && user) {\n        addUser(user.role, getFieldsValue().code);\n        history.push(`${ROOT_URL}/menu`);\n      } else if (!user) {\n        setErrMsg('Вы неверно ввели логин или пароль');\n      }\n    });\n  };\n\n    return (\n        <div id=\"components-form-demo-normal-login\">\n        <Form onSubmit={handleSubmit} className=\"login-form\" autoComplete=\"off\">\n            <Title level={4} style={{textAlign: 'center'}}>{language.authTitle}</Title>\n            <Form.Item>\n            {getFieldDecorator('code', {\n                rules: [\n                  { required: true, message: 'Введите код' },\n                { pattern: /[0-9]+/, message: 'Разрешены только цифры'}\n              ],\n            })(\n                <Input\n                autoFocus\n                autoComplete=\"off\"\n                prefix={<Icon type=\"number\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.organizationNumber}\n                />\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('username', {\n                rules: [{ required: true, message: 'Введите имя пользователя' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.username}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('password', {\n                rules: [{ required: true, message: 'Введите пароль' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                type=\"password\"\n                placeholder={language.password}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('remember', {\n                valuePropName: 'checked',\n                initialValue: true,\n            })(<Checkbox>{language.autoLogin}</Checkbox>)}\n            {errMsg && <div>\n                <Alert type=\"error\" message={errMsg}/>\n            </div>}\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                {language.login}\n            </Button>\n            </Form.Item>\n        </Form>\n      </div>\n    );\n}\n\nconst mapStatetoProps: MapStateToProps<LoginFormStateProps, LoginFormOwnProps, State> = (state) => {\n  return {\n    lang: state.languages.lang,\n    code: state.user.code,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<LoginFormDispatchProps, LoginFormOwnProps> = (dispatch) => {\n  return {\n    addUser(role: string, code: string) {\n      dispatch(addUser(role, code));\n    }\n  }\n};\n\nexport const Auth = connect(mapStatetoProps, mapDispatchToProps)(Form.create<FormComponentProps<LoginFormOwnProps>>({ name: 'normal_login' })(withRouter<RouteComponentProps<LoginFormOwnProps & LoginFormDispatchProps & LoginFormStateProps, any, any>, any>(LoginForm)));\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { Input, Form } from 'antd';\nimport { connect } from 'react-redux';\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\nimport { SumFormProps } from './SumFormTypes';\nimport { langMap } from '../../../lang';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst SumForm = Form.create({ name: 'cart' })(connect(mapStateToProps, mapDispatchToProps)(({ lang, form: { getFieldDecorator, setFieldsValue }, addDataToFormData,\n  formDataState: {\n    mwst_7,\n    mwst_19,\n    greichten,\n    zutaten,\n    deliveryCost,\n    discount,\n    total_price\n  } }: SumFormProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const onDeliveryCostChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('deliveryCost', event.target.value)\n  }, [addDataToFormData]);\n\n  const onDiscountChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('discount', event.target.value)\n  }, [addDataToFormData]);\n\n  useEffect(() => {//синхронизируем redux-store и форму\n    setFieldsValue({\n      mwst_7,\n      mwst_19,\n      greichten,\n      zutaten,\n      deliveryCost,\n      discount,\n      total_price\n    });\n  }, [mwst_7, mwst_19, greichten, zutaten, deliveryCost, discount, total_price, setFieldsValue]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  return (\n    <Form {...formItemLayout} className=\"sum-form\">\n      <div className=\"cart__sum\">\n        <div className=\"sum__item sum__item_flex-start\">\n          <Form.Item label={language.tax_7}>\n            {getFieldDecorator('mwst_7')(\n              <Input placeholder={language.tax_7} id=\"mwst_7\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.tax_19}>\n            {getFieldDecorator('mwst_19')(\n              <Input placeholder={language.tax_19} id=\"mwst_19\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n        </div>\n        <div className=\"sum__item\">\n          <Form.Item label={language.articlePrices}>\n            {getFieldDecorator('greichten')(\n              <Input placeholder={language.articlePrices} id=\"greichten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.additions}>\n            {getFieldDecorator('zutaten')(\n              <Input placeholder={language.additions} id=\"zutaten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.deliveryCost}>{getFieldDecorator('deliveryCost')(<Input onChange={onDeliveryCostChange} placeholder={language.deliveryCost} suffix=\"€\" />)}</Form.Item>\n          <Form.Item label={`F11 / ${language.discount}`}>{getFieldDecorator('discount')(<Input onChange={onDiscountChange} placeholder={`F11 / ${language.discount}`} suffix=\"%\" />)}</Form.Item>\n          <Form.Item label={language.totalPrice}>{getFieldDecorator('total_price')(<Input id=\"total_price\" placeholder={language.totalPrice} disabled suffix=\"€\" />)}</Form.Item>\n        </div>\n      </div>\n    </Form>\n  )\n}));\n\nexport default SumForm;\n","import { addToFormData } from '../../../redux/actions';\nimport { State } from '../../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { SumFormOwnProps, SumFormStateProps, SumFormDispatchProps } from './SumFormTypes';\n\nexport const mapStateToProps: MapStateToProps<SumFormStateProps, SumFormOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<SumFormDispatchProps, SumFormOwnProps> = (dispatch) => {\n  return {\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","import React, { useState, useCallback, useEffect, useMemo, Profiler } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { Table, Icon, Input, Button, Alert } from 'antd';\nimport SumForm from './subcomponents/SumForm';\n\nimport { langMap } from '../../lang';\n\nimport { searchProducts } from '../../fakeBD';\n\n//redux actions\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\n\n//types\nimport { RouteComponentProps } from 'react-router';\nimport { CartOwnProps, CartProps, CartDispatchProps, CartStateProps, ActionColumn } from './CartTypes';\n\nimport './Cart.css';\nimport { ROOT_URL } from '../../constants/rootUrl';\n\n\nconst onRenderFn = (id: string, phase: string, actualDuration: number, baseDuration: number) => {\n  console.log(`${id}'s ${phase} phase`);\n  console.log(`Actual time: ${actualDuration}`);\n  console.log(`Base duration: ${baseDuration}`);\n}\n\nfunction TableRow(props: any) {\n  const isSelected = props.children.find(({ props: { record: { selected } } }: any) => selected);\n  return (\n    <tr className={`${props.className} ${isSelected ? \"didolf\" : \"\"}`}>\n      {props.children}\n    </tr>\n  )\n}\n\n\n\nconst customTableComponents = { body: { row: TableRow } };\n\nconst proudctsTableScrollParams = { y: 'calc(100vh - 40px - 32px - 75px - 60px - 1px)' };\nconst cartTableScrollParams = { y: 'calc(100vh - 40px - 32px - 75px - 60px - 240px - 1px - 20px)' };\nconst NullComponent = () => null;\nconst IconStyle = { fontSize: '16px' };\n\nconst selectSearchInputText = () => {\n  const target = document.querySelector('.cart__products-table .ant-input') as HTMLInputElement;\n  (target).setRangeText(target.value, 0, target.value.length, 'select');\n};\nconst ProductNameRenderer = (name: string) => {\n  const testStr = name.match(/^([+]{1}[0-9]*)(.*)/);\n  if (testStr) {\n    const [_, quantity, additionName] = testStr;\n    return (<div className=\"addition\"><span className=\"addition__quantity\">{quantity}</span>{additionName}</div>);\n  }\n  return (name);\n};\nconst scrollToCurrentSelectedItem = () => {\n  const curItem = document.querySelector('.didolf');\n  if (curItem) {\n    curItem.scrollIntoView();\n  }\n}\nfunction Cart({ cartProducts, addDataToFormData, formDataState: { discount = 0 }, formDataState, lang, addProduct, addAddition, deleteProduct, deleteAddition, decrementAddition, decrementProduct, history }: CartProps) {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [products, setProducts] = useState(searchProducts('') as typeof cartProducts);\n  const [search, setSearch] = useState('');\n  const [isAlert, setIsAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState({ message: '', description: '' });\n  const [currentSelection, setCurrentSelection] = useState({ additionIndex: undefined, productIndex: 1 } as { additionIndex?: number, productIndex: number });\n\n  const sortedProducts = useMemo(() => {//сортируем продукты с бека\n    const unsortedProducts = products.sort((a, b) => {\n      if (a.article && b.article) {\n        return a.article - b.article\n      }\n      return 0;\n    });\n    unsortedProducts.forEach(product => {\n      product.articleView = product.article;\n      if (Array.isArray(product.children)) {\n        product.children = product.children.sort((a, b) => a.productName.localeCompare(b.productName));\n      }\n    });\n    const formattedSearch = search.toLowerCase();\n    const newSelection: typeof currentSelection = { productIndex: 0, additionIndex: undefined };\n    let wasBreaked = false;\n    for (let product of unsortedProducts) {\n      if (product.article.toString().toLowerCase().includes(formattedSearch) || product.productName.toLowerCase().includes(formattedSearch)) {\n        newSelection.productIndex = product.article;\n        break;\n      } else if (product.children) {\n        for (let child of product.children) {\n          if (child.productName.toLowerCase().includes(formattedSearch)) {\n            newSelection.productIndex = product.article;\n            newSelection.additionIndex = child.article;\n            wasBreaked = true;\n            break;\n          }\n        }\n        if (wasBreaked) {\n          break;\n        }\n      }\n    };\n    setCurrentSelection(newSelection);\n    return unsortedProducts;\n  }, [products, search, setCurrentSelection]);\n\n  const productsWithSelected = useMemo(() => {\n    return sortedProducts.map((product) => {\n      if (product.article === currentSelection.productIndex && currentSelection.additionIndex === undefined) {\n        product.selected = true;\n      } else if (product.selected) {\n        product.selected = undefined;\n      }\n      if (Array.isArray(product.children)) {\n        product.children.forEach(child => {\n          if (currentSelection.productIndex === product.article && currentSelection.additionIndex === child.article) {\n            child.selected = true;\n          } else if (child.selected && (currentSelection.additionIndex !== child.article || currentSelection.productIndex !== product.article)) {\n            child.selected = undefined;\n          }\n        });\n      }\n      return product;\n    })\n  }, [sortedProducts, currentSelection]);\n\n  const keyDownListener = useCallback((event: KeyboardEvent) => {//слушаем нажатия Arrow Up и Down и на их основе пушим в currentSelection\n    event.stopPropagation();\n    const newSelectionArticle: typeof currentSelection = { productIndex: currentSelection.productIndex };\n    if (currentSelection.additionIndex === undefined) {//если мы сейчас на продукте\n      const productIndex = sortedProducts.findIndex(({ article }) => article === currentSelection.productIndex);//находим его индекс в правой таблице\n      const { children } = sortedProducts[productIndex];\n      if (event.code === 'ArrowUp') {\n        // FIXME: Добавить возможность переходить с первого на последний продукт\n        if (productIndex !== 0 && sortedProducts.length !== 1) {//если кроме текущего продукта есть еще другие и текущий продукт не первый\n          const { article, children } = sortedProducts[productIndex - 1];//выбираем предыдущий продукт\n          newSelectionArticle.productIndex = article as number;//устанавливаем предыдущий продукт текущим\n          if (children && children.length !== 0) {//если есть добавки\n            newSelectionArticle.additionIndex = children[children.length - 1].article;//берем последнюю добавку\n          }\n        } else if (sortedProducts[sortedProducts.length - 1]){\n          const newProduct = sortedProducts[sortedProducts.length - 1];\n          newSelectionArticle.productIndex = newProduct.article;\n          if (Array.isArray(newProduct.children)) {\n            const additions = newProduct.children;\n            newSelectionArticle.additionIndex = additions[additions.length - 1].article;\n          }\n        }\n      } else {//ArrowDown\n        if (Array.isArray(children) && children.length !== 0) {//если есть добавки у текущего продукта\n          newSelectionArticle.additionIndex = children[0].article;//выбираем первую добавку\n        } else if (sortedProducts.length !== 1) {//если кроме текущего продукта есть еще другие и он не последний\n          newSelectionArticle.productIndex = sortedProducts[(productIndex + 1) % sortedProducts.length].article as number;//устанавливаем следующий продукт текущим\n        }\n      }\n    } else {//если мы сейчас на добавке\n      const productIndex = sortedProducts.findIndex(({ article }) => article === currentSelection.productIndex);//находим индекс продукта в правой таблице\n      const { children } = sortedProducts[productIndex];\n      if (!children || !children.length) {//если данные неактуальны и такой добавки нет - выходим\n        setCurrentSelection(newSelectionArticle);\n        return;\n      }\n      const additionIndex = children.findIndex(({ article }) => article === currentSelection.additionIndex);//находим индекс добавки\n      if (event.code === 'ArrowUp') {\n        if (additionIndex !== 0) {//если это не первая добавка в списке\n          newSelectionArticle.additionIndex = children[additionIndex - 1].article;//делаем текущей предыдущую добавку\n        }\n      } else {//ArrowDown\n        if (additionIndex !== children.length - 1) {// если это не последняя добавка в списке\n          newSelectionArticle.additionIndex = children[additionIndex + 1].article;\n        } else {// последняя добавка в списке\n          if (productIndex !== sortedProducts.length - 1) {//если не последний продукт\n            newSelectionArticle.productIndex = sortedProducts[productIndex + 1].article as number;//сделать следующий продукт текущим\n          } else {//если продукт последний\n            newSelectionArticle.productIndex = sortedProducts[0].article;//переходим на первый\n          }\n        }\n      }\n    }\n    setCurrentSelection(newSelectionArticle);\n  }, [sortedProducts, currentSelection, setCurrentSelection]);\n\n  const onMinusKeyDown = useCallback(() => {//слушаем нажатия клавиши '-' и изменяем товары в корзине на основе этого\n    const { productIndex, additionIndex } = currentSelection;\n    const product = cartProducts.find(item => item.article === productIndex);\n    if (additionIndex !== undefined) {\n      if (product && Array.isArray(product.children)) {\n        const addition = product.children.find(item => item.article === additionIndex);\n        if (addition) {\n          decrementAddition(productIndex, additionIndex);\n        } else {\n          setAlertMessage({ message: 'Не удалось уменьшить количество добавки', description: 'Добавки нет в корзине' });\n          setIsAlert(true);\n        }\n      } else {\n        setAlertMessage({ message: 'Не удалось уменьшить количество добавки', description: 'Товара нет в корзине' });\n        setIsAlert(true);\n      }\n    } else {\n      if (product) {\n        decrementProduct(productIndex);\n      } else {\n        setAlertMessage({ message: 'Не удалось уменьшить количество товара', description: 'Товара нет в корзине' });\n        setIsAlert(true);\n      }\n    }\n    selectSearchInputText();\n  }, [cartProducts, currentSelection, decrementAddition, decrementProduct, setIsAlert, setAlertMessage]);\n\n  const onPlusOrEnterKeyDown = useCallback(() => {//слушаем нажатия '+' и 'enter' и изменяем товары в корзине на основе этого\n    if (isAlert) {\n      setIsAlert(false);\n      return;\n    }\n    const { productIndex, additionIndex } = currentSelection;\n    const product = sortedProducts.find(({ article }) => article === productIndex)\n    if (product) {\n      const { article, productName, price, children, mwst } = product;\n      if (additionIndex !== undefined) {\n        const isProductInCart = cartProducts.find(item => item.article === productIndex);\n        if (isProductInCart) {\n          if (Array.isArray(children)) {\n            const child = children.find(({ article }) => article === additionIndex);\n            if (child) {\n              const { article, productName, price, mwst } = child;\n              if (article !== undefined) {\n                addAddition(productIndex, article, productName, price, mwst);// FIXME: Проверка на то, есть ли товар в корзине\n              }\n            }\n          }\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'Товара нет в корзине' });\n          setIsAlert(true);\n        }\n      } else {\n        if (article !== undefined)\n          addProduct(article, productName, price, mwst);// FIXME: Проверка на то, есть ли товар в корзине\n      }\n    }\n    selectSearchInputText();\n  }, [sortedProducts, isAlert, cartProducts, currentSelection, addAddition, addProduct, setIsAlert, setAlertMessage]);\n\n  const onSearchChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {//слушаем изменение строки поиска и убираем оттуда нажатие '-'\n    if (event.target.value.slice(-1) === '-') {\n      return;\n    } else {\n      setSearch(event.target.value);\n    }\n  }, [setSearch, onMinusKeyDown]);\n\n  const addToCart = useCallback((article: number, parentArticle?: number) => {//добавляем товары в корзину\n    return () => {\n      selectSearchInputText();\n      if (parentArticle) {\n        const product = sortedProducts.find(({ article: productArticle }) => productArticle === parentArticle);\n        const isProductInCart = cartProducts.find(item => item.article === parentArticle);\n        if (isProductInCart) {\n          if (product && product.children) {\n            const addition = product.children.find(({ article: productArticle }) => productArticle === article);\n            if (addition) {\n              const { productName, price, mwst } = addition;\n              addAddition(parentArticle, article, productName, price, mwst);\n            }\n          }\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'Товара нет в корзине' });\n          setIsAlert(true);\n        }\n      } else {\n        const addition = sortedProducts.find(({ article: productArticle }) => productArticle === article);\n        if (addition) {\n          const { productName, price, mwst } = addition;\n          addProduct(article, productName, price, mwst);\n        }\n      }\n    }\n  }, [sortedProducts, cartProducts, addAddition, addProduct, setIsAlert]);\n\n  const decrementFromCart = useCallback((article: number, parentArticle?: number) => {\n    return () => {\n      selectSearchInputText();\n      const product = cartProducts.find(item => item.article === (parentArticle || article));\n      if (parentArticle) {\n        const isAdditionInCart = product && Array.isArray(product.children) && product.children.find(item => item.article === article);\n        if (isAdditionInCart) {\n          decrementAddition(parentArticle, article)\n        } else {\n          setAlertMessage({ message: 'Не удалось уменьшить количество добавки', description: 'Добавки нет в корзине' });\n          setIsAlert(true);\n        }\n      } else if (product) {\n        decrementProduct(article);\n      } else {\n        setAlertMessage({ message: 'Не удалось уменьшить количество товара', description: 'Товара нет в корзине' });\n        setIsAlert(true);\n      }\n    }\n  }, [cartProducts, decrementAddition, decrementProduct, setIsAlert, setAlertMessage]);\n\n  const deleteFromCart = useCallback((article: number, parentArticle?: number) => {\n    return () => {\n      selectSearchInputText();\n      if (parentArticle) {\n        deleteAddition(parentArticle, article);\n      } else {\n        deleteProduct(article);\n      }\n    }\n  }, [deleteAddition, deleteProduct]);\n\n  const onBackButtonClick = useCallback(() => {\n    history.push(`${ROOT_URL}/menu`)\n  }, [history]);\n\n  //мемоизируем кнопки\n  const DecrementFromCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"minus-square\" onClick={decrementFromCart(article, parentArticle)} />, [decrementFromCart]);\n  const IncrementToCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"plus-square\" onClick={addToCart(article, parentArticle)} />, [addToCart]);\n  const DeleteFromCartIcon = useCallback(({ parentArticle, article }: ActionColumn) => <Icon style={IconStyle} type=\"close-square\" onClick={deleteFromCart(article, parentArticle)} />, [deleteFromCart]);\n  const onFreeDeliveryClick = useCallback(() => addDataToFormData('deliveryCost', '0'), [addDataToFormData]);\n  useEffect(() => {\n    const searchedProducts = searchProducts(search.toLowerCase());\n    setProducts(searchedProducts);\n  }, [search, setProducts]);//на изменение строки поиска стягиваем с сервера список продуктов\n\n  const allKeyDown = useCallback((event: KeyboardEvent) => {\n    if (event.code === 'F4') {\n      onBackButtonClick();\n    } else if (event.code === 'F5') {\n      onFreeDeliveryClick();\n    } else if (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\n      keyDownListener(event);\n    } else if (event.key === '+' || event.code === 'Enter') {\n      onPlusOrEnterKeyDown();\n    } else if (event.key === '-') {\n      onMinusKeyDown();\n    }\n  }, [onBackButtonClick, onFreeDeliveryClick, keyDownListener, onPlusOrEnterKeyDown, onMinusKeyDown]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', allKeyDown);\n    return () => {\n      window.removeEventListener('keydown', allKeyDown);\n    }\n  }, [allKeyDown]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n    /* fix бага с переключением языка по нажатию ArrowUp или ArrowDown */\n    const selected: HTMLElement | null = document.querySelector('.cart__products-table .ant-input');\n    if (selected) {\n      selected.focus()\n    }\n  }, [lang]);\n\n  const cartProductsSum = useMemo(() => {//считаем сумму продуктов и дополнений на каждое изменение продуктов\n    let cartProductsProductsSum = 0;\n    let cartProductsAdditionsSum = 0;\n    cartProducts.forEach(product => {\n      cartProductsProductsSum += product.price * product.quantity;\n      if (Array.isArray(product.children)) {\n        product.children.forEach(child => {\n          cartProductsAdditionsSum += child.price * child.quantity;\n        });\n      }\n    })\n    return {\n      cartProductsProductsSum,\n      cartProductsAdditionsSum\n    };\n  }, [cartProducts]);\n\n  useEffect(() => {//обновляем значения вычисляемых полей\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    addDataToFormData('greichten', cartProductsProductsSum.toString());\n\n    addDataToFormData('zutaten', cartProductsAdditionsSum.toString());\n\n    addDataToFormData('mwst_7', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.07 * 100) / 100).toString());\n\n    addDataToFormData('mwst_19', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.19 * 100) / 100).toString());\n  }, [cartProductsSum, addDataToFormData]);\n\n  useEffect(() => {//вычисляем общую цену\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    const deliveryCost = parseFloat(formDataState.deliveryCost) | 0;\n    const newTotalPrice = (deliveryCost + (((100 - (discount > 100 ? 0 : discount)) / 100)) * (cartProductsProductsSum + cartProductsAdditionsSum)).toString();\n    if (newTotalPrice !== formDataState['total_price']) {\n      addDataToFormData('total_price', newTotalPrice);\n    }\n  }, [cartProductsSum, discount, formDataState, addDataToFormData]);\n\n  const columns1 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'articleView',\n      key: 'articleView',\n    },\n    {\n      title: language.quantity,\n      dataIndex: 'viewQuantity',\n      key: 'quantity',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'viewName',\n      width: '60%',\n      key: 'productName',\n      render: ProductNameRenderer\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'deleteFromCart',\n      render: DeleteFromCartIcon\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementFromCartIcon\n    },\n    {\n      key: 'incrementToCart',\n      render: IncrementToCartIcon\n    }\n  ], [language, DeleteFromCartIcon, DecrementFromCartIcon, IncrementToCartIcon]);\n\n  const columns2 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'articleView',\n      key: 'articleView',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementFromCartIcon\n\n    },\n    {\n      key: 'incrementToCart',\n      render: IncrementToCartIcon\n    }\n  ], [DecrementFromCartIcon, IncrementToCartIcon, language]);\n\n  const cartProductsWithKeys = useMemo(() => {//проставляем ключи продуктам с бека\n    return cartProducts.map((item) => {\n      item.articleView = item.article;\n      item.viewName = item.productName;\n      item.viewQuantity = item.quantity;\n      item.key = (item.article && item.article.toString()) || '0';\n      if (item.children) {\n        item.children = item.children.map(child => {\n          child.viewName = `+${child.quantity} ${child.productName}`;\n          child.key = item.article + ':' + child.article;\n          child.parentArticle = item.article;\n          return child;\n        })\n      }\n      return item;\n    });\n  }, [cartProducts]);\n\n  const cartProductsExpandedRowKeys = useMemo(() => cartProducts.map(({ article }) => {\n    if (article) {\n      return article.toString();\n    }\n    return '0';\n  }), [cartProducts]);\n\n  const productsExpandedRowKeys = useMemo(() => sortedProducts.map(({ article }) => {\n    if (article) {\n      return article;\n    }\n    return 0;\n  }), [sortedProducts]);\n\n  const onAlertClose = useCallback(() => setIsAlert(false), [setIsAlert]);\n\n  useEffect(() => {\n    const container = document.querySelector('.cart__products-table .ant-table-body');\n    const curItem = document.querySelector('.didolf');\n    if (container && curItem) {\n      const containerRect = container.getBoundingClientRect();\n      const curItemRect = curItem.getBoundingClientRect();\n      if (containerRect.bottom <= curItemRect.bottom || containerRect.top >= curItemRect.top) {\n        const timeoutId = setTimeout(scrollToCurrentSelectedItem, 0);\n        return () => clearTimeout(timeoutId);\n      }\n    }\n  }, [currentSelection]);\n\n  return (\n    <div className=\"cart\">\n      {isAlert && <Alert\n        className=\"warning\"\n        message={alertMessage.message}\n        description={alertMessage.description}\n        type=\"error\"\n        closable\n        onClose={onAlertClose}\n      />}\n      <div className=\"cart__tables\">\n        <div className=\"cart__order-table\">\n          <div className=\"cart__order\">\n            <Input placeholder={language.comment} />\n            <Table expandIcon={NullComponent} pagination={false} scroll={cartTableScrollParams} bordered expandedRowKeys={cartProductsExpandedRowKeys} defaultExpandAllRows columns={columns1} dataSource={cartProductsWithKeys} />\n          </div>\n          <SumForm />\n        </div>\n        <div className=\"cart__products-table\">\n          <Input value={search} prefix={<Icon type=\"search\" />} onChange={onSearchChange} autoFocus />\n          <Table components={customTableComponents} pagination={false} scroll={proudctsTableScrollParams} bordered expandIcon={NullComponent} expandedRowKeys={productsExpandedRowKeys} defaultExpandAllRows columns={columns2} dataSource={productsWithSelected} />\n        </div>\n      </div>\n      <div className=\"cart__buttons\">\n        <Button type=\"danger\" size=\"large\" onClick={onBackButtonClick}>{language.back} / F4</Button>\n        <Button type=\"dashed\" size=\"large\" onClick={onFreeDeliveryClick}>{language.freeDelivery} / F5</Button>\n        <Button type=\"primary\" size=\"large\">{language.print} / F2</Button>\n      </div>\n    </div>\n  )\n};\n\nconst Tmp = connect(mapStateToProps, mapDispatchToProps)(withRouter<RouteComponentProps<CartDispatchProps & CartOwnProps & CartStateProps>, any>(Cart));\n\n\nexport default () => (<Profiler id=\"test1\" onRender={onRenderFn} >\n  <Tmp /></Profiler>);\n","import {\n  addProductToCart,\n  addAdditionToProductInCart,\n  incrementQuantityOfProductInCart,\n  decrementQuantityOfProductInCart,\n  incrementQuantityOfAdditionOfProduct,\n  decrementQuantityOfAdditionOfProduct,\n  deleteProductFromCart,\n  deleteAdditionOfProductFromCart,\n  addToFormData\n} from '../../redux/actions';\nimport { State } from '../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { CartOwnProps, CartDispatchProps, CartStateProps } from './CartTypes';\n\n\nexport const mapStateToProps: MapStateToProps<CartStateProps, CartOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\n\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<CartDispatchProps, CartOwnProps> = (dispatch) => {\n  return {\n    addProduct(article: number, productName: string, price: number, mwst: '7' | '19') {\n      dispatch(addProductToCart(article, productName, price, mwst));\n    },\n    addAddition(productArticle: number, additionArticle: number, additionName: string, additionPrice: number, additionMwst: '7' | '19') {\n      dispatch(addAdditionToProductInCart(productArticle, additionArticle, additionName, additionPrice, additionMwst));\n    },\n    deleteProduct(productArticle: number) {\n      dispatch(deleteProductFromCart(productArticle));\n    },\n    deleteAddition(productArticle: number, additionArticle: number) {\n      dispatch(deleteAdditionOfProductFromCart(productArticle, additionArticle));\n    },\n    incrementProduct(productArticle: number) {\n      dispatch(incrementQuantityOfProductInCart(productArticle));\n    },\n    decrementProduct(productArticle: number) {\n      dispatch(decrementQuantityOfProductInCart(productArticle));\n    },\n    incrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(incrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    },\n    decrementAddition(productArticle: number, additionArticle: number) {\n      dispatch(decrementQuantityOfAdditionOfProduct(productArticle, additionArticle));\n    },\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","import { combineReducers, createStore } from 'redux';\nimport { languages, user, formDataState, cartProducts } from './reducers';\n\nexport const appState = combineReducers({ languages, user, formDataState, cartProducts } as any);\nconst initialState = JSON.parse(localStorage.getItem('pizza-redux') as string);\nlet store = initialState ? createStore(appState, initialState) : createStore(appState);\n\nstore.subscribe(() => localStorage.setItem('pizza-redux', JSON.stringify(store.getState())));\n\nexport default store;\n\n","import React, { useState, useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\n\nimport './index.css';\n\nimport { Menu, Icon, Layout, Radio } from 'antd';\nimport DeliveryForm from './components/DeliveryForm';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect} from 'react-redux';\nimport { logoutUser, changeLanguage } from './redux/actions';\n\n//types\nimport { ClickParam } from 'antd/lib/menu';\n\nimport { langMap } from './lang';\n\nimport { Auth } from './components/Auth';\nimport Cart from './components/Cart';\n\nimport store from './redux';\n\nimport { ROOT_URL } from './constants/rootUrl';\n\nimport { Typography } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { RouteComponentProps } from 'react-router';\nimport { MapStateToProps, MapDispatchToPropsFunction } from 'react-redux';\n\nimport './components/LeftMenu/Menu.css';\n\nimport { State } from './redux/types';\nimport { MenuPageProps, MenuPageStateProps, MenuPageDispatchProps, MenuPageOwnProps } from './components/LeftMenu/types';\n\nconst { Sider } = Layout;\n\nconst { Text } = Typography;\n\nconst App = ({ lang, userRole, logoutFromUser, changeLang, history }: MenuPageProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [collapsed, setCollapsed] = useState(false);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang, setLanguage]);\n\n  const logout = useCallback((e: ClickParam) => {\n    logoutFromUser();\n    history.push(`${ROOT_URL}/`);\n  }, [logoutFromUser, history]);\n\n  const handleLangChange = useCallback((e: RadioChangeEvent) => {\n    const { target: { value } } = e;\n    changeLang(value);\n  }, [changeLang]);\n\n  const handleCollapse = useCallback((collapsed: boolean) => {\n    setCollapsed(collapsed);\n  }, [setCollapsed]);\n\n  return (\n    <Layout style={{ minHeight: '100vh' }}>\n      {window.location.pathname !==  `${ROOT_URL}/` && <Sider collapsible onCollapse={handleCollapse} theme=\"light\" style={{\n        overflow: 'auto',\n        height: '100vh',\n        left: 0,\n      }}>\n        <div className=\"menu\">\n          <Menu style={{ height: '100vh' }} defaultSelectedKeys={['2']} mode=\"inline\">\n            <Menu.Item disabled>\n              <Icon type=\"tag\" />\n              {!collapsed && <Radio.Group value={lang} onChange={handleLangChange}>\n                <Radio.Button value=\"ru\">ru</Radio.Button>\n                <Radio.Button value=\"de\">de</Radio.Button>\n              </Radio.Group>}\n            </Menu.Item>\n            <Menu.Item key=\"1\" onClick={logout} className=\"logout-button\">\n              <Icon type=\"logout\" />\n              <span>{language.logout}</span>\n            </Menu.Item>\n            <Menu.Item key=\"2\">\n              <Icon type=\"phone\" />\n              <span>{language.callForm}</span>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Icon type=\"shopping-cart\" />\n              <span>{language.allOrders}</span>\n            </Menu.Item>\n            <Menu.Item key=\"4\">\n              <Icon type=\"dashboard\" />\n              <span>{language.cookingMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"5\">\n              <Icon type=\"car\" />\n              <span>{language.carMonitor}</span>\n            </Menu.Item>\n            <Menu.Item key=\"6\">\n              <Icon type=\"bar-chart\" />\n              <span>{language.report}</span>\n            </Menu.Item>\n            <Menu.Item key=\"7\">\n              <Icon type=\"setting\" />\n              <span>{language.settings}</span>\n            </Menu.Item>\n            <Menu.Item key=\"8\">\n              <Icon type=\"question-circle\" />\n              <span>{language.help}</span>\n            </Menu.Item>\n          </Menu>\n          <Text style={{ textAlign: 'center', paddingBottom: '20px', borderRight: '1px solid #e8e8e8' }}>{userRole}</Text>\n        </div>\n    </Sider>} \n          <Route path={`${ROOT_URL}/menu`} component={DeliveryForm} />\n          <Route path={`${ROOT_URL}/index.html`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/finish`} component={Cart} />\n    </Layout>\n  );\n};\n\nconst mapStatetoProps: MapStateToProps<MenuPageStateProps, MenuPageOwnProps, State> = (state) => {\n  return {\n    formDataState: state.formDataState,\n    lang: state.languages.lang,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<MenuPageDispatchProps, MenuPageOwnProps> = (dispatch) => ({\n  logoutFromUser() {\n    dispatch(logoutUser());\n  },\n  changeLang(lang: 'ru' | 'de') {\n    dispatch(changeLanguage(lang));\n  }\n});\n\nexport const AppWithConnect = connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(withRouter<RouteComponentProps<MenuPageDispatchProps & MenuPageOwnProps & MenuPageStateProps>, any>(App));//FIXME\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <AppWithConnect />\n    </Provider>\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}