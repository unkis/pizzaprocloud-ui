{"version":3,"sources":["redux/actions.ts","constants/fieldNames.ts","constants/selectValues.ts","redux/reducers.ts","redux/index.ts","fakeBD.ts","lang/index.ts","lang/ru.ts","lang/de.ts","constants/rootUrl.ts","components/DeliveryForm/index.tsx","components/Auth/index.tsx","components/Cart/subcomponents/SumForm.tsx","components/Cart/subcomponents/reduxProvider.ts","components/Cart/index.tsx","components/Cart/reduxProvider.ts","helpers/findLastIndexOf.ts","components/LeftMenu/index.tsx","components/App/index.tsx","index.tsx"],"names":["cartProductsActions","formDataActions","addToFormData","fieldName","fieldValue","type","fieldNames","customerNumber","phoneNumber","name","street","houseNumber","plz","city","clientComment","deliveryCost","article","quantity","productName","price","selectValues","initialFormDataState","initialCartProductsState","appState","combineReducers","languages","state","lang","action","user","role","code","formDataState","newState","Object","entries","key","value","cartProducts","ADD_PRODUCT_TO_CART","id","tax","length","prevQuantity","slice","ADD_ADDITION_TO_PRODUCT_IN_CART","productIdx","additionId","additionName","additionPrice","additionTax","productIndex","oldAdditions","additions","Array","isArray","additionArticleIndex","findIndex","prevQiantity","productAdditions","undefined","DELETE_PRODUCT_FROM_CART","filter","_","idx","DELETE_ADDITION_OF_PRODUCT_FROM_CART","console","log","INCREMENT_QUANTITY_OF_PRODUCT_IN_CART","DECREMENT_QUANTITY_OF_PRODUCT_IN_CART","currentQuantity","INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","additionIndex","addition","oldQuantity","DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT","initialState","localStorage","getItem","JSON","parse","store","createStore","setItem","stringify","subscribe","getState","fakeBD","customers","products","searchProducts","searchString","toLowerCase","product","includes","langMap","authTitle","organizationNumber","username","password","autoLogin","login","tableOrders","selfPickUp","sales","phoneMonitor","clear","goToOrder","logout","callForm","allOrders","cookingMonitor","carMonitor","report","settings","help","back","freeDelivery","print","comment","goods","discount","totalPrice","tax_7","tax_19","articlePrices","ROOT_URL","Header","Layout","Content","Option","Select","formItemLayout","labelCol","xs","span","sm","lg","xl","wrapperCol","dataSourceActions","ADD_TO_DATA_SOURCE","dataSourceReducer","dataSourceName","dataSourceData","addToDataSource","initialDataSourceState","DeliveryForm","Form","create","connect","dispatch","addDataToFormData","updateFieldsOfFormData","updateAllFieldsOfFormData","clearFields","withRouter","form","getFieldDecorator","setFieldsValue","getFieldsValue","history","useReducer","dataSourceState","dispatchToDataSource","dataSourceLiveState","dispatchToDataSourceLive","useState","language","setLanguage","onFieldChange","useCallback","handleSearch","arg","item","startsWith","fetched","map","toString","nextPage","validateFields","err","push","handleClearClick","handleSubmit","e","preventDefault","handleEscDown","handleEnterDown","fieldId","customer","find","useEffect","window","addEventListener","removeEventListener","object1","object2","keys","compareTwoObjects","style","background","marginTop","height","display","flexFlow","justifyContent","size","margin","onSubmit","onKeyDown","width","maxWidth","Item","label","rules","required","message","pattern","dataSource","onSearch","onSelect","maxLength","autoFocus","onChange","onClick","htmlType","Title","Typography","Auth","userRole","addUser","errMsg","setErrMsg","values","className","autoComplete","level","textAlign","prefix","color","placeholder","valuePropName","initialValue","SumForm","mwst_7","mwst_19","greichten","zutaten","total_price","onDeliveryCostChange","event","target","onDiscountChange","disabled","suffix","naturalSort","require","proudctsTableScrollParams","y","cartTableScrollParams","IconStyle","fontSize","selectSearchInputText","targetElem","document","querySelector","focus","setRangeText","ProductNameRenderer","testStr","match","NullComponent","scrollToCurrentSelectedItem","curItem","scrollIntoView","scrollToLastItemOfCart","addProduct","addProductToCart","addAddition","addAdditionToProductInCart","deleteProduct","deleteProductFromCart","deleteAddition","deleteAdditionOfProductFromCart","incrementProduct","incrementQuantityOfProductInCart","decrementProduct","decrementQuantityOfProductInCart","incrementAddition","incrementQuantityOfAdditionOfProduct","decrementAddition","decrementQuantityOfAdditionOfProduct","search","setSearch","isAlert","setIsAlert","description","alertMessage","setAlertMessage","currentSelection","setCurrentSelection","currentSelectedProductInCart","setProductInCart","wasImplisitySetted","sortedProducts","useMemo","unsortedProducts","sort","a","b","localeCompare","formattedSearch","newSelection","productsWithSelected","selected","filteredProducts","header","keyDownListener","stopPropagation","newSelectionArticle","onMinusKeyDown","currentProduct","typeOfCurrentProduct","isProductInCart","arr","fn","i","findLastIndexOf","onPlusOrEnterKeyDown","onSearchChange","lastChar","setTimeout","addInProducts","decrementInProducts","lastAddedProduct","incrementInCart","parentIdx","adds","decrementInCart","deleteInCart","onBackButtonClick","TableRow","props","isSelected","children","record","isHeader","isInCart","cart","forEach","recordId","recordParentId","parentId","recordIdx","recordParentIdx","onDoubleClick","customTableComponents","body","row","DecrementInCartIcon","IncrementInCartIcon","DeleteInCartIcon","DecrementInProductsIcon","AddInProductsIcon","onFreeDeliveryClick","onAlertClose","allKeyDown","cartProductsSum","cartProductsProductsSum","cartProductsAdditionsSum","additionsSum","child","Math","round","newTotalPrice","parseFloat","columns1","title","dataIndex","render","columns2","cartProductsWithKeys","childIdx","assign","viewName","productsExpandedRowKeys","container","containerRect","getBoundingClientRect","curItemRect","bottom","top","timeoutId","clearTimeout","cartProductsExpandedRowKeys","closable","onClose","components","expandIcon","pagination","scroll","bordered","expandedRowKeys","defaultExpandAllRows","columns","Text","LeftMenu","logoutFromUser","changeLang","changeLanguage","collapsed","handleLangChange","defaultSelectedKeys","mode","Group","Button","paddingBottom","borderRight","Sider","setCollapsed","handleCollapse","minHeight","location","pathname","collapsible","onCollapse","theme","overflow","left","path","component","exact","Cart","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.7f1996a1.chunk.js","sourcesContent":["import { changeLanguageType, addUserType, logoutUserType } from './actionsTypes';\n\nexport const CHANGE_LANGUAGE = 'CHANGE_LANGUAGE';\nexport const ADD_USER = 'ADD_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\nexport const formDataActions = {\n  ADD_TO_FORM_DATA: 'ADD_TO_FORM_DATA',\n  UPDATE_ALL_FIELDS: 'UPDATE_ALL_FIELDS',\n  CLEAR_ALL_FIELDS: 'CLEAR_ALL_FIELDS'\n};\n\nexport enum cartProductsActions {\n  ADD_PRODUCT_TO_CART,\n  ADD_ADDITION_TO_PRODUCT_IN_CART,\n  DELETE_PRODUCT_FROM_CART,\n  DELETE_ADDITION_OF_PRODUCT_FROM_CART,\n  INCREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  DECREMENT_QUANTITY_OF_PRODUCT_IN_CART,\n  INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n  DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT,\n};\n\n\nexport const changeLanguage: changeLanguageType = (lang) => ({ type: CHANGE_LANGUAGE, lang });\n\nexport const addUser: addUserType = (role, code) => ({ type: ADD_USER, role, code });\n\nexport const logoutUser: logoutUserType = () => ({ type: LOGOUT_USER });\n\nexport const addToFormData = (fieldName: string, fieldValue: string) => ({ type: formDataActions.ADD_TO_FORM_DATA, fieldName, fieldValue });\n\nexport const updateAllFieldsOfFormData = (newState: any) => ({ type: formDataActions.UPDATE_ALL_FIELDS, newState });\n\nexport const clearAllFields = () => ({ type: formDataActions.CLEAR_ALL_FIELDS });\n\nexport const addProductToCart = (id: number, article: string, productName: string, price: number, tax: '7' | '19') => \n  ({ type: cartProductsActions.ADD_PRODUCT_TO_CART, id, article, productName, price, tax });\n\nexport const addAdditionToProductInCart = (productIdx: number, additionId: number, additionName: string, additionPrice: number, additionTax: '7' | '19') => \n  ({ type: cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART, productIdx, additionId, additionName, additionPrice, additionTax });\n\nexport const deleteProductFromCart = (productIdx: number) => \n  ({ type: cartProductsActions.DELETE_PRODUCT_FROM_CART, productIdx });\n\nexport const deleteAdditionOfProductFromCart = (productIdx: number, additionId: number) => \n  ({ type: cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART, productIdx, additionId });\n\nexport const incrementQuantityOfProductInCart = (productIdx: number) => ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART, productIdx });\n\nexport const decrementQuantityOfProductInCart = (productIdx: number) => ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART, productIdx });\n\nexport const incrementQuantityOfAdditionOfProduct = (productIdx: number, additionId: number) => \n  ({ type: cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productIdx, additionId });\n\nexport const decrementQuantityOfAdditionOfProduct =  (productIdx: number, additionId: number, productName: string, price: number, tax: '7' | '19') => \n  ({ type: cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT, productIdx, additionId, productName, price, tax });\n","const fieldNames: fieldNamesInterface = {\n  customerNumber: 'customerNumber',\n  phoneNumber: 'phoneNumber',\n  name: 'name',\n  street: 'street',\n  houseNumber: 'houseNumber',\n  plz: 'plz',\n  city: 'city',\n  clientComment: 'clientComment',\n  deliveryCost: 'deliveryCost',\n  article: 'article',\n  quantity: 'quantity',\n  productName: 'productName',\n  price: 'price'\n};\n\nexport interface fieldNamesInterface {\n  customerNumber: string,\n  phoneNumber: string,\n  name: string,\n  street: string,\n  houseNumber: string,\n  plz: string,\n  city: string,\n  clientComment: string,\n  deliveryCost: string,\n  article: string;\n  quantity: string;\n  productName: string;\n  price: string;\n};\n\nexport default fieldNames;\n","export const selectValues = ['0,00', '0,50', '1,00', '1,50', '2,00', '2,50', '3,00'];\n","import { CHANGE_LANGUAGE, ADD_USER, LOGOUT_USER, formDataActions, cartProductsActions } from './actions';\n\nimport fieldNames from '../constants/fieldNames';\nimport { selectValues } from '../constants/selectValues';\n\nimport {\n  LanguagesState,\n  LanguageAction,\n  UserState,\n  UserAction,\n  FormDataStateType,\n  FormDataStateAction,\n  CartProductsState,\n  CartProductsAction\n} from './reducersTypes';\n\nexport const languages = (state: LanguagesState = { lang: 'ru' }, action: LanguageAction) => {\n  switch (action.type) {\n    case CHANGE_LANGUAGE:\n      return { lang: action.lang };\n    default: return state;\n  }\n};\n\nexport const user = (state: UserState = { role: '', code: '' }, action: UserAction) => {\n  switch (action.type) {\n    case ADD_USER: {\n      const { role, code } = action;\n      return { role, code };\n    };\n    case LOGOUT_USER: {\n      return {\n        ...state,\n        role: ''\n      };\n    }\n    default: return state;\n  }\n};\n\nexport const initialFormDataState: any = {//TODO: add types\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.customerNumber]: '',\n  [fieldNames.phoneNumber]: '',\n  [fieldNames.name]: '',\n  [fieldNames.street]: '',\n  [fieldNames.houseNumber]: '',\n  [fieldNames.plz]: '',\n  [fieldNames.city]: '',\n  [fieldNames.clientComment]: '',\n  [fieldNames.deliveryCost]: selectValues[0]\n};\n\nexport const formDataState = (state: FormDataStateType = initialFormDataState, action: FormDataStateAction) => {\n  switch (action.type) {\n    case formDataActions.ADD_TO_FORM_DATA:\n      return {\n        ...state,\n        [action.fieldName]: action.fieldValue\n      };\n    case formDataActions.UPDATE_ALL_FIELDS: {\n      const newState = { ...state };\n      for (let [key, value] of Object.entries(action.newState)) {\n        newState[key] = value;\n      };\n      return newState;\n    };\n    case formDataActions.CLEAR_ALL_FIELDS:\n      return { ...initialFormDataState };\n    default:\n      return state;\n  };\n};\n\nexport const initialCartProductsState = [];\n\nexport const cartProducts = (state: CartProductsState = initialCartProductsState, action: CartProductsAction) => {\n  switch (action.type) {\n\n    case cartProductsActions.ADD_PRODUCT_TO_CART: {\n      const { id, article, productName, price, tax } = action;\n\n      if (state[state.length - 1] && state[state.length - 1].id === id) {\n        const prevQuantity = state[state.length - 1].quantity;\n        return [...state.slice(0, -1), { ...state[state.length - 1], quantity: prevQuantity + 1 }]\n      } else {\n        return [...state, { id, article, productName, price, tax, quantity: 1 }]\n      }\n    }\n\n    case cartProductsActions.ADD_ADDITION_TO_PRODUCT_IN_CART: {\n      const { productIdx, additionId, additionName, additionPrice, additionTax } = action;\n      const productIndex = productIdx;\n      if (productIndex !== -1) {\n        const oldAdditions = state[productIndex].additions;\n        if (state[productIndex] && Array.isArray(oldAdditions)) {\n          const additionArticleIndex = oldAdditions.findIndex(({ id }) => id === additionId);\n          if (additionArticleIndex !== -1 && Array.isArray(state[productIndex].additions)) {\n            const prevQiantity = oldAdditions[additionArticleIndex].quantity;\n            if (prevQiantity !== -1) {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...oldAdditions.slice(0, additionArticleIndex),\n                    { ...oldAdditions[additionArticleIndex], quantity: prevQiantity + 1 },\n                    ...oldAdditions.slice(additionArticleIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ];\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...oldAdditions.slice(0, additionArticleIndex),\n                    ...oldAdditions.slice(additionArticleIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ];\n            }\n          } else {\n            const productAdditions = state[productIndex].additions;\n            if (productAdditions !== undefined) {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...productAdditions,\n                    { id: additionId, productName: additionName, price: additionPrice, tax: additionTax, quantity: 1 }\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ];\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    { id: additionId, productName: additionName, price: additionPrice, tax: additionTax, quantity: 1 },\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ];\n            }\n          }\n        } else {\n          return [\n            ...state.slice(0, productIndex),\n            {\n              ...state[productIndex], additions: [\n                { id: additionId, productName: additionName, price: additionPrice, tax: additionTax, quantity: 1 },\n              ]\n            },\n            ...state.slice(productIndex + 1)\n          ];\n        }\n      }\n      return state;\n    }\n    /* FIXME TESTS */\n    case cartProductsActions.DELETE_PRODUCT_FROM_CART: {\n      const { productIdx } = action;\n      return state.filter((_, idx) => idx !== productIdx);\n    }\n\n    case cartProductsActions.DELETE_ADDITION_OF_PRODUCT_FROM_CART: {\n      const { productIdx, additionId } = action;\n      const productIndex = productIdx;\n      console.log(productIdx);\n      if (productIndex !== -1) {\n        const additions = state[productIndex].additions;\n        if (additions) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], additions: additions.filter(({ id }) => id !== additionId) },\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n    /* END FIXME */\n    case cartProductsActions.INCREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productIdx } = action;\n      const productIndex = productIdx;\n      if (productIndex !== -1) {\n        return [\n          ...state.slice(0, productIndex),\n          { ...state[productIndex], quantity: state[productIndex].quantity + 1 },\n          ...state.slice(productIndex + 1)\n        ]\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_PRODUCT_IN_CART: {\n      const { productIdx } = action;\n      const productIndex = productIdx;\n      if (productIndex !== -1) {\n        const currentQuantity = state[productIndex].quantity;\n        if (currentQuantity > 1) {\n          return [\n            ...state.slice(0, productIndex),\n            { ...state[productIndex], quantity: currentQuantity - 1 },\n            ...state.slice(productIndex + 1)\n          ]\n        } else {\n          return [\n            ...state.slice(0, productIndex),\n            ...state.slice(productIndex + 1)\n          ]\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.INCREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productIdx, additionId } = action;\n      const productIndex = productIdx;\n      if (productIndex !== -1) {\n        const additions = state[productIndex].additions;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ id }) => id === additionId);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            const oldQuantity = addition.quantity;\n            if (oldQuantity !== -1) {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...additions.slice(0, additionIndex),\n                    { ...addition, quantity: oldQuantity + 1 },\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...additions.slice(0, additionIndex),\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            }\n          }\n        }\n      }\n      return state;\n    }\n\n    case cartProductsActions.DECREMENT_QUANTITY_OF_ADDITION_OF_PRODUCT: {\n      const { productIdx, additionId, productName, price, tax } = action;\n      const productIndex = productIdx;\n      if (productIndex !== -1) {\n        const additions = state[productIndex].additions;\n        if (additions) {\n          const additionIndex = additions.findIndex(({ id }) => id === additionId);\n          if (additionIndex !== -1) {\n            const addition = additions[additionIndex];\n            if (addition.quantity !== 1) {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...additions.slice(0, additionIndex),\n                    { ...addition, quantity: addition.quantity - 1 },\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            } else {\n              return [\n                ...state.slice(0, productIndex),\n                {\n                  ...state[productIndex], additions: [\n                    ...additions.slice(0, additionIndex),\n                    ...additions.slice(additionIndex + 1)\n                  ]\n                },\n                ...state.slice(productIndex + 1)\n              ]\n            }\n          } else {\n            return [\n              ...state.slice(0, productIndex),\n              {\n                ...state[productIndex], additions: [\n                  ...additions,\n                  { id: additionId, productName, price, tax, quantity: -1 }\n                ]\n              },\n            ]\n          }\n        }\n      }\n      return state;\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers, createStore } from 'redux';\nimport { languages, user, formDataState, cartProducts } from './reducers';\n\nexport const appState = combineReducers({ languages, user, formDataState, cartProducts } as any);\nconst testIsNew = localStorage.getItem('testIndex') && JSON.parse(localStorage.getItem('testIndex') as string);\nconst initialState = testIsNew ? JSON.parse(localStorage.getItem('pizza-redux') as string) : null;\nlet store = initialState ? createStore(appState, initialState) : createStore(appState);\nlocalStorage.setItem('testIndex', JSON.stringify(true));\nstore.subscribe(() => localStorage.setItem('pizza-redux', JSON.stringify(store.getState())));\n\nexport default store;\n\n","const fakeBD = {\n    customers: [\n        {\n            customerNumber: 1\n        },\n        {\n            customerNumber: 2\n        },\n        {\n            customerNumber: 3\n        },\n        {\n            customerNumber: 33,\n            phoneNumber: 89821251216,\n            deliveryCost: '2,50',\n            name: 'Дмитрий',\n            street: 'Уличная',\n            houseNumber: '16',\n            plz: '123456',\n            city: 'Москва',\n        },\n        {\n            customerNumber: 333\n        }\n    ],\n    products: [\n        {\n            id: 1,\n            article: '1',\n            productName: 'Pizza Margherita',\n            price: 10.00,\n            tax: '19',\n            type: 'product'\n        },\n        {\n            id: 2,\n            article: '1k',\n            productName: 'Pizza Margherita klein',\n            price: 5.0,\n            tax: '19',\n            type: 'product'\n        },\n        {\n            id: 3,\n            article: '105',\n            productName: 'Salat Capri',\n            price: 10.00,\n            tax: '7',\n            type: 'product'\n        },\n        {\n            id: 4,\n            article: '105g',\n            productName: 'Salat capri groß',\n            price: 15.00,\n            tax: '7',\n            type: 'product'\n        },\n        {\n            id: 5,\n            productName: 'Ananas',\n            price: 1.00,\n            tax: '19',\n            type: 'addition'\n        },\n        {\n            id: 6,\n            productName: 'Salami',\n            price: 0.50,\n            tax: '19',\n            type: 'addition'\n        },\n        {\n            id: 7,\n            productName: 'kl. Tomaten',\n            price: 0.50,\n            tax: '19',\n            type: 'addition'\n        },\n        {\n            id: 8,\n            productName: 'ohne Zwiebeln',\n            price: 0.00,\n            tax: '19',\n            type: 'addition'\n        },\n        {\n            id: 9,\n            productName: 'extra Käse',\n            price: 1.00,\n            tax: '7',\n            type: 'addition'\n        },\n        {\n            id: 10,\n            productName: 'extra Käse gross',\n            price: 1.50,\n            tax: '7',\n            type: 'addition'\n        }\n    ]\n\n};\nexport const auth = (login: string, password: string) => {\n    if (login === 'test' && password === 'test') {\n        return { role: 'admin' };\n    }\n    return null;\n}\n\nexport const searchProducts: any = (searchString: string) => {\n    if (searchString === '') {\n        return fakeBD.products.slice(0, 10);\n    }\n    searchString = searchString.toLowerCase();\n    const res = fakeBD.products.filter((product) => {\n        const { article, productName } = product;\n        const isProduct = (article && article.toLowerCase().includes(searchString.toLowerCase())) || productName.toLowerCase().includes(searchString.toLowerCase());\n        return isProduct;\n    });\n    return res;\n}\nexport default fakeBD;\n","import ru from './ru';\nimport de from './de';\n\nexport type langType = 'ru' | 'de';\n\nexport type langMapType = {\n  'ru': typeof ru,\n  'de': typeof de\n};\n\nexport const langMap: langMapType = {\n  'ru': ru,\n  'de': de\n};\n","const ru = {\n    authTitle: 'Авторизация',\n    organizationNumber: 'Номер организации',\n    username: 'Имя пользователя',\n    password: 'Пароль',\n    autoLogin: 'Запомнить меня',\n    login: 'Войти',\n    tableOrders: 'Tischbestellungen', //TODO: Перевод\n    selfPickUp: 'Selbstabholer', //TODO: Перевод\n    sales: 'Hausverkauf', //TODO: Перевод\n    phoneMonitor: 'Telefon monitor', //TODO: Перевод\n    customerNumber: 'Номер клиента',\n    phoneNumber: 'Номер телефона',\n    name: 'Имя',\n    street: 'Улица',\n    houseNumber: 'Номер дома',\n    plz: 'Почтовый индекс',\n    city: 'Город',\n    clientComment: 'Комментарий клиента',\n    deliveryCost: 'Доставка',\n    clear: 'Очистить',\n    goToOrder: 'Продолжить заказ',\n    logout: 'Выйти',\n    callForm: 'Доставка',\n    allOrders: 'Все заказы',\n    cookingMonitor: 'Монитор кухни',\n    carMonitor: 'Монитор доставки',\n    report: 'Отчет',\n    settings: 'Настройки',\n    help: 'Помощь',\n    quantity: 'Кол-во',\n    article: 'Арт.',\n    productName: 'Номенклатура',\n    price: 'Цена',\n    back: 'Назад',\n    freeDelivery: 'Бесплатная доставка',\n    print: 'Печать',\n    comment: 'Комментарий заказчика',\n    goods: 'Товары',\n    additions: 'Добавки',\n    discount: 'Скидка',\n    totalPrice: 'Общая цена',\n    tax_7: 'Налог 7%',\n    tax_19: 'Налог 19%',\n    articlePrices: 'Номенклатура'\n};\n\nexport default ru;\n","const de = {\n    authTitle: 'Restaurant-Login',\n    organizationNumber: 'Kundennumer',\n    username: 'Benutzername',\n    password: 'Passwort',\n    autoLogin: 'Automatisch Anmelden',\n    login: 'Login',\n    tableOrders: 'Tischbestellungen',\n    selfPickUp: 'Selbstabholer',\n    sales: 'Hausverkauf',\n    phoneMonitor: 'Telefon monitor',\n    customerNumber: 'Kundennummer',\n    phoneNumber: 'Telefonnumer',\n    name: 'Name',\n    street: 'Strasse',\n    houseNumber: 'Hausnummer',\n    plz: 'PLZ',\n    city: 'Stadt',\n    clientComment: 'Bemerkung',\n    deliveryCost: 'Anfahrtskosten',\n    clear: 'Löschen',\n    goToOrder: 'Bestellung',\n    logout: 'Logout',\n    callForm: 'Lieferdienst',\n    allOrders: 'Alle Bestellungen',\n    cookingMonitor: 'Kuchen monitor',\n    carMonitor: 'Fahrer monitor',\n    report: 'Berichten',\n    settings: 'Einstellungen',\n    help: 'Hilfe',\n    quantity: 'Anzahl',\n    article: 'Karte Nr.',\n    productName: 'Name von Artiel',\n    price: 'Preise',\n    back: 'Zuruck',\n    freeDelivery: 'Anfahrtkosten Frei',\n    print: 'Drucken',\n    comment: 'Hinweis',\n    goods: 'Artikel',\n    additions: 'Zutaten',\n    discount: 'Rabatt',\n    totalPrice: 'Gesamt preis',\n    tax_7: 'MWST 7%',\n    tax_19: 'MWST 19%',\n    articlePrices: 'Artikel'\n};\n\nexport default de;\n","export const ROOT_URL = '/pizzaprocloud-ui';\n","import React, { useReducer, useEffect, useCallback, useState } from 'react';\nimport { Button, Form, Input, AutoComplete, Select, Divider, Card, Layout } from 'antd';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect, MapDispatchToPropsNonObject, MapStateToPropsParam } from 'react-redux';\n\n//types\nimport { DeliveryFormProps } from './DeliveryFormTypes';\nimport { langType } from '../../lang';\n\nimport fakeBD from '../../fakeBD';\nimport { langMap } from '../../lang';\n\nimport fieldNames from '../../constants/fieldNames';\nimport { selectValues } from '../../constants/selectValues';\n\nimport { initialFormDataState } from '../../redux/reducers';\nimport { addToFormData, updateAllFieldsOfFormData, clearAllFields } from '../../redux/actions';\nimport { Action } from 'redux';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Header, Content } = Layout;\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst dataSourceActions = {\n  ADD_TO_DATA_SOURCE: 'ADD_TO_DATA_SOURCE'\n};\n\ntype dataSourceReducerTypes = typeof dataSourceActions.ADD_TO_DATA_SOURCE;\ninterface dataSourceReducerAction extends Action<dataSourceReducerTypes> {\n  dataSourceName: string;\n  dataSourceData: string[];\n};\n\nfunction dataSourceReducer(state: any, action: dataSourceReducerAction) {//FIXME\n  switch (action.type) {\n    case dataSourceActions.ADD_TO_DATA_SOURCE: {\n      return {\n        ...state,\n        [action.dataSourceName]: action.dataSourceData\n      }\n    }\n  }\n};\n\n\nconst addToDataSource = (dataSourceName: string, dataSourceData: string[]) => ({ type: dataSourceActions.ADD_TO_DATA_SOURCE, dataSourceName, dataSourceData });\n\n\n\nconst initialDataSourceState: any = {//TODO: add types\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.customerNumber]: [],\n  [fieldNames.phoneNumber]: [],\n  [fieldNames.name]: [],\n  [fieldNames.street]: [],\n  [fieldNames.houseNumber]: [],\n  [fieldNames.plz]: [],\n  [fieldNames.city]: [],\n  [fieldNames.clientComment]: [],\n  [fieldNames.deliveryCost]: []\n};\n\nconst tryToFetchUser = (fieldId: string, fieldValue: string) => fakeBD.customers.find((customer: any) =>  customer[fieldId] && customer[fieldId].toString() === fieldValue);\n\nconst compareTwoObjects = (object1: any, object2: any) => {\n  if (Object.keys(object1).length !== Object.keys(object2).length)\n    return false;\n  for (let [key, value] of Object.entries(object1)) {\n    if (object2[key] !== value)\n      return false;\n  };\n  return true;\n}\n\n\nconst mapDispatchToProps: MapDispatchToPropsNonObject<any, any> = (dispatch) => ({\n  addDataToFormData(id: string, value: string) {\n    dispatch(addToFormData(id, value))\n  },\n  updateFieldsOfFormData(newState: any) {\n    dispatch(updateAllFieldsOfFormData(newState));\n  },\n  clearFields() {\n    dispatch(clearAllFields());\n  }\n});\n\nconst mapStateToProps: MapStateToPropsParam<any, any, any> = (state) => ({ formDataState: state.formDataState, lang: state.languages.lang });\n\nconst DeliveryForm = Form.create<DeliveryFormProps>(\n  { name: 'delivery_form' }\n)(connect(mapStateToProps, mapDispatchToProps)(withRouter((\n  { lang, formDataState, addDataToFormData, clearFields, updateFieldsOfFormData, form: { getFieldDecorator, setFieldsValue, getFieldsValue }, form, history }: any) => {\n\n  const [dataSourceState, dispatchToDataSource] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [dataSourceLiveState, dispatchToDataSourceLive] = useReducer(dataSourceReducer, initialDataSourceState);\n  const [language, setLanguage] = useState(langMap[lang as langType]);\n\n  const onFieldChange = useCallback((id: string, value: string) => {\n    addDataToFormData(id, value);\n  }, [addDataToFormData]);\n\n  const handleSearch = useCallback((arg: string, id: string) => {\n    updateFieldsOfFormData(getFieldsValue());\n    if (!dataSourceState[id].length) {\n      const fetched = fakeBD.customers.map(({ [id]: value }: any) => value && value.toString());\n      dispatchToDataSource(addToDataSource(id, fetched));//TODO: add types\n      dispatchToDataSourceLive(addToDataSource(id, fetched.filter((item: string) => item && item.startsWith(arg))));\n    } else {\n      dispatchToDataSourceLive(addToDataSource(id, dataSourceState[id].filter((item: string) => item && item.startsWith(arg))));\n    }\n  }, [updateFieldsOfFormData, getFieldsValue, dataSourceState, dispatchToDataSource, dispatchToDataSourceLive]);\n\n  const nextPage = useCallback(() => {\n    form.validateFields((err: any) => {\n      if (!err) {\n        history.push(`${ROOT_URL}/finish`);\n      }\n    });\n  }, [form, history]);\n\n  const handleClearClick = useCallback(() => {\n    setFieldsValue(initialFormDataState);\n    clearFields();\n  }, [setFieldsValue, clearFields]);\n\n  const handleSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    nextPage();\n  }, [nextPage]);\n\n  const handleEscDown = useCallback((e: any) => {\n    if (e.key === 'Escape') {\n      handleClearClick();\n    } else if (e.key === 'F2') {\n      nextPage();\n    }\n  }, [handleClearClick, nextPage]);\n\n  const handleEnterDown = useCallback((id: string, value: string) => {\n    const customer = tryToFetchUser(id, value);\n    if (customer) {\n      setFieldsValue(customer);\n      updateFieldsOfFormData(customer);\n    }\n  }, [setFieldsValue, updateFieldsOfFormData]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang as langType]);\n  }, [lang]);\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscDown);\n    return () => window.removeEventListener('keydown', handleEscDown);\n  }, [handleEscDown]);\n\n  useEffect(() => {\n    if (compareTwoObjects(getFieldsValue(), formDataState))\n      return;\n    setFieldsValue(formDataState);\n  }, [formDataState, setFieldsValue, getFieldsValue]);\n\n  return (\n    <Layout>\n      <Header style={{ background: '#fff', marginTop: '24px', height: 'auto', display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-around' }}>\n        <Button type=\"dashed\" size=\"large\">{language.tableOrders}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.selfPickUp}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.sales}</Button>\n        <Button type=\"dashed\" size=\"large\">{language.phoneMonitor}</Button>\n      </Header>\n      <Divider />\n      <Content style={{ margin: '0 16px', background: 'inherit' }}>\n        <div>\n          <Form onSubmit={handleSubmit} onKeyDown={handleEscDown}  {...formItemLayout}>\n            <Card style={{ width: '60%', maxWidth: '500px' }}>\n              <Form.Item label={language.customerNumber}>\n                {getFieldDecorator(fieldNames.customerNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.customerNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.customerNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.customerNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.customerNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.phoneNumber}>\n                {getFieldDecorator(fieldNames.phoneNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер телефона клиента' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.phoneNumber]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.phoneNumber)}\n                    onSelect={(value) => handleEnterDown(fieldNames.phoneNumber, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} autoFocus={true} maxLength={15} id={fieldNames.phoneNumber} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.name}>\n                {getFieldDecorator(fieldNames.name, {\n                  rules: [\n                    { required: true, message: 'Введите имя клиента' }\n                  ]\n                })(\n                  <AutoComplete\n                    dataSource={dataSourceLiveState[fieldNames.name]}\n                    onSearch={(arg) => handleSearch(arg, fieldNames.name)}\n                    onSelect={(value) => handleEnterDown(fieldNames.name, value as string)}\n                  >\n                    <Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.name} />\n                  </AutoComplete>)}\n              </Form.Item>\n              <Form.Item label={language.city}>\n                {getFieldDecorator(fieldNames.city, {\n                  rules: [\n                    { required: true, message: 'Введите название города' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={25} id={fieldNames.city} />)}\n              </Form.Item>\n              <Form.Item label={language.street}>\n                {getFieldDecorator(fieldNames.street, {\n                  rules: [\n                    { required: true, message: 'Введите название улицы' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={30} id={fieldNames.street} />)}\n              </Form.Item>\n              <Form.Item label={language.houseNumber}>\n                {getFieldDecorator(fieldNames.houseNumber, {\n                  rules: [\n                    { required: true, message: 'Введите номер дома' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.houseNumber} />)}\n              </Form.Item>\n              <Form.Item label={language.plz}>\n                {getFieldDecorator(fieldNames.plz, {\n                  rules: [\n                    { required: true, message: 'Введите почтовый индекс' },\n                    { pattern: /[0-9]+/, message: 'Разрешены только цифры' }\n                  ]\n                })(<Input onKeyDown={handleEscDown} maxLength={6} id={fieldNames.plz} />)}\n              </Form.Item>\n              <Form.Item label={language.clientComment}>\n                {getFieldDecorator(fieldNames.clientComment)(\n                  <Input onKeyDown={handleEscDown} maxLength={35} id={fieldNames.clientComment} />)}\n              </Form.Item>\n              <Form.Item label={language.deliveryCost}>\n                {getFieldDecorator(fieldNames.deliveryCost)(\n                  <Select onChange={(value: string) => onFieldChange(fieldNames.deliveryCost, value)} id={fieldNames.deliveryCost}>\n                    {selectValues.map(value => <Option key={value} value={value}>{value}</Option>)}\n                  </Select>)}\n              </Form.Item>\n            </Card>\n            <Divider />\n            <div style={{ display: 'flex', flexFlow: 'row nowrap', justifyContent: 'space-between' }}>\n              <Button type=\"danger\" size=\"large\" onClick={handleClearClick}>{language.clear} / ESC</Button>\n              <Form.Item>\n                <Button htmlType=\"submit\" type=\"primary\" size=\"large\">{language.goToOrder} / F2</Button>\n              </Form.Item>\n            </div>\n          </Form>\n        </div>\n      </Content>\n    </Layout >\n  )\n})));\n\nexport default DeliveryForm;\n","import React, { useState, useEffect } from 'react';\nimport { Form, Icon, Input, Button, Checkbox, Typography, Alert } from 'antd';\nimport { connect, MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\n\nimport './Auth.css';\n\nimport { auth } from '../../fakeBD';\n\nimport { addUser } from '../../redux/actions';\n\nimport { LoginFormProps, LoginFormOwnProps, LoginFormDispatchProps, LoginFormStateProps, LoginFormValues } from './types';\nimport { State } from '../../redux/types';\n\nimport { langMap } from '../../lang';\nimport { FormComponentProps } from 'antd/es/form';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Title } = Typography;\n\nexport const LoginForm = ({ form: { setFieldsValue, getFieldsValue, validateFields, getFieldDecorator }, history, lang, addUser, code, userRole }: LoginFormProps) => {\n  const [errMsg, setErrMsg] = useState('');\n  const [language, setLanguage] = useState(langMap[lang]);\n\n  useEffect(() => {\n    setFieldsValue({ code })\n  }, [setFieldsValue, code]);\n\n  useEffect(() => {\n    if (userRole) {\n      history.push(`${ROOT_URL}/menu`);\n    }\n  }, [history, userRole]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    validateFields((err: any, values: LoginFormValues) => {\n      const user = auth(values.username, values.password);\n      if (!err && user) {\n        addUser(user.role, getFieldsValue().code);\n        history.push(`${ROOT_URL}/menu`);\n      } else if (!user) {\n        setErrMsg('Вы неверно ввели логин или пароль');\n      }\n    });\n  };\n\n    return (\n        <div id=\"components-form-demo-normal-login\">\n        <Form onSubmit={handleSubmit} className=\"login-form\" autoComplete=\"off\">\n            <Title level={4} style={{textAlign: 'center'}}>{language.authTitle}</Title>\n            <Form.Item>\n            {getFieldDecorator('code', {\n                rules: [\n                  { required: true, message: 'Введите код' },\n                { pattern: /[0-9]+/, message: 'Разрешены только цифры'}\n              ],\n            })(\n                <Input\n                autoFocus\n                autoComplete=\"off\"\n                prefix={<Icon type=\"number\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.organizationNumber}\n                />\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('username', {\n                rules: [{ required: true, message: 'Введите имя пользователя' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={language.username}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('password', {\n                rules: [{ required: true, message: 'Введите пароль' }],\n            })(\n                <Input\n                autoComplete=\"off\"\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                type=\"password\"\n                placeholder={language.password}\n                />,\n            )}\n            </Form.Item>\n            <Form.Item>\n            {getFieldDecorator('remember', {\n                valuePropName: 'checked',\n                initialValue: true,\n            })(<Checkbox>{language.autoLogin}</Checkbox>)}\n            {errMsg && <div>\n                <Alert type=\"error\" message={errMsg}/>\n            </div>}\n            <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                {language.login}\n            </Button>\n            </Form.Item>\n        </Form>\n      </div>\n    );\n}\n\nconst mapStatetoProps: MapStateToProps<LoginFormStateProps, LoginFormOwnProps, State> = (state) => {\n  return {\n    lang: state.languages.lang,\n    code: state.user.code,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<LoginFormDispatchProps, LoginFormOwnProps> = (dispatch) => {\n  return {\n    addUser(role: string, code: string) {\n      dispatch(addUser(role, code));\n    }\n  }\n};\n\nexport const Auth = connect(mapStatetoProps, mapDispatchToProps)(Form.create<FormComponentProps<LoginFormOwnProps>>({ name: 'normal_login' })(withRouter<RouteComponentProps<LoginFormOwnProps & LoginFormDispatchProps & LoginFormStateProps, any, any>, any>(LoginForm)));\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { Input, Form } from 'antd';\nimport { connect } from 'react-redux';\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\nimport { SumFormProps } from './SumFormTypes';\nimport { langMap } from '../../../lang';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n    lg: { span: 12 },\n    xl: { span: 12 }\n  },\n};\n\nconst SumForm = Form.create({ name: 'cart' })(connect(mapStateToProps, mapDispatchToProps)(({ lang, form: { getFieldDecorator, setFieldsValue }, addDataToFormData,\n  formDataState: {\n    mwst_7,\n    mwst_19,\n    greichten,\n    zutaten,\n    deliveryCost,\n    discount,\n    total_price\n  } }: SumFormProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const onDeliveryCostChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('deliveryCost', event.target.value)\n  }, [addDataToFormData]);\n\n  const onDiscountChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    addDataToFormData('discount', event.target.value)\n  }, [addDataToFormData]);\n\n  useEffect(() => {//синхронизируем redux-store и форму\n    setFieldsValue({\n      mwst_7,\n      mwst_19,\n      greichten,\n      zutaten,\n      deliveryCost,\n      discount,\n      total_price\n    });\n  }, [mwst_7, mwst_19, greichten, zutaten, deliveryCost, discount, total_price, setFieldsValue]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang]);\n\n  return (\n    <Form {...formItemLayout} className=\"sum-form\">\n      <div className=\"cart__sum\">\n        <div className=\"sum__item sum__item_flex-start\">\n          <Form.Item label={language.tax_7}>\n            {getFieldDecorator('mwst_7')(\n              <Input placeholder={language.tax_7} id=\"mwst_7\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.tax_19}>\n            {getFieldDecorator('mwst_19')(\n              <Input placeholder={language.tax_19} id=\"mwst_19\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n        </div>\n        <div className=\"sum__item\">\n          <Form.Item label={language.articlePrices}>\n            {getFieldDecorator('greichten')(\n              <Input placeholder={language.articlePrices} id=\"greichten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.additions}>\n            {getFieldDecorator('zutaten')(\n              <Input placeholder={language.additions} id=\"zutaten\" disabled suffix=\"€\" />\n            )}\n          </Form.Item>\n          <Form.Item label={language.deliveryCost}>{getFieldDecorator('deliveryCost')(<Input onChange={onDeliveryCostChange} placeholder={language.deliveryCost} suffix=\"€\" />)}</Form.Item>\n          <Form.Item label={`F11 / ${language.discount}`}>{getFieldDecorator('discount')(<Input onChange={onDiscountChange} placeholder={`F11 / ${language.discount}`} suffix=\"%\" />)}</Form.Item>\n          <Form.Item label={language.totalPrice}>{getFieldDecorator('total_price')(<Input id=\"total_price\" placeholder={language.totalPrice} disabled suffix=\"€\" />)}</Form.Item>\n        </div>\n      </div>\n    </Form>\n  )\n}));\n\nexport default SumForm;\n","import { addToFormData } from '../../../redux/actions';\nimport { State } from '../../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { SumFormOwnProps, SumFormStateProps, SumFormDispatchProps } from './SumFormTypes';\n\nexport const mapStateToProps: MapStateToProps<SumFormStateProps, SumFormOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<SumFormDispatchProps, SumFormOwnProps> = (dispatch) => {\n  return {\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport { Table, Icon, Input, Button, Alert } from 'antd';\nimport SumForm from './subcomponents/SumForm';\n\nimport { langMap } from '../../lang';\nimport { findLastIndexOf } from '../../helpers/findLastIndexOf';\nimport fakeBD, { searchProducts } from '../../fakeBD';\n\n//redux actions\nimport { mapStateToProps, mapDispatchToProps } from './reduxProvider';\n\n//types\nimport { RouteComponentProps } from 'react-router';\nimport { CartOwnProps, CartProps, CartDispatchProps, CartStateProps, ActionColumn, TableProduct, TableCart } from './CartTypes';\n\nimport './Cart.css';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst naturalSort: any = require('javascript-natural-sort');//FIXME: добавить тайпинги и сделать импорт\n\nconst proudctsTableScrollParams = { y: 'calc(100vh - 40px - 32px - 75px - 60px - 1px)' };\nconst cartTableScrollParams = { y: 'calc(100vh - 40px - 32px - 75px - 60px - 240px - 1px - 20px)' };\nconst IconStyle = { fontSize: '16px' };\n\nconst selectSearchInputText = (targetElem?: any) => {//функция для выделения текста в поле поиска\n  const target = targetElem || document.querySelector('.cart__products-table .ant-input') as HTMLInputElement;\n  target.focus();\n  target.setRangeText(target.value, 0, target.value.length, 'select');\n};\n\nconst ProductNameRenderer = (name: string) => {//компонент корзины с названием товара/добавки\n  const testStr = name && name.match(/^([+-]{0,1}[0-9]*)(.*)/);\n  if (testStr) {\n    const [, quantity, additionName] = testStr;\n    return (<div className=\"addition\"><span className=\"addition__quantity\">{quantity}</span>{additionName}</div>);\n  }\n  return (name);\n};\n\nconst NullComponent = () => null;//вспомогательный компонент, который ничего не рендерит\n\nconst scrollToCurrentSelectedItem = () => {//функция, которая скроллит до текущего выбранного товара/добавки\n  const curItem = document.querySelector('.cart__products-table_selected');\n  if (curItem) {\n    curItem.scrollIntoView();\n  }\n}\n\nconst scrollToLastItemOfCart = () => {//функция, которая скроллит до последнего элемента корзины\n  const curItem = document.querySelector('.cart__order .ant-table-tbody tr:last-child');\n  if (curItem) {\n    curItem.scrollIntoView();\n  }\n}\n\nfunction Cart({ cartProducts, addDataToFormData, formDataState: { discount = 0 }, formDataState, lang, addProduct, addAddition, incrementProduct, incrementAddition, deleteProduct, deleteAddition, decrementAddition, decrementProduct, history }: CartProps) {\n  const [language, setLanguage] = useState(langMap[lang]);\n  const [products, setProducts] = useState(searchProducts('') as TableProduct[]);\n  const [search, setSearch] = useState('');\n  const [isAlert, setIsAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState({ message: '', description: '' });\n  const [currentSelection, setCurrentSelection] = useState(0);\n  const [currentSelectedProductInCart, setProductInCart] = useState(-1);\n  const [wasImplisitySetted, setWasImplicitySetted] = useState(false);\n\n  useEffect(() => {//если не был установлен руками текущий товар в корзине - ставим последний\n    if (!wasImplisitySetted && cartProducts[cartProducts.length - 1]) {\n      setProductInCart(cartProducts.length - 1);\n    }\n  }, [cartProducts, wasImplisitySetted, setProductInCart]);\n\n  const sortedProducts = useMemo(() => {//сортируем продукты с бека\n    const unsortedProducts = products.sort((a, b) => {\n      if (a.article && b.article) {\n        return naturalSort(a, b);\n      } else if (!a.article && !b.article && a.productName && b.productName) {\n        return a.productName.localeCompare(b.productName);\n      }\n      return 0;\n    });\n    const formattedSearch = search.toLowerCase();\n    let newSelection = 0;\n    for (let product of unsortedProducts) {\n      if ((product.article && product.article.toLowerCase().includes(formattedSearch)) || product.productName.toLowerCase().includes(formattedSearch)) {\n        newSelection = product.id;\n        break;\n      }\n    };\n    setCurrentSelection(newSelection);\n    return unsortedProducts;\n  }, [products, search, setCurrentSelection]);\n\n  const productsWithSelected = useMemo(() => {//обновляем выбранный сейчас товар в таблице с товарами\n    return sortedProducts.map((product, idx) => {\n      product.key = idx.toString();\n      if (product.id === currentSelection) {\n        product.selected = true;\n      } else if (product.selected) {\n        product.selected = undefined;\n      }\n      return product;\n    })\n  }, [sortedProducts, currentSelection]);\n\n  const filteredProducts = useMemo(() => [{ header: 'ПРОДУКТЫ', key: 'ПРОДУКТЫ' }, ...productsWithSelected.filter(({ type }) => type === 'product'), { header: 'ДОБАВКИ', key: 'ДОБАВКИ' }, ...productsWithSelected.filter(({ type }) => type === 'addition')], [productsWithSelected])\n\n  const keyDownListener = useCallback((event: KeyboardEvent) => {//слушаем нажатия Arrow Up и Down и на их основе пушим в currentSelection\n    event.stopPropagation();\n    let newSelectionArticle: typeof currentSelection = currentSelection;\n    const productIndex = sortedProducts.findIndex(({ id }) => id === currentSelection);//находим его индекс в правой таблице\n    if (event.code === 'ArrowUp') {\n      if (productIndex !== 0 && sortedProducts.length !== 1) {//если кроме текущего продукта есть еще другие и текущий продукт не первый\n        const { id } = sortedProducts[productIndex - 1];//выбираем предыдущий продукт\n        newSelectionArticle = id;//устанавливаем предыдущий продукт текущим\n      } else if (sortedProducts[sortedProducts.length - 1]) {\n        const newProduct = sortedProducts[sortedProducts.length - 1];\n        newSelectionArticle = newProduct.id;\n      }\n    } else {//ArrowDown\n      if (sortedProducts.length !== 1) {//если кроме текущего продукта есть еще другие и он не последний\n        newSelectionArticle = sortedProducts[(productIndex + 1) % sortedProducts.length].id;//устанавливаем следующий продукт текущим\n      }\n    }\n    setCurrentSelection(newSelectionArticle);\n  }, [sortedProducts, currentSelection, setCurrentSelection]);\n\n  const onMinusKeyDown = useCallback(() => {//слушаем нажатия клавиши '-' и изменяем товары в корзине на основе этого\n    const currentProduct = sortedProducts.find((product) => product.id === currentSelection);\n    if (!currentProduct) {\n      setAlertMessage({ message: 'Не удалось уменьшить количество продукта/добавки', description: 'Не выбран продукт/добавка' })\n      setIsAlert(true);\n      return;\n    }\n    const typeOfCurrentProduct = currentProduct.type;\n    if (typeOfCurrentProduct === 'addition') {\n      const lastAddedProduct = cartProducts[currentSelectedProductInCart];\n      if (!lastAddedProduct) {\n        setAlertMessage({ message: 'Не удалось уменьшить количество добавки', description: 'В корзине нет продуктов' })\n        setIsAlert(true);\n        return;\n      }\n      const { productName, price, tax } = currentProduct;\n      decrementAddition(currentSelectedProductInCart, currentProduct.id, productName, price, tax);\n    } else if (typeOfCurrentProduct === 'product') {\n      const isProductInCart = findLastIndexOf(cartProducts, ({ id }) => id === currentProduct.id);\n      if (isProductInCart !== -1) {\n        decrementProduct(isProductInCart);\n      } else {\n        setAlertMessage({ message: 'Не удалось уменьшить количество товара', description: 'Товара нет в корзине' });\n        setIsAlert(true);\n      }\n    }\n  }, [cartProducts, currentSelection, decrementAddition, decrementProduct, setIsAlert, setAlertMessage, currentSelectedProductInCart, sortedProducts]);\n\n  const onPlusOrEnterKeyDown = useCallback(() => {//слушаем нажатия '+' и 'enter' и изменяем товары в корзине на основе этого\n    if (isAlert) {\n      setIsAlert(false);\n      return;\n    }\n    const currentProduct = sortedProducts.find(({ id }) => id === currentSelection);\n    if (currentProduct) {\n      const { id, article, productName, price, tax, type } = currentProduct;\n      if (type === 'addition') {\n        const lastAddedProduct = cartProducts[currentSelectedProductInCart];\n        if (lastAddedProduct) {\n          addAddition(currentSelectedProductInCart, id, productName, price, tax);\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'Товаров нет в корзине' });\n          setIsAlert(true);\n        }\n      } else if (type === 'product') {\n        addProduct(id, article, productName, price, tax);// FIXME: Проверка на то, есть ли товар в корзине\n      }\n    }\n    selectSearchInputText();\n  }, [sortedProducts, isAlert, cartProducts, currentSelection, addAddition, addProduct, currentSelectedProductInCart]);\n\n  const onSearchChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {//слушаем изменение строки поиска и убираем оттуда нажатие '-'\n    event.preventDefault();\n    event.stopPropagation();\n    const lastChar = event.target.value.slice(-1);\n    if (lastChar === '-' || lastChar === '+') {\n      setTimeout(() => selectSearchInputText(event.target), 0);//FIXME: разобраться, почему так\n      return;\n    } else {\n      setSearch(event.target.value);\n    }\n  }, [setSearch]);\n\n  const addInProducts = useCallback((id: number) => {//функция добавления товара или добавки в корзину\n    return () => {\n      setCurrentSelection(id);\n      const currentProduct = sortedProducts.find(({ id: productId }) => productId === id);\n      if (!currentProduct) {\n        setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Не выбран продукт/добавка' })\n        setIsAlert(true);\n        return;\n      }\n      const typeOfCurrentProduct = currentProduct.type;\n      const { article, productName, price, tax } = currentProduct;\n      if (typeOfCurrentProduct === 'addition') {\n        const lastAddedProduct = cartProducts[currentSelectedProductInCart];\n        if (lastAddedProduct) {\n          addAddition(currentSelectedProductInCart, id, productName, price, tax);\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'Товаров нет в корзине' });\n          setIsAlert(true);\n        }\n      } else if (typeOfCurrentProduct === 'product') {\n        addProduct(id, article, productName, price, tax);\n      }\n    }\n  }, [sortedProducts, cartProducts, addAddition, addProduct, setIsAlert, setCurrentSelection, currentSelectedProductInCart]);\n\n  const decrementInProducts = useCallback((id: number) => {//функция уменьшения продукта или добавки\n    return () => {\n      setCurrentSelection(id);\n      const currentProduct = sortedProducts.find(({ id: productId }) => productId === id);\n      if (!currentProduct) {\n        setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такого товара/добавки' })\n        setIsAlert(true);\n        return;\n      }\n      const typeOfCurrentProduct = currentProduct.type;\n      const lastAddedProduct = cartProducts[currentSelectedProductInCart];\n      if (typeOfCurrentProduct === 'addition') {\n        const { id, productName, tax, price } = currentProduct;\n        if (lastAddedProduct) {\n          decrementAddition(currentSelectedProductInCart, id, productName, price, tax);\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'В корзине нет товаров' })\n          setIsAlert(true);\n        }\n      } else if (typeOfCurrentProduct === 'product') {\n        if (lastAddedProduct && lastAddedProduct.id === id) {\n          decrementProduct(currentSelectedProductInCart);\n        } else {\n          setAlertMessage({ message: 'Не удалось уменьшить количество товара', description: 'В корзине нет такого товара' })\n          setIsAlert(true);\n        }\n      }\n    }\n  }, [sortedProducts, cartProducts, decrementAddition, decrementProduct, setIsAlert, setAlertMessage, currentSelectedProductInCart]);\n\n  const incrementInCart = useCallback((idx: number, parentIdx?: number) => {//функция добавления товара или добавки в корзину\n    return () => {\n      let currentProduct;\n      if (parentIdx === undefined) {\n        currentProduct = cartProducts[idx];\n      } else {\n        const adds = cartProducts[parentIdx].additions;\n        if (adds !== undefined) {\n          currentProduct = adds[idx];\n        } else {\n          setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки' })\n          setIsAlert(true);\n          return;\n        }\n      }\n      if (!currentProduct) {\n        setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки/товара' })\n        setIsAlert(true);\n        return;\n      }\n      const { id } = currentProduct;\n      if (parentIdx !== undefined) {\n        const lastAddedProduct = cartProducts[parentIdx];\n        if (lastAddedProduct) {\n          incrementAddition(parentIdx, id);\n        } else {\n          setAlertMessage({ message: 'Не удалось выбрать добавку', description: 'Товаров нет в корзине' });\n          setIsAlert(true);\n        }\n      } else {\n        incrementProduct(idx);\n      }\n\n    }\n  }, [sortedProducts, cartProducts, addAddition, addProduct, setIsAlert, setCurrentSelection, currentSelectedProductInCart]);\n\n  const decrementInCart = useCallback((idx: number, parentIdx?: number) => {//функция уменьшения продукта или добавки\n    return () => {\n      let currentProduct;\n      if (parentIdx === undefined) {\n        currentProduct = cartProducts[idx]\n      } else {\n        const adds = cartProducts[parentIdx].additions;\n        if (adds !== undefined) {\n          currentProduct = adds[idx];\n        } else {\n          setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки' })\n          setIsAlert(true);\n          return;\n        }\n      }\n      if (!currentProduct) {\n        setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки/товара' })\n        setIsAlert(true);\n        return;\n      }\n      if (parentIdx !== undefined) {\n        const { id, productName, tax, price } = currentProduct;\n        if (parentIdx !== undefined) {\n          decrementAddition(parentIdx, id, productName, price, tax);\n        }\n      } else  {\n        decrementProduct(idx);\n      } \n    }\n  }, [sortedProducts, cartProducts, decrementAddition, decrementProduct, setIsAlert, setAlertMessage, currentSelectedProductInCart]);\n\n  const deleteInCart = useCallback((idx: number, parentIdx?: number) => {//функция удаления продукта или добавки из корзины\n    return () => {\n      let currentProduct;\n      if (parentIdx === undefined) {\n        currentProduct = cartProducts[idx]\n      } else {\n        const adds = cartProducts[parentIdx].additions;\n        if (adds !== undefined) {\n          currentProduct = adds[idx];\n        } else {\n          setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки' })\n          setIsAlert(true);\n          return;\n        }\n      }\n      if (!currentProduct) {\n        setAlertMessage({ message: 'Не удалось ничего добавить', description: 'Нет такой добавки/товара' })\n        setIsAlert(true);\n        return;\n      }\n      const { id } = currentProduct;\n      if (parentIdx !== -1 && parentIdx !== undefined) {\n        deleteAddition(parentIdx, id);\n      } else {\n        deleteProduct(idx);\n      }\n    }\n  }, [deleteAddition, deleteProduct, cartProducts, setCurrentSelection]);\n\n  const onBackButtonClick = useCallback(() => {//функция на нажатие кнопки назад\n    history.push(`${ROOT_URL}/menu`)\n  }, [history]);\n\n  const TableRow = useCallback(function TableRow(props: any) {//строка таблицы с товарами для выбора. Нужна для установки выбранным товара\n    let id: number = 0, parentId: number = 0, idx = -1, parentIdx: number | undefined;\n    const isSelected = props.children.find(({ props: { record: { selected } } }: any) => selected);\n    const isHeader = props.children.find(({ props: { record: { header } } }: any) => header);\n    const isInCart = props.children.find(({ props: { record: { cart } } }: any) => cart);\n    props.children.forEach(({ props: { record: { id: recordId, parentId: recordParentId, idx: recordIdx, parentIdx: recordParentIdx } } }: any) => {\n      id = recordId;\n      parentId = recordParentId\n      idx = recordIdx;\n      parentIdx = recordParentIdx;\n    });\n    return (\n      <tr /*onClick={isInCart ? () => { setProductInCart(idx); setWasImplicitySetted(true); } : () => null}*/ onDoubleClick={isInCart ? incrementInCart(idx, parentIdx) : addInProducts(id)} className={`${props.className} ${isHeader ? 'cart__table-header' : ''} ${isSelected ? \"cart__products-table_selected\" : \"\"}`}>\n        {isHeader ? props.children[0].props.record.header : props.children}\n      </tr>\n    )\n  }, [/*setProductInCart, setWasImplicitySetted*/incrementInCart, addInProducts]);\n\n  const customTableComponents = useMemo(() => ({ body: { row: TableRow } }), [TableRow]);//передается в prop components компонента Table чтобы использовать свою строку вместо дефолтной\n\n  //мемоизируем кнопки\n  const DecrementInCartIcon = useCallback(({ parentIdx, idx }: ActionColumn) => <Icon style={IconStyle} type=\"minus-square\" onClick={decrementInCart(idx, parentIdx)} />, [decrementInCart]);\n  const IncrementInCartIcon = useCallback(({ parentIdx, idx }: ActionColumn) => <Icon style={IconStyle} type=\"plus-square\" onClick={incrementInCart(idx, parentIdx)} />, [incrementInCart]);\n  const DeleteInCartIcon = useCallback(({ parentIdx, idx }: ActionColumn) => <Icon style={IconStyle} type=\"close-square\" onClick={deleteInCart(idx, parentIdx)} />, [deleteInCart]);\n  const DecrementInProductsIcon = useCallback(({ id }: ActionColumn) => <Icon style={IconStyle} type=\"minus-square\" onClick={decrementInProducts(id)} />, [decrementInCart]);\n  const AddInProductsIcon = useCallback(({ id }: ActionColumn) => <Icon style={IconStyle} type=\"plus-square\" onClick={addInProducts(id)} />, [incrementInCart]);\n\n  const onFreeDeliveryClick = useCallback(() => addDataToFormData('deliveryCost', '0'), [addDataToFormData]);\n\n  const onAlertClose = useCallback(() => setIsAlert(false), [setIsAlert]);//функция на закрытие предупреждения по крестику\n\n  const allKeyDown = useCallback((event: KeyboardEvent) => {//функция-слушатель нажатия на кнопки\n    if (event.code === 'F4') {\n      onBackButtonClick();\n    } else if (event.code === 'F5') {\n      onFreeDeliveryClick();\n    } else if (event.code === 'ArrowUp' || event.code === 'ArrowDown') {\n      keyDownListener(event);\n    } else if (event.key === '+' || event.code === 'Enter') {\n      onPlusOrEnterKeyDown();\n    } else if (event.key === '-') {\n      onMinusKeyDown();\n    }\n  }, [onBackButtonClick, onFreeDeliveryClick, keyDownListener, onPlusOrEnterKeyDown, onMinusKeyDown]);\n\n  useEffect(() => {//слушаем события нажатия кнопок\n    window.addEventListener('keydown', allKeyDown);\n    return () => {\n      window.removeEventListener('keydown', allKeyDown);\n    }\n  }, [allKeyDown]);\n\n  useEffect(() => {//изменяем язык при смене языка\n    setLanguage(langMap[lang]);\n    /* fix бага с переключением языка по нажатию ArrowUp или ArrowDown */\n    const selected: HTMLElement | null = document.querySelector('.cart__products-table .ant-input');\n    if (selected) {\n      selected.focus()\n    }\n  }, [lang]);\n\n  const cartProductsSum = useMemo(() => {//считаем сумму продуктов и дополнений на каждое изменение продуктов\n    let cartProductsProductsSum = 0;\n    let cartProductsAdditionsSum = 0;\n    cartProducts.forEach(product => {\n      cartProductsProductsSum += product.price * product.quantity;\n      let additionsSum = 0;\n      if (Array.isArray(product.additions)) {\n        product.additions.forEach(child => {\n          additionsSum += child.price * child.quantity;\n        });\n        cartProductsAdditionsSum += additionsSum >= 0 ? additionsSum : 0;\n      }\n    })\n    return {\n      cartProductsProductsSum,\n      cartProductsAdditionsSum\n    };\n  }, [cartProducts]);\n\n  useEffect(() => {//обновляем значения вычисляемых полей\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    addDataToFormData('greichten', cartProductsProductsSum.toString());\n\n    addDataToFormData('zutaten', cartProductsAdditionsSum.toString());\n\n    addDataToFormData('mwst_7', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.07 * 100) / 100).toString());\n\n    addDataToFormData('mwst_19', (Math.round((cartProductsProductsSum + cartProductsAdditionsSum) * 0.19 * 100) / 100).toString());\n  }, [cartProductsSum, addDataToFormData]);\n\n  useEffect(() => {//вычисляем общую цену\n    const { cartProductsProductsSum, cartProductsAdditionsSum } = cartProductsSum\n    const deliveryCost = parseFloat(formDataState.deliveryCost) | 0;\n    const newTotalPrice = (deliveryCost + (((100 - (discount > 100 ? 0 : discount)) / 100)) * (cartProductsProductsSum + cartProductsAdditionsSum)).toString();\n    if (newTotalPrice !== formDataState['total_price']) {\n      addDataToFormData('total_price', newTotalPrice);\n    }\n  }, [cartProductsSum, discount, formDataState, addDataToFormData]);\n\n  const columns1 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'article',\n      key: 'articleView',\n    },\n    {\n      title: language.quantity,\n      dataIndex: 'quantity',\n      key: 'quantity',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'viewName',\n      width: '60%',\n      key: 'productName',\n      render: ProductNameRenderer\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'deleteFromCart',\n      render: DeleteInCartIcon\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementInCartIcon\n    },\n    {\n      key: 'incrementToCart',\n      render: IncrementInCartIcon\n    }\n  ], [language, DeleteInCartIcon, DecrementInCartIcon, IncrementInCartIcon]);\n\n  const columns2 = useMemo(() => [\n    {\n      title: language.article,\n      dataIndex: 'article',\n      key: 'articleView',\n    },\n    {\n      title: language.productName,\n      dataIndex: 'productName',\n      key: 'productName',\n    },\n    {\n      title: language.price,\n      dataIndex: 'price',\n      key: 'price',\n    },\n    {\n      key: 'decrementFromCart',\n      render: DecrementInProductsIcon\n\n    },\n    {\n      key: 'incrementToCart',\n      render: AddInProductsIcon\n    }\n  ], [DecrementInCartIcon, AddInProductsIcon, language]);\n\n  const cartProductsWithKeys = useMemo(() => {//проставляем ключи продуктам с бека\n    return cartProducts.map((item, idx) => {\n      const additions = (Array.isArray(item.additions)) ? item.additions.map((child, childIdx) => Object.assign({}, {\n        ...child,\n        viewName: `${child.quantity > 0 ? '+' : ''}${child.quantity} ${child.productName}`,\n        key: item.id + ':' + child.id + idx,\n        quantity: undefined,\n        parentIdx: idx,\n        parentId: item.id,\n        idx: childIdx,\n        cart: true\n      })) : undefined;\n      return (Object.assign({}, {\n        ...item,\n        key: (item.id && (item.id.toString() + idx.toString())) || '0',\n        viewName: item.productName,\n        children: additions,\n        idx,\n        cart: true\n      }))\n    });\n  }, [cartProducts]);\n\n  const productsExpandedRowKeys = useMemo(() => sortedProducts.map(({ article }) => {\n    if (article) {\n      return article;\n    }\n    return '0';\n  }), [sortedProducts]);\n\n  useEffect(() => {//проверяем не вышли ли мы за пределы области видимости. Если вышли - скроллимся\n    const container = document.querySelector('.cart__order .ant-table-body');\n    const curItem = document.querySelector('.cart__order .ant-table-tbody tr:last-child');\n    if (container && curItem) {\n      const containerRect = container.getBoundingClientRect();\n      const curItemRect = curItem.getBoundingClientRect();\n      if (containerRect.bottom <= curItemRect.bottom || containerRect.top >= curItemRect.top) {\n        const timeoutId = setTimeout(scrollToLastItemOfCart, 0);\n        return () => clearTimeout(timeoutId);\n      }\n    }\n  });\n\n  useEffect(() => {//проверяем не вышли ли мы за пределы области видимости. Если вышли - скроллимся\n    const container = document.querySelector('.cart__products-table .ant-table-body');\n    const curItem = document.querySelector('.cart__products-table_selected');\n    if (container && curItem) {\n      const containerRect = container.getBoundingClientRect();\n      const curItemRect = curItem.getBoundingClientRect();\n      if (containerRect.bottom <= curItemRect.bottom || containerRect.top >= curItemRect.top) {\n        const timeoutId = setTimeout(scrollToCurrentSelectedItem, 0);\n        return () => clearTimeout(timeoutId);\n      }\n    }\n  }, [currentSelection]);\n\n  const cartProductsExpandedRowKeys = useMemo(() => cartProductsWithKeys.map(({ key }) => {\n    if (key) {\n      return key.toString();\n    }\n    return '0';\n  }), [cartProductsWithKeys]);\n\n  return (\n    <div className=\"cart\">\n      {isAlert && <Alert\n        className=\"warning\"\n        message={alertMessage.message}\n        description={alertMessage.description}\n        type=\"error\"\n        closable\n        onClose={onAlertClose}\n      />}\n      <div className=\"cart__tables\">\n        <div className=\"cart__order-table\">\n          <div className=\"cart__order\">\n            <Input placeholder={language.comment} />\n            <Table components={customTableComponents} expandIcon={NullComponent} pagination={false} scroll={cartTableScrollParams} bordered expandedRowKeys={cartProductsExpandedRowKeys} defaultExpandAllRows columns={columns1} dataSource={cartProductsWithKeys} />\n          </div>\n          <SumForm />\n        </div>\n        <div className=\"cart__products-table\">\n          <Input value={search} prefix={<Icon type=\"search\" />} onChange={onSearchChange} autoFocus />\n          <Table components={customTableComponents} pagination={false} scroll={proudctsTableScrollParams} bordered expandIcon={NullComponent} expandedRowKeys={productsExpandedRowKeys} defaultExpandAllRows columns={columns2} dataSource={filteredProducts} />\n        </div>\n      </div>\n      <div className=\"cart__buttons\">\n        <Button type=\"danger\" size=\"large\" onClick={onBackButtonClick}>{language.back} / F4</Button>\n        <Button type=\"dashed\" size=\"large\" onClick={onFreeDeliveryClick}>{language.freeDelivery} / F5</Button>\n        <Button type=\"primary\" size=\"large\">{language.print} / F2</Button>\n      </div>\n    </div>\n  )\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter<RouteComponentProps<CartDispatchProps & CartOwnProps & CartStateProps>, any>(Cart));\n","import {\n  addProductToCart,\n  addAdditionToProductInCart,\n  incrementQuantityOfProductInCart,\n  decrementQuantityOfProductInCart,\n  incrementQuantityOfAdditionOfProduct,\n  decrementQuantityOfAdditionOfProduct,\n  deleteProductFromCart,\n  deleteAdditionOfProductFromCart,\n  addToFormData\n} from '../../redux/actions';\nimport { State } from '../../redux/types';\nimport { MapDispatchToPropsFunction, MapStateToProps } from 'react-redux';\nimport { CartOwnProps, CartDispatchProps, CartStateProps } from './CartTypes';\n\n\nexport const mapStateToProps: MapStateToProps<CartStateProps, CartOwnProps, State> = (state) => {\n  return {\n    cartProducts: state.cartProducts,\n    formDataState: state.formDataState,\n    lang: state.languages.lang\n  }\n};\n\n\n\nexport const mapDispatchToProps: MapDispatchToPropsFunction<CartDispatchProps, CartOwnProps> = (dispatch) => {\n  return {\n    addProduct(id: number, article: string, productName: string, price: number, tax: '7' | '19') {\n      dispatch(addProductToCart(id, article, productName, price, tax));\n    },\n    addAddition(productIdx: number, additionId: number, additionName: string, additionPrice: number, additionTax: '7' | '19') {\n      dispatch(addAdditionToProductInCart(productIdx, additionId, additionName, additionPrice, additionTax));\n    },\n    deleteProduct(productIdx: number) {\n      dispatch(deleteProductFromCart(productIdx));\n    },\n    deleteAddition(productIdx: number, additionId: number) {\n      dispatch(deleteAdditionOfProductFromCart(productIdx, additionId));\n    },\n    incrementProduct(productIdx: number) {\n      dispatch(incrementQuantityOfProductInCart(productIdx));\n    },\n    decrementProduct(productIdx: number) {\n      dispatch(decrementQuantityOfProductInCart(productIdx));\n    },\n    incrementAddition(productIdx: number, additionId: number) {\n      dispatch(incrementQuantityOfAdditionOfProduct(productIdx, additionId));\n    },\n    decrementAddition(productIdx: number, additionId: number, productName: string, price: number, tax: '7' | '19') {\n      dispatch(decrementQuantityOfAdditionOfProduct(productIdx, additionId, productName, price, tax));\n    },\n    addDataToFormData(id: string, value: string) {\n      dispatch(addToFormData(id, value))\n    },\n  }\n};\n","export function findLastIndexOf<T>(arr: T[], fn: (item: T) => boolean): number {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    if (fn(arr[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Menu, Icon, Typography, Radio } from 'antd';\nimport { RadioChangeEvent } from 'antd/lib/radio';\nimport { withRouter } from 'react-router-dom';\nimport { RouteComponentProps } from 'react-router';\nimport { connect, MapStateToProps, MapDispatchToPropsFunction } from 'react-redux';\n\nimport './Menu.css';\n\nimport { langMap } from '../../lang';\nimport { logoutUser, changeLanguage } from '../../redux/actions';\n\nimport { State } from '../../redux/types';\nimport { MenuPageProps, MenuPageStateProps, MenuPageDispatchProps, MenuPageOwnProps } from './types';\nimport { ClickParam } from 'antd/lib/menu';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nconst { Text } = Typography;\n\nconst MenuPage = ({ lang, userRole, logoutFromUser, changeLang, history, collapsed }: MenuPageProps) => {\n  const [language, setLanguage] = useState(langMap[lang]);\n\n  useEffect(() => {\n    setLanguage(langMap[lang]);\n  }, [lang, setLanguage]);\n\n  const logout = useCallback((e: ClickParam) => {\n    logoutFromUser();\n    history.push(`${ROOT_URL}/`);\n  }, [logoutFromUser, history]);\n\n  const handleLangChange = useCallback((e: RadioChangeEvent) => {\n    const { target: { value } } = e;\n    changeLang(value);\n  }, [changeLang]);\n\n  return (<div className=\"menu\">\n    <Menu style={{ height: '100vh' }} defaultSelectedKeys={['2']} mode=\"inline\">\n      <Menu.Item disabled>\n        <Icon type=\"tag\" />\n        {!collapsed && <Radio.Group value={lang} onChange={handleLangChange}>\n          <Radio.Button value=\"ru\">ru</Radio.Button>\n          <Radio.Button value=\"de\">de</Radio.Button>\n        </Radio.Group>}\n      </Menu.Item>\n      <Menu.Item key=\"1\" onClick={logout} className=\"logout-button\">\n        <Icon type=\"logout\" />\n        <span>{language.logout}</span>\n      </Menu.Item>\n      <Menu.Item key=\"2\">\n        <Icon type=\"phone\" />\n        <span>{language.callForm}</span>\n      </Menu.Item>\n      <Menu.Item key=\"3\">\n        <Icon type=\"shopping-cart\" />\n        <span>{language.allOrders}</span>\n      </Menu.Item>\n      <Menu.Item key=\"4\">\n        <Icon type=\"dashboard\" />\n        <span>{language.cookingMonitor}</span>\n      </Menu.Item>\n      <Menu.Item key=\"5\">\n        <Icon type=\"car\" />\n        <span>{language.carMonitor}</span>\n      </Menu.Item>\n      <Menu.Item key=\"6\">\n        <Icon type=\"bar-chart\" />\n        <span>{language.report}</span>\n      </Menu.Item>\n      <Menu.Item key=\"7\">\n        <Icon type=\"setting\" />\n        <span>{language.settings}</span>\n      </Menu.Item>\n      <Menu.Item key=\"8\">\n        <Icon type=\"question-circle\" />\n        <span>{language.help}</span>\n      </Menu.Item>\n    </Menu>\n    <Text style={{ textAlign: 'center', paddingBottom: '20px', borderRight: '1px solid #e8e8e8' }}>{userRole}</Text>\n  </div>);\n};\n\nconst mapStatetoProps: MapStateToProps<MenuPageStateProps, MenuPageOwnProps, State> = (state) => {\n  return {\n    lang: state.languages.lang,\n    userRole: state.user.role\n  }\n};\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<MenuPageDispatchProps, MenuPageOwnProps> = (dispatch) => ({\n  logoutFromUser() {\n    dispatch(logoutUser());\n  },\n  changeLang(lang: 'ru' | 'de') {\n    dispatch(changeLanguage(lang));\n  }\n});\n\nexport const LeftMenu = connect(\n  mapStatetoProps,\n  mapDispatchToProps\n)(withRouter<RouteComponentProps<MenuPageDispatchProps & MenuPageOwnProps & MenuPageStateProps>, any>(MenuPage));//FIXME\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { Route } from \"react-router-dom\";\n\nimport { Layout } from 'antd';\nimport DeliveryForm from '../../components/DeliveryForm';\n\nimport { withRouter } from 'react-router-dom';\nimport { connect} from 'react-redux';\n\n//types\n\nimport { Auth } from '../../components/Auth';\nimport Cart from '../../components/Cart';\nimport { LeftMenu } from '../../components/LeftMenu';\n\nimport { ROOT_URL } from '../../constants/rootUrl';\n\nimport { RouteComponentProps } from 'react-router';\nimport { MapStateToProps } from 'react-redux';\n\nimport { State } from '../../redux/types';\nimport { AppOwnProps, AppStateProps, AppProps } from './AppTypes';\n\nconst { Sider } = Layout;\n\nconst App = ({ userRole, history }: AppProps) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  useEffect(() => {\n    if (!userRole) {\n      history.push(`${ROOT_URL}/`);\n    }\n  }, [userRole, history]);\n\n  const handleCollapse = useCallback((collapsed: boolean) => {\n    setCollapsed(collapsed);\n  }, [setCollapsed]);\n\n  return (\n    <Layout style={{ minHeight: '100vh','--left-menu-width': collapsed ? '80px' : '200px' } as any}>\n      {window.location.pathname !==  `${ROOT_URL}/` && <Sider collapsible onCollapse={handleCollapse} theme=\"light\" style={{\n        overflow: 'auto',\n        height: '100vh',\n        left: 0,\n      }}>\n        <LeftMenu collapsed={collapsed}/>\n    </Sider>}\n          <Route path={`${ROOT_URL}/menu`} component={DeliveryForm} />\n          <Route path={`${ROOT_URL}/index.html`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/`} exact component={Auth} />\n          <Route path={`${ROOT_URL}/finish`} component={Cart} />\n    </Layout>\n  );\n};\n\nconst mapStatetoProps: MapStateToProps<AppStateProps, AppOwnProps, State> = (state) => {\n  return {\n    userRole: state.user.role\n  }\n};\n\nexport default connect(\n  mapStatetoProps\n)(withRouter<RouteComponentProps<AppOwnProps & AppStateProps>, any>(App));//FIXME\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\n\nimport store from './redux';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <Router>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}